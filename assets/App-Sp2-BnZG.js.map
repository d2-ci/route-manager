{"version":3,"file":"App-Sp2-BnZG.js","sources":["../../../../node_modules/@dhis2/prop-types/build/es/requiredIf.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronDown16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronDown24.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronLeft16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronRight16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronUp24.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Delete16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/DragHandle24.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Edit16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Launch16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/More24.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Search16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Share16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/UserGroup24.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/World24.js","../../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../node_modules/final-form/dist/final-form.es.js","../../../../node_modules/react-final-form/dist/react-final-form.es.js","../../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox-icon.js","../../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createBlurHandler.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createChangeHandler.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createFocusHandler.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/hasError.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/getValidationText.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/isLoading.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/isValid.js","../../../../node_modules/@dhis2/ui-forms/build/es/shared/propTypes.js","../../../../node_modules/@dhis2/ui-forms/build/es/locales/index.js","../../../../node_modules/@dhis2/ui-forms/build/es/InputFieldFF/InputFieldFF.js","../../../../node_modules/@dhis2-ui/select/build/es/select/debounce/debounce.js","../../../../node_modules/@dhis2-ui/select/build/es/select/input-wrapper.js","../../../../node_modules/@dhis2-ui/select/build/es/select/menu-wrapper.js","../../../../node_modules/@dhis2-ui/select/build/es/select/select.js","../../../../node_modules/@dhis2-ui/select/build/es/select/loading.js","../../../../node_modules/@dhis2-ui/select/build/es/select/filter-input.js","../../../../node_modules/@dhis2-ui/select/build/es/select/no-match.js","../../../../node_modules/@dhis2-ui/select/build/es/select/option-helpers.js","../../../../node_modules/@dhis2-ui/select/build/es/select/filterable-menu.js","../../../../node_modules/@dhis2-ui/select/build/es/select/empty.js","../../../../node_modules/@dhis2-ui/tooltip/build/es/tooltip.js","../../../../node_modules/@dhis2-ui/select/build/es/select/input-clear-button.js","../../../../node_modules/@dhis2-ui/select/build/es/select/input-placeholder.js","../../../../node_modules/@dhis2-ui/select/build/es/select/input-prefix.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select/menu.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select/filterable-menu.js","../../../../node_modules/@dhis2-ui/chip/build/es/content.js","../../../../node_modules/@dhis2-ui/chip/build/es/icon.js","../../../../node_modules/@dhis2-ui/chip/build/es/remove.js","../../../../node_modules/@dhis2-ui/chip/build/es/chip.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select/selection-list.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select/input.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select/multi-select.js","../../../../node_modules/@dhis2-ui/select/build/es/locales/index.js","../../../../node_modules/@dhis2-ui/select/build/es/multi-select-option/multi-select-option.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select/menu.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select/filterable-menu.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select/selection.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select/input.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select/single-select.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select-field/single-select-field.js","../../../../node_modules/@dhis2-ui/select/build/es/single-select-option/single-select-option.js","../../../../node_modules/@dhis2-ui/switch/build/es/switch/switch-icons.js","../../../../node_modules/@dhis2-ui/switch/build/es/switch/switch.js","../../../../node_modules/@dhis2-ui/text-area/build/es/text-area/text-area.styles.js","../../../../node_modules/@dhis2-ui/text-area/build/es/text-area/text-area.js","../../../../node_modules/@dhis2-ui/text-area/build/es/text-area-field/text-area-field.js","../../../../node_modules/@dhis2/ui-forms/build/es/validators/helpers/index.js","../../../../node_modules/@dhis2/ui-forms/build/es/validators/composeValidators.js","../../../../node_modules/@dhis2/ui-forms/build/es/validators/hasValue.js","../../../../node_modules/@dhis2/ui-forms/build/es/validators/url.js","../../../../node_modules/@dhis2-ui/css/build/es/css-variables/css-variables.js","../../../../node_modules/@dhis2/app-service-data/build/es/react/hooks/useQueryExecutor.js","../../../../node_modules/@dhis2/app-service-data/build/es/react/hooks/useDataMutation.js","../../../../node_modules/@dhis2-ui/popover/build/es/get-arrow-position.js","../../../../node_modules/@dhis2-ui/popover/build/es/arrow.js","../../../../node_modules/@dhis2-ui/popover/build/es/modifiers.js","../../../../node_modules/@dhis2-ui/popover/build/es/popover.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/constants.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/fetching-context/fetching-context.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/helpers/helpers.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/locales/index.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/modal/modal.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab/tab.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/animated-side-scroll.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/detect-horizontal-scrollbar-height.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/scroll-button.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/scroll-bar.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/tabs.js","../../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/tab-bar.js","../../../../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../../../node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../../../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../../../node_modules/@juggle/resize-observer/lib/utils/element.js","../../../../node_modules/@juggle/resize-observer/lib/utils/global.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../../../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../../../node_modules/@juggle/resize-observer/lib/utils/process.js","../../../../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../../../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../../../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../../../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../../../../node_modules/@react-hook/passive-layout-effect/dist/module/index.js","../../../../node_modules/@react-hook/latest/dist/module/index.js","../../../../node_modules/@react-hook/resize-observer/dist/module/index.js","../../../../node_modules/@react-hook/size/dist/module/index.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/autocomplete/menu-popup.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/autocomplete/autocomplete.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/autocomplete/sharing-autocomplete.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/text/title.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/access-add/access-add.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/destructive-select-option/destructive-select-option.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/access-list/list-item-context.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/access-list/list-item-icon.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/access-list/list-item.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/access-list/access-list.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/helpers.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/result-info.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/update-info.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/controls.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/static-info.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/cascade-sharing/cascade-sharing.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/tabs/tabbed-content.js","../../../../node_modules/@dhis2-ui/sharing-dialog/build/es/sharing-dialog.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-context.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-body.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-head.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-cell-head.js","../../../../node_modules/@dhis2-ui/table/build/es/table/table-row.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-body.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-data-cell/table-data-cell.styles.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-data-cell/table-data-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell/table-header-cell.styles.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell/table-header-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell-action.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-head.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-row.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-scroll-box.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/data-table-column-header.styles.js","../../../../node_modules/@dhis2-ui/table/build/es/locales/index.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/filter-handle.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/sorter.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/data-table-column-header.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/data-table-row.styles.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/drag-handle-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/expand-handle-cell.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/expanded-row.js","../../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/data-table-row.js","../../src/D2App/locales/index.js","../../../../node_modules/cookie/dist/index.js","../../../../node_modules/react-router/dist/development/chunk-HA7DTUK3.mjs","../../src/D2App/components/route-creation/AuthoritiesSelect.tsx","../../src/D2App/components/route-creation/CustomHeadersAdmin.tsx","../../src/D2App/components/route-creation/RouteAuthAdmin.tsx","../../src/D2App/components/route-creation/UpsertRoute.tsx","../../src/D2App/TestRoute.tsx","../../src/D2App/components/route-list/RouteActions.tsx","../../src/D2App/components/route-list/RoutesTable.tsx","../../src/D2App/components/route-list/RoutesList.tsx","../../src/D2App/App.tsx"],"sourcesContent":["import propTypes from 'prop-types';\n\nconst isEmpty = value => typeof value === 'undefined' || value === null || value === '';\n\nconst requiredIfFactory = (condition, propType, isRequired) => (props, propName, componentName) => {\n  const propValue = props[propName]; // Usage errors\n\n  if (isRequired) {\n    return new Error(`Property \\`${propName}\\` on component \\`${componentName}\\` is using the \\`requiredIf\\` prop-validator combined with \\`.isRequired\\`. This is an invalid combination.`);\n  }\n\n  if (typeof condition !== 'function') {\n    return new Error(`The \\`condition\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  }\n\n  if (typeof propType !== 'function') {\n    return new Error(`The \\`propType\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  } // Validation errors\n\n\n  if (condition(props) && isEmpty(propValue)) {\n    return new Error(`Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`, this prop is conditionally required but has value \\`${propValue}\\`. The condition that made this prop required is: \\`${condition.toString()}\\`.`);\n  } // This is how to programatically invoke a propTypes check\n  // https://github.com/facebook/prop-types#proptypescheckproptypes\n\n\n  propTypes.checkPropTypes({\n    [propName]: propType\n  }, props, 'prop', componentName);\n  return null;\n};\n/**\n * Ensure the prop has a value (i.e. treat it as required) when a given sibling prop\n * also has a value, and ensure the prop is of the correct prop-type\n * @param {function} siblingPropName - The name of the sibling prop\n * @return {Error|null} Returns null if all conditions are met, or an error\n * @example\n * import React from 'react'\n * import { requiredIf } from '@dhis2/prop-types'\n *\n * const Test = ({ someBool, someString }) => (\n *     <div>\n *         <h1>someBool: {someBool ? 'true' : 'false'}</h1>\n *         <h1>someString: {someString}</h1>\n *     </div>\n * )\n * Test.propTypes = {\n *     someBool: propTypes.bool,\n *     someString: requiredIf(props => props.someBool, propTypes.string),\n * }\n */\n\n\nexport function requiredIf(condition, propType) {\n  const fn = requiredIfFactory(condition, propType, false);\n  fn.isRequired = requiredIfFactory(condition, propType, true);\n  return fn;\n}","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgChevronDown16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgChevronDown16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgChevronDown16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgChevronDown24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.293 15.707a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293a1 1 0 00-1.414 1.414z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgChevronDown24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgChevronDown24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgChevronLeft16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgChevronLeft16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgChevronLeft16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgChevronRight16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgChevronRight16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgChevronRight16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgChevronUp24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.293 8.293a1 1 0 011.32-.083l.094.083 5 5a1 1 0 01-1.32 1.497l-.094-.083L12 10.415l-4.293 4.292a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgChevronUp24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgChevronUp24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgDelete16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.5 3a.5.5 0 110 1H13v10a1 1 0 01-1 1H4a1 1 0 01-1-1V4h-.5a.5.5 0 010-1zM12 4H4v10h8zM7 6v6H6V6zm3 0v6H9V6zm-.5-5a.5.5 0 010 1h-3a.5.5 0 010-1z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgDelete16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgDelete16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgDragHandle24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 16a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\nSvgDragHandle24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgDragHandle24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgEdit16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.613 2.624l.094.083 2.586 2.586a1 1 0 01.083 1.32l-.083.094L6 14H2v-4l7.293-7.293a1 1 0 011.32-.083zm-.613.79l-6.793 6.792 2.585 2.585L12.586 6z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgEdit16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgEdit16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgLaunch16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 2v1H3v10h10V9h1v4a1 1 0 01-1 1H3a1 1 0 01-1-1V3a1 1 0 011-1zm7.5-1a.5.5 0 01.492.41L15 1.5v5a.5.5 0 01-.992.09L14 6.5V2.706L7.354 9.354a.5.5 0 01-.765-.638l.057-.07L13.292 2H9.5a.5.5 0 01-.492-.41L9 1.5a.5.5 0 01.41-.492L9.5 1z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgLaunch16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgLaunch16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgMore24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 10a2 2 0 110 4 2 2 0 010-4zm7 0a2 2 0 110 4 2 2 0 010-4zm7 0a2 2 0 110 4 2 2 0 010-4z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\nSvgMore24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgMore24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgSearch16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 1a5 5 0 013.871 8.164l4.483 4.482-.708.708L9.164 9.87A5 5 0 116 1zm0 1a4 4 0 100 8 4 4 0 000-8z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgSearch16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgSearch16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgShare16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 1a2.5 2.5 0 11-1.913 4.11l.024.027-3.73 2.098a2.498 2.498 0 01-.003 1.539l.003-.009 3.73 2.098-.024.027a2.5 2.5 0 11-.465.837l-.003.008L5.39 9.636l.023-.026a2.5 2.5 0 110-3.22l-.024-.027 3.73-2.098A2.5 2.5 0 0111.5 1zm0 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-8-4.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm8-4.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgShare16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgShare16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgUserGroup24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 15a4 4 0 014 4v2H7v-2a4 4 0 014-4zm0 2h-2a2 2 0 00-1.995 1.85L9 19h6a2 2 0 00-1.85-1.995zM7 9v2H6a2 2 0 00-1.995 1.85L4 13h3v2H2v-2a4 4 0 014-4zm11 0a4 4 0 014 4v2h-5v-2h3a2 2 0 00-1.85-1.995L18 11h-1V9zm-6-1a3 3 0 110 6 3 3 0 010-6zm0 2a1 1 0 100 2 1 1 0 000-2zM7 2a3 3 0 110 6 3 3 0 010-6zm10 0a3 3 0 110 6 3 3 0 010-6zM7 4a1 1 0 100 2 1 1 0 000-2zm10 0a1 1 0 100 2 1 1 0 000-2z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgUserGroup24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgUserGroup24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgWorld24(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 3a9 9 0 110 18 9 9 0 010-18zm0 2a6.967 6.967 0 00-3.848 1.152l.494.494a.5.5 0 00.708 0l.5-.5A.5.5 0 0110.207 6h.859a.5.5 0 01.416.777l-1.434 2.15a.5.5 0 00-.069.157l-.384 1.537A.5.5 0 019.11 11H8.5a.5.5 0 01-.5-.5V10a.414.414 0 00-.707-.293l-.94.94a.5.5 0 000 .707l1.5 1.5a.5.5 0 00.354.146h1.484a.5.5 0 01.447.276l.75 1.5a.5.5 0 010 .448L9.275 18.45c.838.354 1.759.55 2.725.55a6.968 6.968 0 004.026-1.273.43.43 0 01-.026-.152V15.36a.5.5 0 00-.342-.474l-2.184-.728a.5.5 0 01-.316-.632l.728-2.184A.5.5 0 0114.36 11h4.57a6.951 6.951 0 00-.712-2.218l-.928.928a.5.5 0 01-.631.063l-2.243-1.496a.5.5 0 01-.139-.693l1.133-1.699A6.968 6.968 0 0012 5zm-7 7.009a6.98 6.98 0 002.435 5.298l-.398-1.195a.5.5 0 00-.12-.195l-.77-.77A.5.5 0 016 14.792v-1.586a.5.5 0 00-.146-.353l-.797-.797z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgWorld24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgWorld24;","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n//      \n\nvar charCodeOfDot = \".\".charCodeAt(0);\nvar reEscapeChar = /\\\\(\\\\)?/g;\nvar rePropName = RegExp(\n// Match anything that isn't a dot or bracket.\n\"[^.[\\\\]]+\" + \"|\" +\n// Or match property names within brackets.\n\"\\\\[(?:\" +\n// Match a non-string expression.\n\"([^\\\"'][^[]*)\" + \"|\" +\n// Or match strings (supports escaping characters).\n\"([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2\" + \")\\\\]\" + \"|\" +\n// Or match \"\" as the space between consecutive dots or empty brackets.\n\"(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))\", \"g\");\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  if (string.charCodeAt(0) === charCodeOfDot) {\n    result.push(\"\");\n  }\n  string.replace(rePropName, function (match, expression, quote, subString) {\n    var key = match;\n    if (quote) {\n      key = subString.replace(reEscapeChar, \"$1\");\n    } else if (expression) {\n      key = expression.trim();\n    }\n    result.push(key);\n  });\n  return result;\n};\nvar keysCache = {};\nvar keysRegex = /[.[\\]]+/;\nvar toPath = function toPath(key) {\n  if (key === null || key === undefined || !key.length) {\n    return [];\n  }\n  if (typeof key !== \"string\") {\n    throw new Error(\"toPath() expects a string\");\n  }\n  if (keysCache[key] == null) {\n    /**\n     * The following patch fixes issue 456, introduced since v4.20.3:\n     *\n     * Before v4.20.3, i.e. in v4.20.2, a `key` like 'choices[]' would map to ['choices']\n     * (e.g. an array of choices used where 'choices[]' is name attribute of an input of type checkbox).\n     *\n     * Since v4.20.3, a `key` like 'choices[]' would map to ['choices', ''] which is wrong and breaks\n     * this kind of inputs e.g. in React.\n     *\n     * v4.20.3 introduced an unwanted breaking change, this patch fixes it, see the issue at the link below.\n     *\n     * @see https://github.com/final-form/final-form/issues/456\n     */\n    if (key.endsWith(\"[]\")) {\n      // v4.20.2 (a `key` like 'choices[]' should map to ['choices'], which is fine).\n      keysCache[key] = key.split(keysRegex).filter(Boolean);\n    } else {\n      // v4.20.3 (a `key` like 'choices[]' maps to ['choices', ''], which breaks applications relying on inputs like `<input type=\"checkbox\" name=\"choices[]\" />`).\n      keysCache[key] = stringToPath(key);\n    }\n  }\n  return keysCache[key];\n};\n\n//      \nvar getIn = function getIn(state, complexKey) {\n  // Intentionally using iteration rather than recursion\n  var path = toPath(complexKey);\n  var current = state;\n  for (var i = 0; i < path.length; i++) {\n    var key = path[i];\n    if (current === undefined || current === null || typeof current !== \"object\" || Array.isArray(current) && isNaN(key)) {\n      return undefined;\n    }\n    current = current[key];\n  }\n  return current;\n};\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar setInRecursor = function setInRecursor(current, index, path, value, destroyArrays) {\n  if (index >= path.length) {\n    // end of recursion\n    return value;\n  }\n  var key = path[index];\n\n  // determine type of key\n  if (isNaN(key)) {\n    var _extends2;\n    // object set\n    if (current === undefined || current === null) {\n      var _ref;\n      // recurse\n      var _result = setInRecursor(undefined, index + 1, path, value, destroyArrays);\n\n      // delete or create an object\n      return _result === undefined ? undefined : (_ref = {}, _ref[key] = _result, _ref);\n    }\n    if (Array.isArray(current)) {\n      throw new Error(\"Cannot set a non-numeric property on an array\");\n    }\n    // current exists, so make a copy of all its values, and add/update the new one\n    var _result2 = setInRecursor(current[key], index + 1, path, value, destroyArrays);\n    if (_result2 === undefined) {\n      var numKeys = Object.keys(current).length;\n      if (current[key] === undefined && numKeys === 0) {\n        // object was already empty\n        return undefined;\n      }\n      if (current[key] !== undefined && numKeys <= 1) {\n        // only key we had was the one we are deleting\n        if (!isNaN(path[index - 1]) && !destroyArrays) {\n          // we are in an array, so return an empty object\n          return {};\n        } else {\n          return undefined;\n        }\n      }\n      current[key];\n        var _final = _objectWithoutPropertiesLoose(current, [key].map(_toPropertyKey));\n      return _final;\n    }\n    // set result in key\n    return _extends({}, current, (_extends2 = {}, _extends2[key] = _result2, _extends2));\n  }\n  // array set\n  var numericKey = Number(key);\n  if (current === undefined || current === null) {\n    // recurse\n    var _result3 = setInRecursor(undefined, index + 1, path, value, destroyArrays);\n\n    // if nothing returned, delete it\n    if (_result3 === undefined) {\n      return undefined;\n    }\n\n    // create an array\n    var _array = [];\n    _array[numericKey] = _result3;\n    return _array;\n  }\n  if (!Array.isArray(current)) {\n    throw new Error(\"Cannot set a numeric property on an object\");\n  }\n  // recurse\n  var existingValue = current[numericKey];\n  var result = setInRecursor(existingValue, index + 1, path, value, destroyArrays);\n\n  // current exists, so make a copy of all its values, and add/update the new one\n  var array = [].concat(current);\n  if (destroyArrays && result === undefined) {\n    array.splice(numericKey, 1);\n    if (array.length === 0) {\n      return undefined;\n    }\n  } else {\n    array[numericKey] = result;\n  }\n  return array;\n};\nvar setIn = function setIn(state, key, value, destroyArrays) {\n  if (destroyArrays === void 0) {\n    destroyArrays = false;\n  }\n  if (state === undefined || state === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(state) + \" state\");\n  }\n  if (key === undefined || key === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(key) + \" key\");\n  }\n  // Recursive function needs to accept and return State, but public API should\n  // only deal with Objects\n  return setInRecursor(state, 0, toPath(key), value, destroyArrays);\n};\n\nvar FORM_ERROR = \"FINAL_FORM/form-error\";\nvar ARRAY_ERROR = \"FINAL_FORM/array-error\";\n\n//      \n\n\n/**\n * Converts internal field state to published field state\n */\nfunction publishFieldState(formState, field) {\n  var errors = formState.errors,\n    initialValues = formState.initialValues,\n    lastSubmittedValues = formState.lastSubmittedValues,\n    submitErrors = formState.submitErrors,\n    submitFailed = formState.submitFailed,\n    submitSucceeded = formState.submitSucceeded,\n    submitting = formState.submitting,\n    values = formState.values;\n  var active = field.active,\n    blur = field.blur,\n    change = field.change,\n    data = field.data,\n    focus = field.focus,\n    modified = field.modified,\n    modifiedSinceLastSubmit = field.modifiedSinceLastSubmit,\n    name = field.name,\n    touched = field.touched,\n    validating = field.validating,\n    visited = field.visited;\n  var value = getIn(values, name);\n  var error = getIn(errors, name);\n  if (error && error[ARRAY_ERROR]) {\n    error = error[ARRAY_ERROR];\n  }\n  var submitError = submitErrors && getIn(submitErrors, name);\n  var initial = initialValues && getIn(initialValues, name);\n  var pristine = field.isEqual(initial, value);\n  var dirtySinceLastSubmit = !!(lastSubmittedValues && !field.isEqual(getIn(lastSubmittedValues, name), value));\n  var valid = !error && !submitError;\n  return {\n    active: active,\n    blur: blur,\n    change: change,\n    data: data,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    error: error,\n    focus: focus,\n    initial: initial,\n    invalid: !valid,\n    length: Array.isArray(value) ? value.length : undefined,\n    modified: modified,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    name: name,\n    pristine: pristine,\n    submitError: submitError,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitting: submitting,\n    touched: touched,\n    valid: valid,\n    value: value,\n    visited: visited,\n    validating: validating\n  };\n}\n\n//      \nvar fieldSubscriptionItems = [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"value\", \"visited\", \"validating\"];\n\n//      \n\nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n};\n\n//      \nfunction subscriptionFilter (dest, src, previous, subscription, keys, shallowEqualKeys) {\n  var different = false;\n  keys.forEach(function (key) {\n    if (subscription[key]) {\n      dest[key] = src[key];\n      if (!previous || (~shallowEqualKeys.indexOf(key) ? !shallowEqual(src[key], previous[key]) : src[key] !== previous[key])) {\n        different = true;\n      }\n    }\n  });\n  return different;\n}\n\n//      \nvar shallowEqualKeys$1 = [\"data\"];\n\n/**\n * Filters items in a FieldState based on a FieldSubscription\n */\nvar filterFieldState = function filterFieldState(state, previousState, subscription, force) {\n  var result = {\n    blur: state.blur,\n    change: state.change,\n    focus: state.focus,\n    name: state.name\n  };\n  var different = subscriptionFilter(result, state, previousState, subscription, fieldSubscriptionItems, shallowEqualKeys$1) || !previousState;\n  return different || force ? result : undefined;\n};\n\n//      \nvar formSubscriptionItems = [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitting\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"];\n\n//      \nvar shallowEqualKeys = [\"touched\", \"visited\"];\n\n/**\n * Filters items in a FormState based on a FormSubscription\n */\nfunction filterFormState(state, previousState, subscription, force) {\n  var result = {};\n  var different = subscriptionFilter(result, state, previousState, subscription, formSubscriptionItems, shallowEqualKeys) || !previousState;\n  return different || force ? result : undefined;\n}\n\n//      \nvar memoize = function memoize(fn) {\n  var lastArgs;\n  var lastResult;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (!lastArgs || args.length !== lastArgs.length || args.some(function (arg, index) {\n      return !shallowEqual(lastArgs[index], arg);\n    })) {\n      lastArgs = args;\n      lastResult = fn.apply(void 0, args);\n    }\n    return lastResult;\n  };\n};\n\nvar isPromise = (function (obj) {\n  return !!obj && (typeof obj === \"object\" || typeof obj === \"function\") && typeof obj.then === \"function\";\n});\n\nvar version = \"4.20.10\";\n\nvar configOptions = [\"debug\", \"initialValues\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"validate\", \"validateOnBlur\"];\nvar tripleEquals = function tripleEquals(a, b) {\n  return a === b;\n};\nvar hasAnyError = function hasAnyError(errors) {\n  return Object.keys(errors).some(function (key) {\n    var value = errors[key];\n    if (value && typeof value === \"object\" && !(value instanceof Error)) {\n      return hasAnyError(value);\n    }\n    return typeof value !== \"undefined\";\n  });\n};\nfunction convertToExternalFormState(_ref) {\n  var active = _ref.active,\n    dirtySinceLastSubmit = _ref.dirtySinceLastSubmit,\n    modifiedSinceLastSubmit = _ref.modifiedSinceLastSubmit,\n    error = _ref.error,\n    errors = _ref.errors,\n    initialValues = _ref.initialValues,\n    pristine = _ref.pristine,\n    submitting = _ref.submitting,\n    submitFailed = _ref.submitFailed,\n    submitSucceeded = _ref.submitSucceeded,\n    submitError = _ref.submitError,\n    submitErrors = _ref.submitErrors,\n    valid = _ref.valid,\n    validating = _ref.validating,\n    values = _ref.values;\n  return {\n    active: active,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    error: error,\n    errors: errors,\n    hasSubmitErrors: !!(submitError || submitErrors && hasAnyError(submitErrors)),\n    hasValidationErrors: !!(error || hasAnyError(errors)),\n    invalid: !valid,\n    initialValues: initialValues,\n    pristine: pristine,\n    submitting: submitting,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitError: submitError,\n    submitErrors: submitErrors,\n    valid: valid,\n    validating: validating > 0,\n    values: values\n  };\n}\nfunction notifySubscriber(subscriber, subscription, state, lastState, filter, force) {\n  var notification = filter(state, lastState, subscription, force);\n  if (notification) {\n    subscriber(notification);\n    return true;\n  }\n  return false;\n}\nfunction notify(_ref2, state, lastState, filter, force) {\n  var entries = _ref2.entries;\n  Object.keys(entries).forEach(function (key) {\n    var entry = entries[Number(key)];\n    // istanbul ignore next\n    if (entry) {\n      var subscription = entry.subscription,\n        subscriber = entry.subscriber,\n        notified = entry.notified;\n      if (notifySubscriber(subscriber, subscription, state, lastState, filter, force || !notified)) {\n        entry.notified = true;\n      }\n    }\n  });\n}\nfunction createForm(config) {\n  if (!config) {\n    throw new Error(\"No config specified\");\n  }\n  var debug = config.debug,\n    destroyOnUnregister = config.destroyOnUnregister,\n    keepDirtyOnReinitialize = config.keepDirtyOnReinitialize,\n    initialValues = config.initialValues,\n    mutators = config.mutators,\n    onSubmit = config.onSubmit,\n    validate = config.validate,\n    validateOnBlur = config.validateOnBlur;\n  if (!onSubmit) {\n    throw new Error(\"No onSubmit function specified\");\n  }\n  var state = {\n    subscribers: {\n      index: 0,\n      entries: {}\n    },\n    fieldSubscribers: {},\n    fields: {},\n    formState: {\n      asyncErrors: {},\n      dirtySinceLastSubmit: false,\n      modifiedSinceLastSubmit: false,\n      errors: {},\n      initialValues: initialValues && _extends({}, initialValues),\n      invalid: false,\n      pristine: true,\n      submitting: false,\n      submitFailed: false,\n      submitSucceeded: false,\n      resetWhileSubmitting: false,\n      valid: true,\n      validating: 0,\n      values: initialValues ? _extends({}, initialValues) : {}\n    },\n    lastFormState: undefined\n  };\n  var inBatch = 0;\n  var validationPaused = false;\n  var validationBlocked = false;\n  var preventNotificationWhileValidationPaused = false;\n  var nextAsyncValidationKey = 0;\n  var asyncValidationPromises = {};\n  var clearAsyncValidationPromise = function clearAsyncValidationPromise(key) {\n    return function (result) {\n      delete asyncValidationPromises[key];\n      return result;\n    };\n  };\n  var changeValue = function changeValue(state, name, mutate) {\n    var before = getIn(state.formState.values, name);\n    var after = mutate(before);\n    state.formState.values = setIn(state.formState.values, name, after) || {};\n  };\n  var renameField = function renameField(state, from, to) {\n    if (state.fields[from]) {\n      var _extends2, _extends3;\n      state.fields = _extends({}, state.fields, (_extends2 = {}, _extends2[to] = _extends({}, state.fields[from], {\n        name: to,\n        // rebind event handlers\n        blur: function blur() {\n          return api.blur(to);\n        },\n        change: function change(value) {\n          return api.change(to, value);\n        },\n        focus: function focus() {\n          return api.focus(to);\n        },\n        lastFieldState: undefined\n      }), _extends2));\n      delete state.fields[from];\n      state.fieldSubscribers = _extends({}, state.fieldSubscribers, (_extends3 = {}, _extends3[to] = state.fieldSubscribers[from], _extends3));\n      delete state.fieldSubscribers[from];\n      var value = getIn(state.formState.values, from);\n      state.formState.values = setIn(state.formState.values, from, undefined) || {};\n      state.formState.values = setIn(state.formState.values, to, value);\n      delete state.lastFormState;\n    }\n  };\n\n  // bind state to mutators\n  var getMutatorApi = function getMutatorApi(key) {\n    return function () {\n      // istanbul ignore next\n      if (mutators) {\n        // ^^ causes branch coverage warning, but needed to appease the Flow gods\n        var mutatableState = {\n          formState: state.formState,\n          fields: state.fields,\n          fieldSubscribers: state.fieldSubscribers,\n          lastFormState: state.lastFormState\n        };\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var returnValue = mutators[key](args, mutatableState, {\n          changeValue: changeValue,\n          getIn: getIn,\n          renameField: renameField,\n          resetFieldState: api.resetFieldState,\n          setIn: setIn,\n          shallowEqual: shallowEqual\n        });\n        state.formState = mutatableState.formState;\n        state.fields = mutatableState.fields;\n        state.fieldSubscribers = mutatableState.fieldSubscribers;\n        state.lastFormState = mutatableState.lastFormState;\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n        return returnValue;\n      }\n    };\n  };\n  var mutatorsApi = mutators ? Object.keys(mutators).reduce(function (result, key) {\n    result[key] = getMutatorApi(key);\n    return result;\n  }, {}) : {};\n  var runRecordLevelValidation = function runRecordLevelValidation(setErrors) {\n    var promises = [];\n    if (validate) {\n      var errorsOrPromise = validate(_extends({}, state.formState.values)); // clone to avoid writing\n      if (isPromise(errorsOrPromise)) {\n        promises.push(errorsOrPromise.then(function (errors) {\n          return setErrors(errors, true);\n        }));\n      } else {\n        setErrors(errorsOrPromise, false);\n      }\n    }\n    return promises;\n  };\n  var getValidators = function getValidators(field) {\n    return Object.keys(field.validators).reduce(function (result, index) {\n      var validator = field.validators[Number(index)]();\n      if (validator) {\n        result.push(validator);\n      }\n      return result;\n    }, []);\n  };\n  var runFieldLevelValidation = function runFieldLevelValidation(field, setError) {\n    var promises = [];\n    var validators = getValidators(field);\n    if (validators.length) {\n      var error;\n      validators.forEach(function (validator) {\n        var errorOrPromise = validator(getIn(state.formState.values, field.name), state.formState.values, validator.length === 0 || validator.length === 3 ? publishFieldState(state.formState, state.fields[field.name]) : undefined);\n        if (errorOrPromise && isPromise(errorOrPromise)) {\n          field.validating = true;\n          var promise = errorOrPromise.then(function (error) {\n            if (state.fields[field.name]) {\n              state.fields[field.name].validating = false;\n              setError(error);\n            }\n          }); // errors must be resolved, not rejected\n          promises.push(promise);\n        } else if (!error) {\n          // first registered validator wins\n          error = errorOrPromise;\n        }\n      });\n      setError(error);\n    }\n    return promises;\n  };\n  var runValidation = function runValidation(fieldChanged, callback) {\n    if (validationPaused) {\n      validationBlocked = true;\n      callback();\n      return;\n    }\n    var fields = state.fields,\n      formState = state.formState;\n    var safeFields = _extends({}, fields);\n    var fieldKeys = Object.keys(safeFields);\n    if (!validate && !fieldKeys.some(function (key) {\n      return getValidators(safeFields[key]).length;\n    })) {\n      callback();\n      return; // no validation rules\n    }\n\n    // pare down field keys to actually validate\n    var limitedFieldLevelValidation = false;\n    if (fieldChanged) {\n      var changedField = safeFields[fieldChanged];\n      if (changedField) {\n        var validateFields = changedField.validateFields;\n        if (validateFields) {\n          limitedFieldLevelValidation = true;\n          fieldKeys = validateFields.length ? validateFields.concat(fieldChanged) : [fieldChanged];\n        }\n      }\n    }\n    var recordLevelErrors = {};\n    var asyncRecordLevelErrors = {};\n    var fieldLevelErrors = {};\n    var promises = [].concat(runRecordLevelValidation(function (errors, wasAsync) {\n      if (wasAsync) {\n        asyncRecordLevelErrors = errors || {};\n      } else {\n        recordLevelErrors = errors || {};\n      }\n    }), fieldKeys.reduce(function (result, name) {\n      return result.concat(runFieldLevelValidation(fields[name], function (error) {\n        fieldLevelErrors[name] = error;\n      }));\n    }, []));\n    var hasAsyncValidations = promises.length > 0;\n    var asyncValidationPromiseKey = ++nextAsyncValidationKey;\n    var promise = Promise.all(promises).then(clearAsyncValidationPromise(asyncValidationPromiseKey));\n\n    // backwards-compat: add promise to submit-blocking promises iff there are any promises to await\n    if (hasAsyncValidations) {\n      asyncValidationPromises[asyncValidationPromiseKey] = promise;\n    }\n    var processErrors = function processErrors(afterAsync) {\n      var merged = _extends({}, limitedFieldLevelValidation ? formState.errors : {}, recordLevelErrors, afterAsync ? asyncRecordLevelErrors // new async errors\n      : formState.asyncErrors);\n      var forEachError = function forEachError(fn) {\n        fieldKeys.forEach(function (name) {\n          if (fields[name]) {\n            // make sure field is still registered\n            // field-level errors take precedent over record-level errors\n            var recordLevelError = getIn(recordLevelErrors, name);\n            var errorFromParent = getIn(merged, name);\n            var hasFieldLevelValidation = getValidators(safeFields[name]).length;\n            var fieldLevelError = fieldLevelErrors[name];\n            fn(name, hasFieldLevelValidation && fieldLevelError || validate && recordLevelError || (!recordLevelError && !limitedFieldLevelValidation ? errorFromParent : undefined));\n          }\n        });\n      };\n      forEachError(function (name, error) {\n        merged = setIn(merged, name, error) || {};\n      });\n      forEachError(function (name, error) {\n        if (error && error[ARRAY_ERROR]) {\n          var existing = getIn(merged, name);\n          var copy = [].concat(existing);\n          copy[ARRAY_ERROR] = error[ARRAY_ERROR];\n          merged = setIn(merged, name, copy);\n        }\n      });\n      if (!shallowEqual(formState.errors, merged)) {\n        formState.errors = merged;\n      }\n      if (afterAsync) {\n        formState.asyncErrors = asyncRecordLevelErrors;\n      }\n      formState.error = recordLevelErrors[FORM_ERROR];\n    };\n    if (hasAsyncValidations) {\n      // async validations are running, ensure validating is true before notifying\n      state.formState.validating++;\n      callback();\n    }\n\n    // process sync errors\n    processErrors(false);\n    // sync errors have been set. notify listeners while we wait for others\n    callback();\n    if (hasAsyncValidations) {\n      var afterPromise = function afterPromise() {\n        state.formState.validating--;\n        callback();\n        // field async validation may affect formState validating\n        // so force notifyFormListeners if validating is still 0 after callback finished\n        // and lastFormState validating is true\n        if (state.formState.validating === 0 && state.lastFormState.validating) {\n          notifyFormListeners();\n        }\n      };\n      promise.then(function () {\n        if (nextAsyncValidationKey > asyncValidationPromiseKey) {\n          // if this async validator has been superseded by another, ignore its results\n          return;\n        }\n        processErrors(true);\n      }).then(afterPromise, afterPromise);\n    }\n  };\n  var notifyFieldListeners = function notifyFieldListeners(name) {\n    if (inBatch) {\n      return;\n    }\n    var fields = state.fields,\n      fieldSubscribers = state.fieldSubscribers,\n      formState = state.formState;\n    var safeFields = _extends({}, fields);\n    var notifyField = function notifyField(name) {\n      var field = safeFields[name];\n      var fieldState = publishFieldState(formState, field);\n      var lastFieldState = field.lastFieldState;\n      field.lastFieldState = fieldState;\n      var fieldSubscriber = fieldSubscribers[name];\n      if (fieldSubscriber) {\n        notify(fieldSubscriber, fieldState, lastFieldState, filterFieldState, lastFieldState === undefined);\n      }\n    };\n    if (name) {\n      notifyField(name);\n    } else {\n      Object.keys(safeFields).forEach(notifyField);\n    }\n  };\n  var markAllFieldsTouched = function markAllFieldsTouched() {\n    Object.keys(state.fields).forEach(function (key) {\n      state.fields[key].touched = true;\n    });\n  };\n  var hasSyncErrors = function hasSyncErrors() {\n    return !!(state.formState.error || hasAnyError(state.formState.errors));\n  };\n  var calculateNextFormState = function calculateNextFormState() {\n    var fields = state.fields,\n      formState = state.formState,\n      lastFormState = state.lastFormState;\n    var safeFields = _extends({}, fields);\n    var safeFieldKeys = Object.keys(safeFields);\n\n    // calculate dirty/pristine\n    var foundDirty = false;\n    var dirtyFields = safeFieldKeys.reduce(function (result, key) {\n      var dirty = !safeFields[key].isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n      if (dirty) {\n        foundDirty = true;\n        result[key] = true;\n      }\n      return result;\n    }, {});\n    var dirtyFieldsSinceLastSubmit = safeFieldKeys.reduce(function (result, key) {\n      // istanbul ignore next\n      var nonNullLastSubmittedValues = formState.lastSubmittedValues || {}; // || {} is for flow, but causes branch coverage complaint\n      if (!safeFields[key].isEqual(getIn(formState.values, key), getIn(nonNullLastSubmittedValues, key))) {\n        result[key] = true;\n      }\n      return result;\n    }, {});\n    formState.pristine = !foundDirty;\n    formState.dirtySinceLastSubmit = !!(formState.lastSubmittedValues && Object.values(dirtyFieldsSinceLastSubmit).some(function (value) {\n      return value;\n    }));\n    formState.modifiedSinceLastSubmit = !!(formState.lastSubmittedValues &&\n    // Object.values would treat values as mixed (facebook/flow#2221)\n    Object.keys(safeFields).some(function (value) {\n      return safeFields[value].modifiedSinceLastSubmit;\n    }));\n    formState.valid = !formState.error && !formState.submitError && !hasAnyError(formState.errors) && !(formState.submitErrors && hasAnyError(formState.submitErrors));\n    var nextFormState = convertToExternalFormState(formState);\n    var _safeFieldKeys$reduce = safeFieldKeys.reduce(function (result, key) {\n        result.modified[key] = safeFields[key].modified;\n        result.touched[key] = safeFields[key].touched;\n        result.visited[key] = safeFields[key].visited;\n        return result;\n      }, {\n        modified: {},\n        touched: {},\n        visited: {}\n      }),\n      modified = _safeFieldKeys$reduce.modified,\n      touched = _safeFieldKeys$reduce.touched,\n      visited = _safeFieldKeys$reduce.visited;\n    nextFormState.dirtyFields = lastFormState && shallowEqual(lastFormState.dirtyFields, dirtyFields) ? lastFormState.dirtyFields : dirtyFields;\n    nextFormState.dirtyFieldsSinceLastSubmit = lastFormState && shallowEqual(lastFormState.dirtyFieldsSinceLastSubmit, dirtyFieldsSinceLastSubmit) ? lastFormState.dirtyFieldsSinceLastSubmit : dirtyFieldsSinceLastSubmit;\n    nextFormState.modified = lastFormState && shallowEqual(lastFormState.modified, modified) ? lastFormState.modified : modified;\n    nextFormState.touched = lastFormState && shallowEqual(lastFormState.touched, touched) ? lastFormState.touched : touched;\n    nextFormState.visited = lastFormState && shallowEqual(lastFormState.visited, visited) ? lastFormState.visited : visited;\n    return lastFormState && shallowEqual(lastFormState, nextFormState) ? lastFormState : nextFormState;\n  };\n  var callDebug = function callDebug() {\n    return debug && \"development\" !== \"production\" && debug(calculateNextFormState(), Object.keys(state.fields).reduce(function (result, key) {\n      result[key] = state.fields[key];\n      return result;\n    }, {}));\n  };\n  var notifying = false;\n  var scheduleNotification = false;\n  var notifyFormListeners = function notifyFormListeners() {\n    if (notifying) {\n      scheduleNotification = true;\n    } else {\n      notifying = true;\n      callDebug();\n      if (!inBatch && !(validationPaused && preventNotificationWhileValidationPaused)) {\n        var lastFormState = state.lastFormState;\n        var nextFormState = calculateNextFormState();\n        if (nextFormState !== lastFormState) {\n          state.lastFormState = nextFormState;\n          notify(state.subscribers, nextFormState, lastFormState, filterFormState);\n        }\n      }\n      notifying = false;\n      if (scheduleNotification) {\n        scheduleNotification = false;\n        notifyFormListeners();\n      }\n    }\n  };\n  var beforeSubmit = function beforeSubmit() {\n    return Object.keys(state.fields).some(function (name) {\n      return state.fields[name].beforeSubmit && state.fields[name].beforeSubmit() === false;\n    });\n  };\n  var afterSubmit = function afterSubmit() {\n    return Object.keys(state.fields).forEach(function (name) {\n      return state.fields[name].afterSubmit && state.fields[name].afterSubmit();\n    });\n  };\n  var resetModifiedAfterSubmit = function resetModifiedAfterSubmit() {\n    return Object.keys(state.fields).forEach(function (key) {\n      return state.fields[key].modifiedSinceLastSubmit = false;\n    });\n  };\n\n  // generate initial errors\n  runValidation(undefined, function () {\n    notifyFormListeners();\n  });\n  var api = {\n    batch: function batch(fn) {\n      inBatch++;\n      fn();\n      inBatch--;\n      notifyFieldListeners();\n      notifyFormListeners();\n    },\n    blur: function blur(name) {\n      var fields = state.fields,\n        formState = state.formState;\n      var previous = fields[name];\n      if (previous) {\n        // can only blur registered fields\n        delete formState.active;\n        fields[name] = _extends({}, previous, {\n          active: false,\n          touched: true\n        });\n        if (validateOnBlur) {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        } else {\n          notifyFieldListeners();\n          notifyFormListeners();\n        }\n      }\n    },\n    change: function change(name, value) {\n      var fields = state.fields,\n        formState = state.formState;\n      if (getIn(formState.values, name) !== value) {\n        changeValue(state, name, function () {\n          return value;\n        });\n        var previous = fields[name];\n        if (previous) {\n          // only track modified for registered fields\n          fields[name] = _extends({}, previous, {\n            modified: true,\n            modifiedSinceLastSubmit: !!formState.lastSubmittedValues\n          });\n        }\n        if (validateOnBlur) {\n          notifyFieldListeners();\n          notifyFormListeners();\n        } else {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        }\n      }\n    },\n    get destroyOnUnregister() {\n      return !!destroyOnUnregister;\n    },\n    set destroyOnUnregister(value) {\n      destroyOnUnregister = value;\n    },\n    focus: function focus(name) {\n      var field = state.fields[name];\n      if (field && !field.active) {\n        state.formState.active = name;\n        field.active = true;\n        field.visited = true;\n        notifyFieldListeners();\n        notifyFormListeners();\n      }\n    },\n    mutators: mutatorsApi,\n    getFieldState: function getFieldState(name) {\n      var field = state.fields[name];\n      return field && field.lastFieldState;\n    },\n    getRegisteredFields: function getRegisteredFields() {\n      return Object.keys(state.fields);\n    },\n    getState: function getState() {\n      return calculateNextFormState();\n    },\n    initialize: function initialize(data) {\n      var fields = state.fields,\n        formState = state.formState;\n      var safeFields = _extends({}, fields);\n      var values = typeof data === \"function\" ? data(formState.values) : data;\n      if (!keepDirtyOnReinitialize) {\n        formState.values = values;\n      }\n      /**\n       * Hello, inquisitive code reader! Thanks for taking the time to dig in!\n       *\n       * The following code is the way it is to allow for non-registered deep\n       * field values to be set via initialize()\n       */\n\n      // save dirty values\n      var savedDirtyValues = keepDirtyOnReinitialize ? Object.keys(safeFields).reduce(function (result, key) {\n        var field = safeFields[key];\n        var pristine = field.isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n        if (!pristine) {\n          result[key] = getIn(formState.values, key);\n        }\n        return result;\n      }, {}) : {};\n      // update initalValues and values\n      formState.initialValues = values;\n      formState.values = values;\n      // restore the dirty values\n      Object.keys(savedDirtyValues).forEach(function (key) {\n        formState.values = setIn(formState.values, key, savedDirtyValues[key]) || {};\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n    isValidationPaused: function isValidationPaused() {\n      return validationPaused;\n    },\n    pauseValidation: function pauseValidation(preventNotification) {\n      if (preventNotification === void 0) {\n        preventNotification = true;\n      }\n      validationPaused = true;\n      preventNotificationWhileValidationPaused = preventNotification;\n    },\n    registerField: function registerField(name, subscriber, subscription, fieldConfig) {\n      if (subscription === void 0) {\n        subscription = {};\n      }\n      if (!state.fieldSubscribers[name]) {\n        state.fieldSubscribers[name] = {\n          index: 0,\n          entries: {}\n        };\n      }\n      var index = state.fieldSubscribers[name].index++;\n\n      // save field subscriber callback\n      state.fieldSubscribers[name].entries[index] = {\n        subscriber: memoize(subscriber),\n        subscription: subscription,\n        notified: false\n      };\n\n      // create initial field state if not exists\n      var field = state.fields[name] || {\n        active: false,\n        afterSubmit: fieldConfig && fieldConfig.afterSubmit,\n        beforeSubmit: fieldConfig && fieldConfig.beforeSubmit,\n        data: fieldConfig && fieldConfig.data || {},\n        isEqual: fieldConfig && fieldConfig.isEqual || tripleEquals,\n        lastFieldState: undefined,\n        modified: false,\n        modifiedSinceLastSubmit: false,\n        name: name,\n        touched: false,\n        valid: true,\n        validateFields: fieldConfig && fieldConfig.validateFields,\n        validators: {},\n        validating: false,\n        visited: false\n      };\n      // Mutators can create a field in order to keep the field states\n      // We must update this field when registerField is called afterwards\n      field.blur = field.blur || function () {\n        return api.blur(name);\n      };\n      field.change = field.change || function (value) {\n        return api.change(name, value);\n      };\n      field.focus = field.focus || function () {\n        return api.focus(name);\n      };\n      state.fields[name] = field;\n      var haveValidator = false;\n      var silent = fieldConfig && fieldConfig.silent;\n      var notify = function notify() {\n        if (silent && state.fields[name]) {\n          notifyFieldListeners(name);\n        } else {\n          notifyFormListeners();\n          notifyFieldListeners();\n        }\n      };\n      if (fieldConfig) {\n        haveValidator = !!(fieldConfig.getValidator && fieldConfig.getValidator());\n        if (fieldConfig.getValidator) {\n          state.fields[name].validators[index] = fieldConfig.getValidator;\n        }\n        var noValueInFormState = getIn(state.formState.values, name) === undefined;\n        if (fieldConfig.initialValue !== undefined && (noValueInFormState || getIn(state.formState.values, name) === getIn(state.formState.initialValues, name))\n        // only initialize if we don't yet have any value for this field\n        ) {\n          state.formState.initialValues = setIn(state.formState.initialValues || {}, name, fieldConfig.initialValue);\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.initialValue);\n          runValidation(undefined, notify);\n        }\n\n        // only use defaultValue if we don't yet have any value for this field\n        if (fieldConfig.defaultValue !== undefined && fieldConfig.initialValue === undefined && getIn(state.formState.initialValues, name) === undefined && noValueInFormState) {\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.defaultValue);\n        }\n      }\n      if (haveValidator) {\n        runValidation(undefined, notify);\n      } else {\n        notify();\n      }\n      return function () {\n        var validatorRemoved = false;\n        // istanbul ignore next\n        if (state.fields[name]) {\n          // state.fields[name] may have been removed by a mutator\n          validatorRemoved = !!(state.fields[name].validators[index] && state.fields[name].validators[index]());\n          delete state.fields[name].validators[index];\n        }\n        var hasFieldSubscribers = !!state.fieldSubscribers[name];\n        if (hasFieldSubscribers) {\n          // state.fieldSubscribers[name] may have been removed by a mutator\n          delete state.fieldSubscribers[name].entries[index];\n        }\n        var lastOne = hasFieldSubscribers && !Object.keys(state.fieldSubscribers[name].entries).length;\n        if (lastOne) {\n          delete state.fieldSubscribers[name];\n          delete state.fields[name];\n          if (validatorRemoved) {\n            state.formState.errors = setIn(state.formState.errors, name, undefined) || {};\n          }\n          if (destroyOnUnregister) {\n            state.formState.values = setIn(state.formState.values, name, undefined, true) || {};\n          }\n        }\n        if (!silent) {\n          if (validatorRemoved) {\n            runValidation(undefined, function () {\n              notifyFormListeners();\n              notifyFieldListeners();\n            });\n          } else if (lastOne) {\n            // values or errors may have changed\n            notifyFormListeners();\n          }\n        }\n      };\n    },\n    reset: function reset(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n      if (state.formState.submitting) {\n        state.formState.resetWhileSubmitting = true;\n      }\n      state.formState.submitFailed = false;\n      state.formState.submitSucceeded = false;\n      delete state.formState.submitError;\n      delete state.formState.submitErrors;\n      delete state.formState.lastSubmittedValues;\n      api.initialize(initialValues || {});\n    },\n    /**\n     * Resets all field flags (e.g. touched, visited, etc.) to their initial state\n     */\n    resetFieldState: function resetFieldState(name) {\n      state.fields[name] = _extends({}, state.fields[name], {\n        active: false,\n        lastFieldState: undefined,\n        modified: false,\n        touched: false,\n        valid: true,\n        validating: false,\n        visited: false\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n    /**\n     * Returns the form to a clean slate; that is:\n     * - Clear all values\n     * - Resets all fields to their initial state\n     */\n    restart: function restart(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n      api.batch(function () {\n        for (var name in state.fields) {\n          api.resetFieldState(name);\n          state.fields[name] = _extends({}, state.fields[name], {\n            active: false,\n            lastFieldState: undefined,\n            modified: false,\n            modifiedSinceLastSubmit: false,\n            touched: false,\n            valid: true,\n            validating: false,\n            visited: false\n          });\n        }\n        api.reset(initialValues);\n      });\n    },\n    resumeValidation: function resumeValidation() {\n      validationPaused = false;\n      preventNotificationWhileValidationPaused = false;\n      if (validationBlocked) {\n        // validation was attempted while it was paused, so run it now\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n      }\n      validationBlocked = false;\n    },\n    setConfig: function setConfig(name, value) {\n      switch (name) {\n        case \"debug\":\n          debug = value;\n          break;\n        case \"destroyOnUnregister\":\n          destroyOnUnregister = value;\n          break;\n        case \"initialValues\":\n          api.initialize(value);\n          break;\n        case \"keepDirtyOnReinitialize\":\n          keepDirtyOnReinitialize = value;\n          break;\n        case \"mutators\":\n          mutators = value;\n          if (value) {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              if (!(key in value)) {\n                delete mutatorsApi[key];\n              }\n            });\n            Object.keys(value).forEach(function (key) {\n              mutatorsApi[key] = getMutatorApi(key);\n            });\n          } else {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              delete mutatorsApi[key];\n            });\n          }\n          break;\n        case \"onSubmit\":\n          onSubmit = value;\n          break;\n        case \"validate\":\n          validate = value;\n          runValidation(undefined, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n          break;\n        case \"validateOnBlur\":\n          validateOnBlur = value;\n          break;\n        default:\n          throw new Error(\"Unrecognised option \" + name);\n      }\n    },\n    submit: function submit() {\n      var formState = state.formState;\n      if (formState.submitting) {\n        return;\n      }\n      delete formState.submitErrors;\n      delete formState.submitError;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n      if (hasSyncErrors()) {\n        markAllFieldsTouched();\n        resetModifiedAfterSubmit();\n        state.formState.submitFailed = true;\n        notifyFormListeners();\n        notifyFieldListeners();\n        return; // no submit for you!!\n      }\n\n      var asyncValidationPromisesKeys = Object.keys(asyncValidationPromises);\n      if (asyncValidationPromisesKeys.length) {\n        // still waiting on async validation to complete...\n        Promise.all(asyncValidationPromisesKeys.map(function (key) {\n          return asyncValidationPromises[Number(key)];\n        })).then(api.submit, console.error);\n        return;\n      }\n      var submitIsBlocked = beforeSubmit();\n      if (submitIsBlocked) {\n        return;\n      }\n      var resolvePromise;\n      var completeCalled = false;\n      var complete = function complete(errors) {\n        formState.submitting = false;\n        var resetWhileSubmitting = formState.resetWhileSubmitting;\n        if (resetWhileSubmitting) {\n          formState.resetWhileSubmitting = false;\n        }\n        if (errors && hasAnyError(errors)) {\n          formState.submitFailed = true;\n          formState.submitSucceeded = false;\n          formState.submitErrors = errors;\n          formState.submitError = errors[FORM_ERROR];\n          markAllFieldsTouched();\n        } else {\n          if (!resetWhileSubmitting) {\n            formState.submitFailed = false;\n            formState.submitSucceeded = true;\n          }\n          afterSubmit();\n        }\n        notifyFormListeners();\n        notifyFieldListeners();\n        completeCalled = true;\n        if (resolvePromise) {\n          resolvePromise(errors);\n        }\n        return errors;\n      };\n      formState.submitting = true;\n      formState.submitFailed = false;\n      formState.submitSucceeded = false;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n      resetModifiedAfterSubmit();\n\n      // onSubmit is either sync, callback or async with a Promise\n      var result = onSubmit(formState.values, api, complete);\n      if (!completeCalled) {\n        if (result && isPromise(result)) {\n          // onSubmit is async with a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n          notifyFieldListeners(); // notify fields also\n          return result.then(complete, function (error) {\n            complete();\n            throw error;\n          });\n        } else if (onSubmit.length >= 3) {\n          // must be async, so we should return a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n          notifyFieldListeners(); // notify fields also\n          return new Promise(function (resolve) {\n            resolvePromise = resolve;\n          });\n        } else {\n          // onSubmit is sync\n          complete(result);\n        }\n      }\n    },\n    subscribe: function subscribe(subscriber, subscription) {\n      if (!subscriber) {\n        throw new Error(\"No callback given.\");\n      }\n      if (!subscription) {\n        throw new Error(\"No subscription provided. What values do you want to listen to?\");\n      }\n      var memoized = memoize(subscriber);\n      var subscribers = state.subscribers;\n      var index = subscribers.index++;\n      subscribers.entries[index] = {\n        subscriber: memoized,\n        subscription: subscription,\n        notified: false\n      };\n      var nextFormState = calculateNextFormState();\n      notifySubscriber(memoized, subscription, nextFormState, nextFormState, filterFormState, true);\n      return function () {\n        delete subscribers.entries[index];\n      };\n    }\n  };\n  return api;\n}\n\nexport { ARRAY_ERROR, FORM_ERROR, configOptions, createForm, fieldSubscriptionItems, formSubscriptionItems, getIn, setIn, version };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport * as React from 'react';\nimport React__default from 'react';\nimport { formSubscriptionItems, createForm, version as version$1, fieldSubscriptionItems } from 'final-form';\n\nvar _excluded$3 = [\"render\", \"children\", \"component\"];\n// shared logic between components that use either render prop,\n// children render function, or component prop\nfunction renderComponent(props, lazyProps, name) {\n  var render = props.render,\n      children = props.children,\n      component = props.component,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n\n  if (component) {\n    return /*#__PURE__*/React.createElement(component, Object.assign(lazyProps, rest, {\n      children: children,\n      render: render\n    }));\n  }\n\n  if (render) {\n    return render(children === undefined ? Object.assign(lazyProps, rest) : // inject children back in\n    Object.assign(lazyProps, rest, {\n      children: children\n    }));\n  }\n\n  if (typeof children !== \"function\") {\n    throw new Error(\"Must specify either a render prop, a render function as children, or a component prop to \" + name);\n  }\n\n  return children(Object.assign(lazyProps, rest));\n}\n\nfunction useWhenValueChanges(value, callback, isEqual) {\n  if (isEqual === void 0) {\n    isEqual = function isEqual(a, b) {\n      return a === b;\n    };\n  }\n\n  var previous = React__default.useRef(value);\n  React__default.useEffect(function () {\n    if (!isEqual(value, previous.current)) {\n      callback();\n      previous.current = value;\n    }\n  });\n}\n\n/**\n * A simple hook to create a constant value that lives for\n * the lifetime of the component.\n *\n * Plagiarized from https://github.com/Andarist/use-constant\n *\n * Do NOT reuse this code unless you know what you're doing.\n * Use Andarist's hook; it's more fault tolerant to things like\n * falsy values.\n *\n * @param {Function} init - A function to generate the value\n */\n\nfunction useConstant(init) {\n  var ref = React__default.useRef();\n\n  if (!ref.current) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar isSyntheticEvent = function isSyntheticEvent(candidate) {\n  return !!(candidate && typeof candidate.stopPropagation === \"function\");\n};\n\nvar ReactFinalFormContext = /*#__PURE__*/React.createContext();\n\nfunction useLatest(value) {\n  var ref = React__default.useRef(value);\n  React__default.useEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n}\n\nvar version = \"6.5.8\";\n\nvar addLazyState = function addLazyState(dest, state, keys) {\n  keys.forEach(function (key) {\n    Object.defineProperty(dest, key, {\n      get: function get() {\n        return state[key];\n      },\n      enumerable: true\n    });\n  });\n};\n\nvar addLazyFormState = function addLazyFormState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"dirty\", \"dirtyFields\", \"dirtySinceLastSubmit\", \"dirtyFieldsSinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n};\nvar addLazyFieldMetaState = function addLazyFieldMetaState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"visited\"]);\n};\n\nvar _excluded$2 = [\"debug\", \"decorators\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"subscription\", \"validate\", \"validateOnBlur\"];\nvar versions = {\n  \"final-form\": version$1,\n  \"react-final-form\": version\n};\nvar all$1 = formSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nfunction ReactFinalForm(_ref) {\n  var debug = _ref.debug,\n      _ref$decorators = _ref.decorators,\n      decorators = _ref$decorators === void 0 ? [] : _ref$decorators,\n      destroyOnUnregister = _ref.destroyOnUnregister,\n      alternateFormApi = _ref.form,\n      initialValues = _ref.initialValues,\n      initialValuesEqual = _ref.initialValuesEqual,\n      keepDirtyOnReinitialize = _ref.keepDirtyOnReinitialize,\n      mutators = _ref.mutators,\n      onSubmit = _ref.onSubmit,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription,\n      validate = _ref.validate,\n      validateOnBlur = _ref.validateOnBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  var config = {\n    debug: debug,\n    destroyOnUnregister: destroyOnUnregister,\n    initialValues: initialValues,\n    keepDirtyOnReinitialize: keepDirtyOnReinitialize,\n    mutators: mutators,\n    onSubmit: onSubmit,\n    validate: validate,\n    validateOnBlur: validateOnBlur\n  };\n  var form = useConstant(function () {\n    var f = alternateFormApi || createForm(config); // pause validation until children register all fields on first render (unpaused in useEffect() below)\n\n    f.pauseValidation();\n    return f;\n  }); // synchronously register and unregister to query form state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1]; // save a copy of state that can break through the closure\n  // on the shallowEqual() line below.\n\n\n  var stateRef = useLatest(state);\n  React.useEffect(function () {\n    // We have rendered, so all fields are now registered, so we can unpause validation\n    form.isValidationPaused() && form.resumeValidation();\n    var unsubscriptions = [form.subscribe(function (s) {\n      if (!shallowEqual(s, stateRef.current)) {\n        setState(s);\n      }\n    }, subscription)].concat(decorators ? decorators.map(function (decorator) {\n      return (// this noop ternary is to appease the flow gods\n        // istanbul ignore next\n        decorator(form)\n      );\n    }) : []);\n    return function () {\n      form.pauseValidation(); // pause validation so we don't revalidate on every field deregistration\n\n      unsubscriptions.reverse().forEach(function (unsubscribe) {\n        return unsubscribe();\n      }); // don't need to resume validation here; either unmounting, or will re-run this hook with new deps\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, decorators); // warn about decorator changes\n  // istanbul ignore next\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // You're never supposed to use hooks inside a conditional, but in this\n    // case we can be certain that you're not going to be changing your\n    // NODE_ENV between renders, so this is safe.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useWhenValueChanges(decorators, function () {\n      console.error(\"Form decorators should not change from one render to the next as new values will be ignored\");\n    }, shallowEqual);\n  } // allow updatable config\n\n\n  useWhenValueChanges(debug, function () {\n    form.setConfig(\"debug\", debug);\n  });\n  useWhenValueChanges(destroyOnUnregister, function () {\n    form.destroyOnUnregister = !!destroyOnUnregister;\n  });\n  useWhenValueChanges(keepDirtyOnReinitialize, function () {\n    form.setConfig(\"keepDirtyOnReinitialize\", keepDirtyOnReinitialize);\n  });\n  useWhenValueChanges(initialValues, function () {\n    form.setConfig(\"initialValues\", initialValues);\n  }, initialValuesEqual || shallowEqual);\n  useWhenValueChanges(mutators, function () {\n    form.setConfig(\"mutators\", mutators);\n  });\n  useWhenValueChanges(onSubmit, function () {\n    form.setConfig(\"onSubmit\", onSubmit);\n  });\n  useWhenValueChanges(validate, function () {\n    form.setConfig(\"validate\", validate);\n  });\n  useWhenValueChanges(validateOnBlur, function () {\n    form.setConfig(\"validateOnBlur\", validateOnBlur);\n  });\n\n  var handleSubmit = function handleSubmit(event) {\n    if (event) {\n      // sometimes not true, e.g. React Native\n      if (typeof event.preventDefault === \"function\") {\n        event.preventDefault();\n      }\n\n      if (typeof event.stopPropagation === \"function\") {\n        // prevent any outer forms from receiving the event too\n        event.stopPropagation();\n      }\n    }\n\n    return form.submit();\n  };\n\n  var renderProps = {\n    form: _extends({}, form, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          form.reset();\n        } else {\n          form.reset(eventOrValues);\n        }\n      }\n    }),\n    handleSubmit: handleSubmit\n  };\n  addLazyFormState(renderProps, state);\n  return /*#__PURE__*/React.createElement(ReactFinalFormContext.Provider, {\n    value: form\n  }, renderComponent(_extends({}, rest, {\n    __versions: versions\n  }), renderProps, \"ReactFinalForm\"));\n}\n\nfunction useForm(componentName) {\n  var form = React.useContext(ReactFinalFormContext);\n\n  if (!form) {\n    throw new Error((componentName || \"useForm\") + \" must be used inside of a <Form> component\");\n  }\n\n  return form;\n}\n\nfunction useFormState(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      onChange = _ref.onChange,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription;\n\n  var form = useForm(\"useFormState\");\n  var firstRender = React.useRef(true);\n  var onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange; // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n\n    if (onChange) {\n      onChange(initialState);\n    }\n\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return form.subscribe(function (newState) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(newState);\n\n        if (onChangeRef.current) {\n          onChangeRef.current(newState);\n        }\n      }\n    }, subscription);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var lazyState = {};\n  addLazyFormState(lazyState, state);\n  return lazyState;\n}\n\nvar _excluded$1 = [\"onChange\", \"subscription\"];\n\nfunction FormSpy(_ref) {\n  var onChange = _ref.onChange,\n      subscription = _ref.subscription,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  var reactFinalForm = useForm(\"FormSpy\");\n  var state = useFormState({\n    onChange: onChange,\n    subscription: subscription\n  });\n\n  if (onChange) {\n    return null;\n  }\n\n  var renderProps = {\n    form: _extends({}, reactFinalForm, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          reactFinalForm.reset();\n        } else {\n          reactFinalForm.reset(eventOrValues);\n        }\n      }\n    })\n  };\n  return renderComponent(_extends({}, rest, renderProps), state, \"FormSpy\");\n}\n\nvar isReactNative = typeof window !== \"undefined\" && window.navigator && window.navigator.product && window.navigator.product === \"ReactNative\";\n\nvar getSelectedValues = function getSelectedValues(options) {\n  var result = [];\n\n  if (options) {\n    for (var index = 0; index < options.length; index++) {\n      var option = options[index];\n\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n\n  return result;\n};\n\nvar getValue = function getValue(event, currentValue, valueProp, isReactNative) {\n  if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {\n    return event.nativeEvent.text;\n  }\n\n  if (isReactNative && event.nativeEvent) {\n    return event.nativeEvent.text;\n  }\n\n  var detypedEvent = event;\n  var _detypedEvent$target = detypedEvent.target,\n      type = _detypedEvent$target.type,\n      value = _detypedEvent$target.value,\n      checked = _detypedEvent$target.checked;\n\n  switch (type) {\n    case \"checkbox\":\n      if (valueProp !== undefined) {\n        // we are maintaining an array, not just a boolean\n        if (checked) {\n          // add value to current array value\n          return Array.isArray(currentValue) ? currentValue.concat(valueProp) : [valueProp];\n        } else {\n          // remove value from current array value\n          if (!Array.isArray(currentValue)) {\n            return currentValue;\n          }\n\n          var index = currentValue.indexOf(valueProp);\n\n          if (index < 0) {\n            return currentValue;\n          } else {\n            return currentValue.slice(0, index).concat(currentValue.slice(index + 1));\n          }\n        }\n      } else {\n        // it's just a boolean\n        return !!checked;\n      }\n\n    case \"select-multiple\":\n      return getSelectedValues(event.target.options);\n\n    default:\n      return value;\n  }\n};\n\n/**\n * Creates a callback, even with closures, that will be\n * instance === for the lifetime of the component, always\n * calling the most recent version of the function and its\n * closures.\n */\n\nfunction useConstantCallback(callback) {\n  var ref = React.useRef(callback);\n  React.useEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current.apply(null, args);\n  }, []);\n}\n\nvar all = fieldSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nvar defaultFormat = function defaultFormat(value, name) {\n  return value === undefined ? \"\" : value;\n};\n\nvar defaultParse = function defaultParse(value, name) {\n  return value === \"\" ? undefined : value;\n};\n\nvar defaultIsEqual = function defaultIsEqual(a, b) {\n  return a === b;\n};\n\nfunction useField(name, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _config = config,\n      afterSubmit = _config.afterSubmit,\n      allowNull = _config.allowNull,\n      component = _config.component,\n      data = _config.data,\n      defaultValue = _config.defaultValue,\n      _config$format = _config.format,\n      format = _config$format === void 0 ? defaultFormat : _config$format,\n      formatOnBlur = _config.formatOnBlur,\n      initialValue = _config.initialValue,\n      multiple = _config.multiple,\n      _config$parse = _config.parse,\n      parse = _config$parse === void 0 ? defaultParse : _config$parse,\n      _config$subscription = _config.subscription,\n      subscription = _config$subscription === void 0 ? all : _config$subscription,\n      type = _config.type,\n      validateFields = _config.validateFields,\n      _value = _config.value;\n  var form = useForm(\"useField\");\n  var configRef = useLatest(config);\n\n  var register = function register(callback, silent) {\n    return (// avoid using `state` const in any closures created inside `register`\n      // because they would refer `state` from current execution context\n      // whereas actual `state` would defined in the subsequent `useField` hook\n      // execution\n      // (that would be caused by `setState` call performed in `register` callback)\n      form.registerField(name, callback, subscription, {\n        afterSubmit: afterSubmit,\n        beforeSubmit: function beforeSubmit() {\n          var _configRef$current = configRef.current,\n              beforeSubmit = _configRef$current.beforeSubmit,\n              formatOnBlur = _configRef$current.formatOnBlur,\n              _configRef$current$fo = _configRef$current.format,\n              format = _configRef$current$fo === void 0 ? defaultFormat : _configRef$current$fo;\n\n          if (formatOnBlur) {\n            var _ref = form.getFieldState(name),\n                value = _ref.value;\n\n            var formatted = format(value, name);\n\n            if (formatted !== value) {\n              form.change(name, formatted);\n            }\n          }\n\n          return beforeSubmit && beforeSubmit();\n        },\n        data: data,\n        defaultValue: defaultValue,\n        getValidator: function getValidator() {\n          return configRef.current.validate;\n        },\n        initialValue: initialValue,\n        isEqual: function isEqual(a, b) {\n          return (configRef.current.isEqual || defaultIsEqual)(a, b);\n        },\n        silent: silent,\n        validateFields: validateFields\n      })\n    );\n  };\n\n  var firstRender = React.useRef(true); // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {}; // temporarily disable destroyOnUnregister\n\n    // temporarily disable destroyOnUnregister\n    var destroyOnUnregister = form.destroyOnUnregister;\n    form.destroyOnUnregister = false;\n    register(function (state) {\n      initialState = state;\n    }, true)(); // return destroyOnUnregister to its original value\n\n    // return destroyOnUnregister to its original value\n    form.destroyOnUnregister = destroyOnUnregister;\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return register(function (state) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(state);\n      }\n    }, false);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [name, data, defaultValue, // If we want to allow inline fat-arrow field-level validation functions, we\n  // cannot reregister field every time validate function !==.\n  // validate,\n  initialValue // The validateFields array is often passed as validateFields={[]}, creating\n  // a !== new array every time. If it needs to be changed, a rerender/reregister\n  // can be forced by changing the key prop\n  // validateFields\n  ]);\n  var meta = {};\n  addLazyFieldMetaState(meta, state);\n  var input = {\n    name: name,\n\n    get value() {\n      var value = state.value;\n\n      if (formatOnBlur) {\n        if (component === \"input\") {\n          value = defaultFormat(value);\n        }\n      } else {\n        value = format(value, name);\n      }\n\n      if (value === null && !allowNull) {\n        value = \"\";\n      }\n\n      if (type === \"checkbox\" || type === \"radio\") {\n        return _value;\n      } else if (component === \"select\" && multiple) {\n        return value || [];\n      }\n\n      return value;\n    },\n\n    get checked() {\n      var value = state.value;\n\n      if (type === \"checkbox\") {\n        value = format(value, name);\n\n        if (_value === undefined) {\n          return !!value;\n        } else {\n          return !!(Array.isArray(value) && ~value.indexOf(_value));\n        }\n      } else if (type === \"radio\") {\n        return format(value, name) === _value;\n      }\n\n      return undefined;\n    },\n\n    onBlur: useConstantCallback(function (event) {\n      state.blur();\n\n      if (formatOnBlur) {\n        /**\n         * Here we must fetch the value directly from Final Form because we cannot\n         * trust that our `state` closure has the most recent value. This is a problem\n         * if-and-only-if the library consumer has called `onChange()` immediately\n         * before calling `onBlur()`, but before the field has had a chance to receive\n         * the value update from Final Form.\n         */\n        var fieldState = form.getFieldState(state.name);\n        state.change(format(fieldState.value, state.name));\n      }\n    }),\n    onChange: useConstantCallback(function (event) {\n      // istanbul ignore next\n      if (process.env.NODE_ENV !== \"production\" && event && event.target) {\n        var targetType = event.target.type;\n        var unknown = ~[\"checkbox\", \"radio\", \"select-multiple\"].indexOf(targetType) && !type && component !== \"select\";\n\n        var _value2 = targetType === \"select-multiple\" ? state.value : _value;\n\n        if (unknown) {\n          console.error(\"You must pass `type=\\\"\" + (targetType === \"select-multiple\" ? \"select\" : targetType) + \"\\\"` prop to your Field(\" + name + \") component.\\n\" + (\"Without it we don't know how to unpack your `value` prop - \" + (Array.isArray(_value2) ? \"[\" + _value2 + \"]\" : \"\\\"\" + _value2 + \"\\\"\") + \".\"));\n        }\n      }\n\n      var value = event && event.target ? getValue(event, state.value, _value, isReactNative) : event;\n      state.change(parse(value, name));\n    }),\n    onFocus: useConstantCallback(function (event) {\n      return state.focus();\n    })\n  };\n\n  if (multiple) {\n    input.multiple = multiple;\n  }\n\n  if (type !== undefined) {\n    input.type = type;\n  }\n\n  var renderProps = {\n    input: input,\n    meta: meta\n  }; // assign to force Flow check\n\n  return renderProps;\n}\n\nvar _excluded = [\"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"children\", \"component\", \"data\", \"defaultValue\", \"format\", \"formatOnBlur\", \"initialValue\", \"isEqual\", \"multiple\", \"name\", \"parse\", \"subscription\", \"type\", \"validate\", \"validateFields\", \"value\"];\nvar Field = /*#__PURE__*/React.forwardRef(function Field(_ref, ref) {\n  var afterSubmit = _ref.afterSubmit,\n      allowNull = _ref.allowNull,\n      beforeSubmit = _ref.beforeSubmit,\n      children = _ref.children,\n      component = _ref.component,\n      data = _ref.data,\n      defaultValue = _ref.defaultValue,\n      format = _ref.format,\n      formatOnBlur = _ref.formatOnBlur,\n      initialValue = _ref.initialValue,\n      isEqual = _ref.isEqual,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      parse = _ref.parse,\n      subscription = _ref.subscription,\n      type = _ref.type,\n      validate = _ref.validate,\n      validateFields = _ref.validateFields,\n      value = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var field = useField(name, {\n    afterSubmit: afterSubmit,\n    allowNull: allowNull,\n    beforeSubmit: beforeSubmit,\n    children: children,\n    component: component,\n    data: data,\n    defaultValue: defaultValue,\n    format: format,\n    formatOnBlur: formatOnBlur,\n    initialValue: initialValue,\n    isEqual: isEqual,\n    multiple: multiple,\n    parse: parse,\n    subscription: subscription,\n    type: type,\n    validate: validate,\n    validateFields: validateFields,\n    value: value\n  });\n\n  if (typeof children === \"function\") {\n    return children(_extends({}, field, rest));\n  }\n\n  if (typeof component === \"string\") {\n    // ignore meta, combine input with any other props\n    return /*#__PURE__*/React.createElement(component, _extends({}, field.input, {\n      children: children,\n      ref: ref\n    }, rest));\n  }\n\n  if (!name) {\n    throw new Error(\"prop name cannot be undefined in <Field> component\");\n  }\n\n  return renderComponent(_extends({\n    children: children,\n    component: component,\n    ref: ref\n  }, rest), field, \"Field(\" + name + \")\");\n});\n\nfunction withTypes() {\n  return {\n    Form: ReactFinalForm,\n    FormSpy: FormSpy\n  };\n}\n\nexport { Field, ReactFinalForm as Form, FormSpy, useField, useForm, useFormState, version, withTypes };\n","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst commonStyles = [\"svg.jsx-4069423049{display:block;pointer-events:none;}\", `svg.jsx-4069423049 .border.jsx-4069423049{fill:${colors.grey800};}`, `svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:${colors.white};}`, `svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:${colors.teal500};}`, `svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:${colors.blue600};}`, `svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:${colors.yellow700};}`, `svg.error.jsx-4069423049 .background.jsx-4069423049{fill:${colors.red500};}`, `svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:${colors.teal900};}`, \"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}\", `svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:${colors.white};}`];\ncommonStyles.__hash = \"4069423049\";\nexport function CheckboxRegular(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 18 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"3\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"4\",\n    y: \"8\",\n    width: \"10\",\n    height: \"2\",\n    rx: \"1\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2753140462\",\n    dynamic: [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]\n  }, [\"svg.__jsx-style-dynamic-selector{width:18px;height:18px;}\", `svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${colors.grey300};}`, `svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.grey400};}`, `svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.blue600};}`, `svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.blue700};}`, `svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.yellow700};}`, `svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.yellow800};}`, `svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.red500};}`, `svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.red700};}`]));\n}\nCheckboxRegular.propTypes = {\n  className: PropTypes.string\n};\nexport function CheckboxDense(_ref2) {\n  let {\n    className\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 14 14\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"14\",\n    height: \"14\",\n    rx: \"2\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"6\",\n    width: \"8\",\n    height: \"2\",\n    className: `jsx-${commonStyles.__hash}` + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"86695588\",\n    dynamic: [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]\n  }, [\"svg.__jsx-style-dynamic-selector{width:14px;height:14px;}\", `svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${colors.grey400};}`, `svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.grey400};}`, `svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.grey500};}`, `svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.blue600};}`, `svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.blue800};}`, `svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.yellow700};}`, `svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.yellow800};}`, `svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.red500};}`, `svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${colors.red800};}`]));\n}\nCheckboxDense.propTypes = {\n  className: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { colors, spacers, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { CheckboxRegular, CheckboxDense } from './checkbox-icon.js';\nclass Checkbox extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"ref\", /*#__PURE__*/createRef());\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(), e);\n      }\n    });\n  }\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n    this.setIndeterminate(this.props.indeterminate);\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.indeterminate !== this.props.indeterminate) {\n      this.setIndeterminate(this.props.indeterminate);\n    }\n  }\n  setIndeterminate(indeterminate) {\n    this.ref.current.indeterminate = indeterminate;\n  }\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n  render() {\n    const {\n      checked = false,\n      indeterminate = false,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest = 'dhis2-uicore-checkbox'\n    } = this.props;\n    const classes = cx({\n      checked,\n      indeterminate,\n      disabled,\n      valid,\n      error,\n      warning\n    });\n    return /*#__PURE__*/React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"1252368010\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"1252368010\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]])\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"1252368010\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, dense ? /*#__PURE__*/React.createElement(CheckboxDense, {\n      className: classes\n    }) : /*#__PURE__*/React.createElement(CheckboxRegular, {\n      className: classes\n    })), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1252368010\",\n      dynamic: [colors.grey900, theme.disabled, spacers.dp4, theme.focus]\n    }, [`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:${colors.grey900};font-size:14px;line-height:19px;}`, \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", `label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${theme.disabled};}`, \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;inset-inline-start:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}\", `.icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-inline-end:${spacers.dp4};border:2px solid transparent;padding:1px;border-radius:5px;}`, \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-inline-end:3px;border-radius:4px;}\", `input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${theme.focus};outline-offset:-3px;}`]));\n  }\n}\n_defineProperty(Checkbox, \"defaultProps\", {\n  checked: false,\n  indeterminate: false,\n  dataTest: 'dhis2-uicore-checkbox'\n});\nconst uniqueOnStatePropType = mutuallyExclusive(['checked', 'indeterminate'], PropTypes.bool);\nCheckbox.propTypes = {\n  checked: uniqueOnStatePropType,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  indeterminate: uniqueOnStatePropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  /** Called with signature `(object, event)` */\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { Checkbox };","const createBlurHandler = (input, onBlur) => (payload, event) => {\n  input.onBlur(event);\n  if (onBlur && typeof onBlur === 'function') {\n    onBlur(payload, event);\n  }\n};\nexport { createBlurHandler };","const PRIMITIVE_TYPES = new Set(['string', 'number', 'boolean']);\nconst createChangeHandler = _ref => {\n  let {\n    onChange\n  } = _ref;\n  return payload => {\n    if (payload && 'value' in payload) {\n      // ui event signature\n      onChange(payload.value);\n    } else if (payload && payload.target && 'value' in payload.target) {\n      // synthetic event\n      onChange(payload.target.value);\n    } else if (PRIMITIVE_TYPES.has(typeof payload)) {\n      // directly usable value\n      onChange(payload);\n    } else {\n      // \\_()_/\n      throw new Error('Could not process event payload');\n    }\n  };\n};\nexport { createChangeHandler };","const createFocusHandler = (input, onFocus) => (payload, event) => {\n  input.onFocus(event);\n  if (onFocus && typeof onFocus === 'function') {\n    onFocus(payload, event);\n  }\n};\nexport { createFocusHandler };","const hasError = (meta, error) => error || meta.touched && meta.invalid;\nexport { hasError };","import { hasError } from './hasError.js';\nconst getValidationText = (meta, validationText, error) => {\n  if (validationText) {\n    return validationText;\n  }\n  if (hasError(meta, error)) {\n    if (meta.error) {\n      return meta.error;\n    }\n    if (meta.submitError) {\n      return meta.submitError;\n    }\n  }\n  return '';\n};\nexport { getValidationText };","const isLoading = (meta, loading, showLoadingStatus) => loading || showLoadingStatus && meta.validating;\nexport { isLoading };","const isValid = (meta, valid, showValidStatus) => valid || showValidStatus && meta.touched && meta.valid;\nexport { isValid };","import PropTypes from 'prop-types';\nconst toggleGroupOptionsProp = PropTypes.arrayOf(PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n}));\nconst inputPropType = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.any,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n});\nconst inputArgType = {\n  table: {\n    type: {\n      summary: '{ name: string (required), onChange: func (required), value: any, onBlur: func, onFocus: func }'\n    }\n  }\n};\nconst metaPropType = PropTypes.shape({\n  error: PropTypes.string,\n  invalid: PropTypes.bool,\n  touched: PropTypes.bool,\n  valid: PropTypes.bool,\n  validating: PropTypes.bool\n});\nconst metaArgType = {\n  table: {\n    type: {\n      summary: '{ error: string, invalid: bool, touched: bool, valid: bool, validating: bool }'\n    }\n  }\n};\nexport { toggleGroupOptionsProp, inputPropType, inputArgType, metaPropType, metaArgType };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport hi_INTranslations from './hi_IN/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport ko_KRTranslations from './ko_KR/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('hi_IN', namespace, hi_INTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('ko_KR', namespace, ko_KRTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { InputField } from '@dhis2-ui/input';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createChangeHandler, createFocusHandler, createBlurHandler, hasError, isLoading, isValid, getValidationText } from '../shared/helpers.js';\nimport { metaPropType, inputPropType } from '../shared/propTypes.js';\nexport const InputFieldFF = _ref => {\n  let {\n    input,\n    meta,\n    error,\n    showValidStatus,\n    valid,\n    validationText,\n    onBlur,\n    onFocus,\n    loading,\n    showLoadingStatus,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(InputField, _extends({}, rest, {\n    name: input.name,\n    type: input.type,\n    error: hasError(meta, error),\n    valid: isValid(meta, valid, showValidStatus),\n    loading: isLoading(meta, loading, showLoadingStatus),\n    validationText: getValidationText(meta, validationText, error),\n    onFocus: createFocusHandler(input, onFocus),\n    onChange: createChangeHandler(input),\n    onBlur: createBlurHandler(input, onBlur),\n    value: input.value\n  }));\n};\nInputFieldFF.propTypes = {\n  /** `input` props received from Final Form `Field` */\n  input: inputPropType.isRequired,\n  /** `meta` props received from Final Form `Field` */\n  meta: metaPropType.isRequired,\n  error: PropTypes.bool,\n  loading: PropTypes.bool,\n  showLoadingStatus: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};","var _this = this;\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered. The\n * function will be called after it stops being called for N milliseconds. If `immediate` is\n * passed, trigger the function on the leading edge, instead of the trailing.\n */\n\nexport const debounce = (func, wait, immediate) => {\n  let timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const context = _this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport { IconChevronDown16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst InputWrapper = _ref => {\n  let {\n    dataTest,\n    onToggle,\n    children,\n    tabIndex = '0',\n    error,\n    warning,\n    valid,\n    disabled,\n    dense,\n    className,\n    inputRef\n  } = _ref;\n  const classNames = cx(className, 'root', {\n    error,\n    warning,\n    valid,\n    disabled,\n    dense\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onToggle,\n    tabIndex: tabIndex,\n    ref: inputRef,\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + (classNames || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-children\"\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(IconChevronDown16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1568723238\",\n    dynamic: [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]\n  }, [`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ${colors.grey500};box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}`, `.root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ${theme.focus};border-color:${theme.focus};}`, `.root.valid.__jsx-style-dynamic-selector{border-color:${theme.valid};}`, `.root.warning.__jsx-style-dynamic-selector{border-color:${theme.warning};}`, `.root.error.__jsx-style-dynamic-selector{border-color:${theme.error};}`, `.root.disabled.__jsx-style-dynamic-selector{background-color:${colors.grey100};border-color:${colors.grey500};color:${theme.disabled};cursor:not-allowed;}`, \".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}\", \".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}\"]));\n};\nInputWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  inputRef: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType\n};\nexport { InputWrapper };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, elevations } from '@dhis2/ui-constants';\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst MenuWrapper = _ref => {\n  let {\n    children,\n    dataTest,\n    maxHeight = '280px',\n    menuWidth,\n    onClick,\n    selectRef\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClick,\n    transparent: true\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: selectRef,\n    placement: \"bottom-start\",\n    observeReferenceResize: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": `${dataTest}-menuwrapper`,\n    className: _JSXStyle.dynamic([[\"1363246346\", [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1363246346\",\n    dynamic: [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]\n  }, [`div.__jsx-style-dynamic-selector{width:${menuWidth};height:auto;max-height:${maxHeight};overflow:auto;background:${colors.white};border:1px solid ${colors.grey200};border-radius:3px;box-shadow:${elevations.e300};}`]))));\n};\nMenuWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  menuWidth: PropTypes.string.isRequired,\n  selectRef: PropTypes.object.isRequired,\n  children: PropTypes.node,\n  maxHeight: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { MenuWrapper };","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { debounce } from './debounce/debounce.js';\nimport { InputWrapper } from './input-wrapper.js';\nimport { MenuWrapper } from './menu-wrapper.js';\n\n// Keycodes for the keypress event handlers\nconst ESCAPE_KEY = 27;\nconst SPACE_KEY = 32;\nconst UP_KEY = 38;\nconst DOWN_KEY = 40;\nexport class Select extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      open: false,\n      menuWidth: 'auto'\n    });\n    _defineProperty(this, \"selectRef\", /*#__PURE__*/React.createRef());\n    _defineProperty(this, \"inputRef\", /*#__PURE__*/React.createRef());\n    /**\n     * We're debouncing this so it doesn't fire continually during a resize.\n     *\n     * Additionally we should use requestPostAnimationFrame to not trigger a forced\n     * layout, but that's just a proposal, and the added complexity of solving this\n     * in another manner does not seem worth it, considering the minor perf penalty.\n     *\n     * See: https://nolanlawson.com/2018/09/25/accurately-measuring-layout-on-the-web\n     */\n    _defineProperty(this, \"onResize\", debounce(() => {\n      const menuWidth = this.getMenuWidth();\n      if (this.state.menuWidth !== menuWidth) {\n        this.setState({\n          menuWidth\n        });\n      }\n    }, 50));\n    _defineProperty(this, \"handleFocusInput\", () => {\n      this.inputRef.current.focus();\n    });\n    _defineProperty(this, \"onFocus\", e => {\n      const {\n        onFocus,\n        disabled,\n        selected\n      } = this.props;\n      if (disabled || !onFocus) {\n        return;\n      }\n      onFocus({\n        selected\n      }, e);\n    });\n    _defineProperty(this, \"handleOpen\", () => {\n      this.setState({\n        open: true,\n        menuWidth: this.getMenuWidth()\n      });\n    });\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        open: false\n      });\n    });\n    _defineProperty(this, \"onToggle\", e => {\n      if (this.props.disabled) {\n        return;\n      }\n      e.stopPropagation();\n      this.state.open ? this.handleClose() : this.handleOpen();\n    });\n    _defineProperty(this, \"onOutsideClick\", e => {\n      const {\n        onBlur,\n        disabled,\n        selected\n      } = this.props;\n      if (disabled) {\n        return;\n      }\n      this.handleClose();\n      if (onBlur) {\n        onBlur({\n          selected\n        }, e);\n      }\n    });\n    _defineProperty(this, \"onKeyDown\", e => {\n      const {\n        onKeyDown,\n        disabled,\n        selected\n      } = this.props;\n      if (disabled) {\n        return;\n      }\n      if (onKeyDown) {\n        onKeyDown({\n          selected\n        }, e);\n      }\n      if (e.defaultPrevented) {\n        return;\n      }\n      e.stopPropagation();\n      const {\n        open\n      } = this.state;\n      const {\n        keyCode\n      } = e;\n      const shouldOpen = !open && (keyCode === SPACE_KEY || keyCode === UP_KEY || keyCode === DOWN_KEY);\n      const shouldClose = open && keyCode === ESCAPE_KEY;\n      if (shouldClose) {\n        return this.handleClose();\n      }\n      if (shouldOpen) {\n        return this.handleOpen();\n      }\n    });\n  }\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.inputRef.current.focus();\n    }\n    this.setState({\n      menuWidth: this.getMenuWidth()\n    });\n    window.addEventListener('resize', this.onResize);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n  getMenuWidth() {\n    const {\n      offsetWidth\n    } = this.inputRef.current;\n    const {\n      menuWidth\n    } = this.state;\n    if (offsetWidth && `${offsetWidth}px` !== menuWidth) {\n      return `${offsetWidth}px`;\n    }\n    return menuWidth;\n  }\n  render() {\n    const {\n      open,\n      menuWidth\n    } = this.state;\n    const {\n      children,\n      className,\n      selected,\n      onChange,\n      tabIndex,\n      maxHeight,\n      error,\n      warning,\n      valid,\n      disabled,\n      dense,\n      dataTest\n    } = this.props;\n\n    // Create the input\n    const inputProps = {\n      selected,\n      onChange,\n      options: children,\n      disabled\n    };\n    const input = /*#__PURE__*/React.cloneElement(this.props.input, inputProps);\n\n    // Create the menu\n    const menuProps = {\n      selected,\n      onChange,\n      options: children,\n      handleClose: this.handleClose,\n      handleFocusInput: this.handleFocusInput\n    };\n    const menu = /*#__PURE__*/React.cloneElement(this.props.menu, menuProps);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.selectRef,\n      onFocus: this.onFocus,\n      onKeyDown: this.onKeyDown,\n      \"data-test\": dataTest\n    }, /*#__PURE__*/React.createElement(InputWrapper, {\n      onToggle: this.onToggle,\n      inputRef: this.inputRef,\n      tabIndex: disabled ? '-1' : tabIndex,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      dense: dense,\n      dataTest: `${dataTest}-input`\n    }, input), open && /*#__PURE__*/React.createElement(MenuWrapper, {\n      onClick: this.onOutsideClick,\n      maxHeight: maxHeight,\n      selectRef: this.selectRef,\n      menuWidth: menuWidth,\n      dataTest: `${dataTest}-menu`\n    }, menu));\n  }\n}\n_defineProperty(Select, \"defaultProps\", {\n  dataTest: 'dhis2-uicore-select'\n});\nSelect.propTypes = {\n  input: PropTypes.element.isRequired,\n  menu: PropTypes.element.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  maxHeight: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Loading = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (cx(className, 'container') || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]])\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })), message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3603755746\",\n    dynamic: [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [`.container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp16};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:${colors.grey700};font-family:${theme.fonts};font-size:13px;padding-block:${spacers.dp8};padding-inline:${spacers.dp24};}`]));\n};\nLoading.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers, colors } from '@dhis2/ui-constants';\nimport { Input } from '@dhis2-ui/input';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst FilterInput = _ref => {\n  let {\n    value,\n    onChange,\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"730881408\", [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(Input, {\n    dense: true,\n    dataTest: dataTest,\n    value: value,\n    onChange: onChange,\n    type: \"text\",\n    name: \"filter\",\n    placeholder: placeholder,\n    initialFocus: true\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"730881408\",\n    dynamic: [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]\n  }, [`div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:${colors.white};padding-block-start:${spacers.dp8};padding-inline-end:${spacers.dp8};padding-block-end:${spacers.dp4};padding-inline-start:${spacers.dp8};z-index:1;}`]));\n};\nFilterInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { FilterInput };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst NoMatch = _ref => {\n  let {\n    message,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [`div.__jsx-style-dynamic-selector{color:${colors.grey700};font-family:${theme.fonts};font-size:13px;line-height:16px;padding-block:${spacers.dp8};padding-inline:${spacers.dp24};text-align:center;}`]));\n};\nNoMatch.propTypes = {\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { NoMatch };","import React from 'react';\n\n// Check whether an option is valid\nexport const checkIfValidOption = option => option && 'props' in option && 'value' in option.props && 'label' in option.props;\n\n// Filters all children that won't be rendered from an array of react children\nexport const filterIgnored = children => React.Children.toArray(children).filter(child => child !== null && child !== false && child !== undefined);\n\n// Find an option in an array of react children\nexport const findOptionChild = (value, optionChildren) => React.Children.toArray(optionChildren).find(currentOption => {\n  if (!currentOption.props) {\n    return false;\n  }\n  return value === currentOption.props.value;\n});\n\n// Find an option in an array of option objects\nexport const findOption = (value, optionArray) => optionArray.find(optionValue => value === optionValue);\n\n// Remove a specific option from an array of options\nexport const removeOption = (value, optionArray) => optionArray.filter(optionValue => {\n  return optionValue !== value;\n});","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { FilterInput } from './filter-input.js';\nimport { NoMatch } from './no-match.js';\nimport { filterIgnored, checkIfValidOption } from './option-helpers.js';\nexport class FilterableMenu extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      filter: ''\n    });\n    _defineProperty(this, \"onFilterChange\", _ref => {\n      let {\n        value\n      } = _ref;\n      this.setState({\n        filter: value\n      });\n    });\n  }\n  render() {\n    const {\n      dataTest,\n      options,\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      placeholder,\n      noMatchText,\n      Menu\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n    const menuProps = {\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      dataTest\n    };\n    const renderedOptions = filterIgnored(options);\n\n    // If there are no options or there's no filter, just pass everything through\n    if (React.Children.count(renderedOptions) === 0 || !filter) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n        dataTest: `${dataTest}-filterinput`,\n        placeholder: placeholder,\n        value: filter,\n        onChange: this.onFilterChange\n      }), /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n        options: options\n      })));\n    }\n    const filtered = React.Children.map(options, child => {\n      const isValidOption = checkIfValidOption(child);\n\n      // Filter it out if it's an invalid option\n      if (!isValidOption) {\n        return null;\n      }\n      const {\n        label\n      } = child.props;\n\n      // Filter by label, because that's the part of an option that's displayed to the user\n      const match = label.toLowerCase().includes(filter.toLowerCase());\n      return match ? child : null;\n    });\n    const hasMatch = React.Children.count(filtered) > 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n      dataTest: `${dataTest}-filterinput`,\n      placeholder: placeholder,\n      value: filter,\n      onChange: this.onFilterChange\n    }), hasMatch ? /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n      options: filtered\n    })) : /*#__PURE__*/React.createElement(NoMatch, {\n      message: noMatchText\n    }));\n  }\n}\nFilterableMenu.propTypes = {\n  Menu: PropTypes.elementType.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst Empty = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [`div.__jsx-style-dynamic-selector{color:${colors.grey700};font-family:${theme.fonts};font-size:13px;line-height:16px;padding-block:${spacers.dp8};padding-inline:${spacers.dp24};text-align:center;}`]));\n};\nEmpty.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { Empty };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, layers } from '@dhis2/ui-constants';\nimport { Popper } from '@dhis2-ui/popper';\nimport { Portal } from '@dhis2-ui/portal';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nconst TOOLTIP_OFFSET = 4;\nconst popperStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1892168270\"\n  }, [`.jsx-1892168270{z-index:${layers.applicationTop};}`, \"div[data-popper-reference-hidden=\\\"true\\\"].jsx-1892168270{visibility:hidden;}\"]),\n  className: \"jsx-1892168270\"\n};\nconst offsetModifier = {\n  name: 'offset',\n  options: {\n    offset: [0, TOOLTIP_OFFSET]\n  }\n};\n\n/**\n * For some reason the intended effects of the 'hide' modifier work with or\n * without adding it to the popper... but it may be safe to include it anyway\n */\nconst hideModifier = {\n  name: 'hide'\n};\nconst flipModifier = {\n  name: 'flip',\n  options: {\n    altBoundary: true\n  }\n};\nconst Tooltip = _ref => {\n  let {\n    children,\n    className,\n    closeDelay = 200,\n    content,\n    dataTest = 'dhis2-uicore-tooltip',\n    maxWidth = 300,\n    openDelay = 200,\n    placement = 'top'\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const popperReference = useRef();\n  const openTimerRef = useRef(null);\n  const closeTimerRef = useRef(null);\n  const onMouseOver = () => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = setTimeout(() => {\n      setOpen(true);\n    }, openDelay);\n  };\n  const onMouseOut = () => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = setTimeout(() => {\n      setOpen(false);\n    }, closeDelay);\n  };\n  const onFocus = () => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = setTimeout(() => {\n      setOpen(true);\n    }, openDelay);\n  };\n  const onBlur = () => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = setTimeout(() => {\n      setOpen(false);\n    }, closeDelay);\n  };\n  const handleKeyDown = event => {\n    if (event.key === 'Escape') {\n      closeTimerRef.current = setTimeout(() => {\n        setOpen(false);\n      }, closeDelay);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      clearTimeout(openTimerRef.current);\n      clearTimeout(closeTimerRef.current);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof children === 'function' ? children({\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: popperReference\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: popperReference,\n    tabIndex: 0,\n    \"aria-describedby\": open ? 'tooltipContenDhis2Ui' : '',\n    \"data-test\": `${dataTest}-reference`,\n    className: _JSXStyle.dynamic([[\"3515683788\", [maxWidth, colors.grey900, colors.white]]])\n  }, children), open && /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Popper, {\n    className: popperStyle.className,\n    placement: placement,\n    reference: popperReference,\n    modifiers: [offsetModifier, flipModifier, hideModifier]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"tooltipContenDhis2Ui\",\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    \"data-test\": `${dataTest}-content`,\n    role: \"tooltip\",\n    className: _JSXStyle.dynamic([[\"3515683788\", [maxWidth, colors.grey900, colors.white]]]) + \" \" + (className || \"\")\n  }, content))), popperStyle.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3515683788\",\n    dynamic: [maxWidth, colors.grey900, colors.white]\n  }, [`div.__jsx-style-dynamic-selector{max-width:${maxWidth}px;}`, `div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:${colors.grey900};border-radius:3px;color:${colors.white};font-size:13px;line-height:17px;}`]));\n};\nTooltip.propTypes = {\n  /** If child is a function, it's called with `{ onMouseOver, onMouseOut, ref }` args to apply to a reference element. If child is a node, it is wrapped in a `span` with the appropriate attributes and handlers. */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n  /** Time (in ms) until tooltip closes after mouse out */\n  closeDelay: PropTypes.number,\n  /** Content to display when the tooltip is open */\n  content: PropTypes.node,\n  dataTest: PropTypes.string,\n  /** Max width of the tooltip in px */\n  maxWidth: PropTypes.number,\n  /** Time (in ms) until tooltip open after mouse over */\n  openDelay: PropTypes.number,\n  /** Where to place the tooltip relative to its reference */\n  placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left'])\n};\nexport { Tooltip, TOOLTIP_OFFSET };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport { Tooltip } from '@dhis2-ui/tooltip';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst InputClearButton = _ref => {\n  let {\n    onClear,\n    clearText,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    openDelay: 500,\n    content: clearText\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-test\": dataTest,\n    onClick: onClear,\n    type: \"button\",\n    className: _JSXStyle.dynamic([[\"2606883952\", [colors.grey500, colors.grey800, colors.grey200, theme.focus]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: _JSXStyle.dynamic([[\"2606883952\", [colors.grey500, colors.grey800, colors.grey200, theme.focus]]])\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.536-5.879a1 1 0 1 1-1.415 1.414l-2.12-2.12-2.122 2.121a1 1 0 1 1-1.415-1.414L6.586 8 4.464 5.878A1 1 0 1 1 5.88 4.464L8 6.586l2.121-2.121a1 1 0 1 1 1.415 1.414L9.415 8l2.12 2.121Z\",\n    fill: \"none\",\n    className: _JSXStyle.dynamic([[\"2606883952\", [colors.grey500, colors.grey800, colors.grey200, theme.focus]]])\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2606883952\",\n    dynamic: [colors.grey500, colors.grey800, colors.grey200, theme.focus]\n  }, [\"button.__jsx-style-dynamic-selector{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;height:24px;width:24px;border-radius:3px;}\", `button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${colors.grey500};}`, `button.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${colors.grey800};}`, `button.__jsx-style-dynamic-selector:hover{background:${colors.grey200};}`, `button.__jsx-style-dynamic-selector:focus{outline:2px solid ${theme.focus};}`])));\n};\nInputClearButton.propTypes = {\n  clearText: PropTypes.string.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  onClear: PropTypes.func.isRequired,\n  className: PropTypes.string\n};\nexport { InputClearButton };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst InputPlaceholder = _ref => {\n  let {\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n  if (!placeholder) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1027033961\", [colors.grey600]]]) + \" \" + (className || \"\")\n  }, placeholder, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1027033961\",\n    dynamic: [colors.grey600]\n  }, [`div.__jsx-style-dynamic-selector{color:${colors.grey600};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`]));\n};\nInputPlaceholder.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string\n};\nexport { InputPlaceholder };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst InputPrefix = _ref => {\n  let {\n    prefix,\n    className,\n    dataTest\n  } = _ref;\n  if (!prefix) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1343055987\", [colors.grey600, spacers.dp12]]]) + \" \" + (className || \"\")\n  }, prefix, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1343055987\",\n    dynamic: [colors.grey600, spacers.dp12]\n  }, [`div.__jsx-style-dynamic-selector{color:${colors.grey600};padding-inline-end:${spacers.dp12};font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`]));\n};\nInputPrefix.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  prefix: PropTypes.string\n};\nexport { InputPrefix };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Empty, filterIgnored, checkIfValidOption, removeOption, findOption } from '../select/index.js';\nconst onDisabledClick = (_, e) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\nconst createHandler = _ref => {\n  let {\n    isActive,\n    onChange,\n    selected,\n    value\n  } = _ref;\n  return (_, e) => {\n    e.stopPropagation();\n\n    // If the option is currently selected remove it from the array of selected options\n    if (isActive) {\n      const filtered = removeOption(value, selected);\n      const data = {\n        selected: filtered\n      };\n      return onChange(data, e);\n    }\n\n    // Otherwise, add it to selected\n    const data = {\n      selected: selected.concat([value])\n    };\n    return onChange(data, e);\n  };\n};\nconst Menu = _ref2 => {\n  let {\n    options,\n    onChange,\n    selected,\n    empty = '',\n    dataTest\n  } = _ref2;\n  const renderedOptions = filterIgnored(options);\n  if (React.Children.count(renderedOptions) === 0) {\n    // If it's a string, supply it to our <Empty> component so it looks better\n    if (typeof empty === 'string') {\n      return /*#__PURE__*/React.createElement(Empty, {\n        message: empty,\n        dataTest: `${dataTest}-empty`\n      });\n    }\n\n    // Otherwise just render the supplied markup\n    return empty;\n  }\n  const children = React.Children.map(options, child => {\n    const isValidOption = checkIfValidOption(child);\n\n    // Return early if the child isn't an option, to prevent attaching handlers etc.\n    if (!isValidOption) {\n      return child;\n    }\n    const {\n      value,\n      label,\n      disabled: isDisabled\n    } = child.props;\n\n    // Active means the option is currently selected\n    const isActive = !!findOption(value, selected);\n\n    // Create the appropriate click handler for the option\n    const onClick = isDisabled ? onDisabledClick : createHandler({\n      isActive,\n      onChange,\n      selected,\n      value,\n      label\n    });\n    return /*#__PURE__*/React.cloneElement(child, {\n      ...child.props,\n      onClick,\n      active: isActive\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\nMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  options: PropTypes.node,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { Menu };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FilterableMenu as CommonFilterableMenu } from '../select/index.js';\nimport { Menu } from './menu.js';\nconst FilterableMenu = _ref => {\n  let {\n    dataTest,\n    options,\n    onChange,\n    selected,\n    empty,\n    handleClose,\n    handleFocusInput,\n    placeholder,\n    noMatchText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CommonFilterableMenu, {\n    dataTest: dataTest,\n    options: options,\n    onChange: onChange,\n    selected: selected,\n    empty: empty,\n    handleClose: handleClose,\n    handleFocusInput: handleFocusInput,\n    placeholder: placeholder,\n    noMatchText: noMatchText,\n    Menu: Menu\n  });\n};\nFilterableMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { FilterableMenu };","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Content = _ref => {\n  let {\n    children,\n    overflow\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"765109298\", [spacers.dp12]]]) + \" \" + (cx({\n      overflow\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"765109298\",\n    dynamic: [spacers.dp12]\n  }, [`span.__jsx-style-dynamic-selector{margin:0 ${spacers.dp12};color:inherit;white-space:nowrap;}`, \".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}\"]));\n};\nContent.propTypes = {\n  children: PropTypes.any,\n  overflow: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Icon = _ref => {\n  let {\n    icon,\n    dataTest\n  } = _ref;\n  if (!icon) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1889825154\", [spacers.dp4]]])\n  }, icon, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1889825154\",\n    dynamic: [spacers.dp4]\n  }, [`span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-inline-start:${spacers.dp4};margin-inline-end:-6px;border-radius:50%;overflow:hidden;}`, \"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}\"]));\n};\nIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  /** the slot for an icon is 24x24px, bigger elements will be clipped */\n  icon: PropTypes.element\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nfunction CancelOutline(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    className: \"jsx-2898942518\" + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z\",\n    className: \"jsx-2898942518\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2898942518\"\n  }, [\"svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}\"]));\n}\nCancelOutline.propTypes = {\n  className: PropTypes.string\n};\nconst containerStyle = [\"span.jsx-2824632002{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-inline-end:4px;border-radius:12px;margin-inline-start:-8px;}\", `span.jsx-2824632002:hover{background:${colors.grey400};}`];\ncontainerStyle.__hash = \"2824632002\";\nconst removeIcon = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2658726446\"\n  }, [`svg.jsx-2658726446{fill:${colors.grey600};height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}`]),\n  className: \"jsx-2658726446\"\n};\nexport const Remove = _ref2 => {\n  let {\n    onRemove,\n    dataTest\n  } = _ref2;\n  if (!onRemove) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: e => {\n      e.stopPropagation(); // stop onRemove from triggering onClick on container\n      onRemove({}, e);\n    },\n    \"data-test\": dataTest,\n    className: `jsx-${containerStyle.__hash}`\n  }, /*#__PURE__*/React.createElement(CancelOutline, {\n    className: removeIcon.className\n  }), removeIcon.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: containerStyle.__hash\n  }, containerStyle));\n};\nRemove.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onRemove: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Content } from './content.js';\nimport { Icon } from './icon.js';\nimport { Remove } from './remove.js';\nconst DEFAULT_INLINE_MARGIN = '4';\nconst Chip = _ref => {\n  var _ref2, _ref3, _ref4, _ref5;\n  let {\n    selected,\n    dense,\n    disabled,\n    dragging,\n    overflow,\n    className,\n    children,\n    onRemove,\n    onClick,\n    icon,\n    dataTest = 'dhis2-uicore-chip',\n    marginBottom = 4,\n    marginLeft,\n    marginRight,\n    marginTop = 4,\n    marginInlineStart,\n    marginInlineEnd\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: e => {\n      if (!disabled && onClick) {\n        onClick({}, e);\n      }\n    },\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3780556490\", [colors.grey200, colors.grey900, colors.grey300, theme.secondary600, colors.white]], [\"1687525377\", [marginBottom && `margin-bottom: ${marginBottom}px;`, (_ref2 = marginInlineStart !== null && marginInlineStart !== void 0 ? marginInlineStart : marginLeft) !== null && _ref2 !== void 0 ? _ref2 : DEFAULT_INLINE_MARGIN, (_ref3 = marginInlineEnd !== null && marginInlineEnd !== void 0 ? marginInlineEnd : marginRight) !== null && _ref3 !== void 0 ? _ref3 : DEFAULT_INLINE_MARGIN, marginTop && `margin-top: ${marginTop}px`]]]) + \" \" + (cx(className, {\n      selected,\n      dense,\n      disabled,\n      dragging\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: icon,\n    dataTest: `${dataTest}-icon`\n  }), /*#__PURE__*/React.createElement(Content, {\n    overflow: overflow\n  }, children), /*#__PURE__*/React.createElement(Remove, {\n    onRemove: onRemove,\n    dataTest: `${dataTest}-remove`\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3780556490\",\n    dynamic: [colors.grey200, colors.grey900, colors.grey300, theme.secondary600, colors.white]\n  }, [`span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:${colors.grey200};font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:${colors.grey900};}`, \".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}\", `span.__jsx-style-dynamic-selector:hover{background-color:${colors.grey300};}`, `.selected.__jsx-style-dynamic-selector{background-color:${theme.secondary600};font-weight:500;}`, \".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}\", `.selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:${colors.white};}`, \".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}\", \".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}\", \".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1687525377\",\n    dynamic: [marginBottom && `margin-bottom: ${marginBottom}px;`, (_ref2 = marginInlineStart !== null && marginInlineStart !== void 0 ? marginInlineStart : marginLeft) !== null && _ref2 !== void 0 ? _ref2 : DEFAULT_INLINE_MARGIN, (_ref3 = marginInlineEnd !== null && marginInlineEnd !== void 0 ? marginInlineEnd : marginRight) !== null && _ref3 !== void 0 ? _ref3 : DEFAULT_INLINE_MARGIN, marginTop && `margin-top: ${marginTop}px`]\n  }, [`span.__jsx-style-dynamic-selector{${marginBottom && `margin-bottom: ${marginBottom}px;`} margin-inline-start:${(_ref4 = marginInlineStart !== null && marginInlineStart !== void 0 ? marginInlineStart : marginLeft) !== null && _ref4 !== void 0 ? _ref4 : DEFAULT_INLINE_MARGIN}px;margin-inline-end:${(_ref5 = marginInlineEnd !== null && marginInlineEnd !== void 0 ? marginInlineEnd : marginRight) !== null && _ref5 !== void 0 ? _ref5 : DEFAULT_INLINE_MARGIN}px;${marginTop && `margin-top: ${marginTop}px`};}`]));\n};\nChip.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  dragging: PropTypes.bool,\n  icon: PropTypes.element,\n  /** `margin-bottom` value, applied in `px`  */\n  marginBottom: PropTypes.number,\n  /** `margin-inline-end` value, applied in `px`  */\n  marginInlineEnd: PropTypes.number,\n  /** `margin-inline-start` value, applied in `px`  */\n  marginInlineStart: PropTypes.number,\n  /** `margin-inline-start` value, applied in `px`  */\n  marginLeft: PropTypes.number,\n  /** `margin-inline-end` value, applied in `px`  */\n  marginRight: PropTypes.number,\n  /** `margin-top` value, applied in `px`  */\n  marginTop: PropTypes.number,\n  overflow: PropTypes.bool,\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n};\nexport { Chip };","import { Chip } from '@dhis2-ui/chip';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { removeOption, findOptionChild } from '../select/index.js';\nconst createRemoveHandler = _ref => {\n  let {\n    selected,\n    onChange,\n    value\n  } = _ref;\n  return (_, e) => {\n    const filtered = removeOption(value, selected);\n    const data = {\n      selected: filtered\n    };\n    onChange(data, e);\n  };\n};\nconst SelectionList = _ref2 => {\n  let {\n    selected,\n    onChange,\n    disabled,\n    options\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, selected.map(value => {\n    const isProduction = process.env.NODE_ENV === 'production';\n    const selectedOption = findOptionChild(value, options);\n    if (!selectedOption) {\n      const message = `There is no option with the value: \"${value}\". ` + 'Make sure that all the values passed to the selected ' + 'prop match the value of an existing option.';\n      if (isProduction) {\n        // Don't crash the app if in production\n        console.error(message);\n      } else {\n        // Throw error if not in production for maximum visibility\n        throw new Error(message);\n      }\n    }\n    const isDisabled = selectedOption ?\n    // The chip should be disabled if the option or the select are disabled\n    selectedOption.props.disabled || disabled :\n    // If there is no selected option, just look at the select\n    disabled;\n    // Use the selected value if we do not have a label\n    const label = selectedOption ? selectedOption.props.label : value;\n\n    // Create an onRemove handler, but only if it's not disabled\n    const onRemove = isDisabled ? undefined : createRemoveHandler({\n      selected,\n      onChange,\n      value\n    });\n    return /*#__PURE__*/React.createElement(Chip, {\n      key: value,\n      onRemove: onRemove,\n      disabled: isDisabled,\n      marginBottom: 0,\n      marginLeft: 0,\n      marginTop: 0,\n      marginRight: 0,\n      overflow: true,\n      dense: true\n    }, label);\n  }));\n};\nSelectionList.propTypes = {\n  disabled: PropTypes.bool,\n  options: PropTypes.node,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { SelectionList };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { InputClearButton, InputPlaceholder, InputPrefix } from '../select/index.js';\nimport { SelectionList } from './selection-list.js';\nconst Input = _ref => {\n  let {\n    selected,\n    onChange,\n    clearable,\n    clearText,\n    placeholder,\n    dataTest,\n    prefix,\n    options,\n    className,\n    disabled,\n    inputMaxHeight = '100px'\n  } = _ref;\n  const hasSelection = selected.length > 0;\n  const onClear = e => {\n    const data = {\n      selected: []\n    };\n    e.stopPropagation();\n    onChange(data, e);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"64009541\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + (cx('root', className) || \"\")\n  }, /*#__PURE__*/React.createElement(InputPrefix, {\n    prefix: prefix,\n    dataTest: `${dataTest}-prefix`\n  }), !hasSelection && !prefix && /*#__PURE__*/React.createElement(InputPlaceholder, {\n    placeholder: placeholder,\n    dataTest: `${dataTest}-placeholder`\n  }), hasSelection && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"64009541\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(SelectionList, {\n    selected: selected,\n    onChange: onChange,\n    options: options,\n    disabled: disabled\n  })), hasSelection && clearable && !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"64009541\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(InputClearButton, {\n    onClear: onClear,\n    clearText: clearText,\n    dataTest: `${dataTest}-clear`\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"64009541\",\n    dynamic: [colors.grey900]\n  }, [`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${colors.grey900};font-size:14px;line-height:16px;}`, \".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;gap:4px;}\", \".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1331770409\",\n    dynamic: [inputMaxHeight]\n  }, [`.root-input.__jsx-style-dynamic-selector{max-height:${inputMaxHeight};}`]));\n};\nInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  clearable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { Input };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loading as CommonLoading, Select } from '../select/index.js';\nimport { FilterableMenu } from './filterable-menu.js';\nimport { Input } from './input.js';\nimport { Menu } from './menu.js';\n\n// stable object reference\nconst staticArr = [];\nconst MultiSelect = _ref => {\n  let {\n    className,\n    selected = staticArr,\n    tabIndex,\n    maxHeight,\n    inputMaxHeight,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    loading,\n    error,\n    warning,\n    valid,\n    disabled,\n    children,\n    clearable,\n    clearText,\n    filterable,\n    filterPlaceholder,\n    placeholder,\n    prefix,\n    empty,\n    loadingText,\n    noMatchText,\n    initialFocus,\n    dense,\n    dataTest = 'dhis2-uicore-multiselect'\n  } = _ref;\n  // If the select is filterable, use a filterable menu\n  const menu = filterable ? /*#__PURE__*/React.createElement(FilterableMenu, {\n    dataTest: dataTest,\n    empty: empty,\n    noMatchText: noMatchText,\n    placeholder: filterPlaceholder\n  }) : /*#__PURE__*/React.createElement(Menu, {\n    empty: empty,\n    dataTest: dataTest\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: className,\n    selected: selected,\n    input: /*#__PURE__*/React.createElement(Input, {\n      clearable: clearable,\n      clearText: clearText,\n      dataTest: dataTest,\n      placeholder: placeholder,\n      prefix: prefix,\n      inputMaxHeight: inputMaxHeight\n    }),\n    menu: menu,\n    tabIndex: tabIndex,\n    maxHeight: maxHeight,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled,\n    initialFocus: initialFocus,\n    dense: dense\n  }, children, loading && /*#__PURE__*/React.createElement(CommonLoading, {\n    message: loadingText,\n    dataTest: `${dataTest}-loading`\n  }))), /*#__PURE__*/React.createElement(StatusIcon, {\n    error: error,\n    valid: valid,\n    warning: warning\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2180377457\",\n    dynamic: [spacers.dp8]\n  }, [`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp8};}`, \".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\nMultiSelect.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  /** Required if `clearable` prop is `true` */\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  /** Adds a 'clear' option to the menu */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  empty: PropTypes.node,\n  error: sharedPropTypes.statusPropType,\n  filterPlaceholder: PropTypes.string,\n  /** Adds a 'filter' field to the menu */\n  filterable: PropTypes.bool,\n  initialFocus: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  maxHeight: PropTypes.string,\n  /** Required if `filterable` prop is `true` */\n  noMatchText: requiredIf(props => props.filterable, PropTypes.string),\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { MultiSelect };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { Checkbox } from '@dhis2-ui/checkbox';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n// Padding has to be set on the label, so that the entire area is clickable\nconst {\n  styles,\n  className: checkboxClassname\n} = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2013783366\"\n  }, [`.jsx-2013783366{padding:${spacers.dp8} ${spacers.dp12};}`]),\n  className: \"jsx-2013783366\"\n};\nconst MultiSelectOption = _ref => {\n  let {\n    label,\n    active,\n    disabled,\n    onClick,\n    className,\n    dataTest = 'dhis2-uicore-multiselectoption',\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    \"data-value\": value,\n    \"data-label\": label,\n    className: _JSXStyle.dynamic([[\"3813980210\", [colors.grey200]]]) + \" \" + (cx(className, {\n      disabled\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    name: label,\n    className: checkboxClassname,\n    checked: active,\n    label: label,\n    onChange: onClick,\n    disabled: disabled,\n    dense: true\n  }), styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3813980210\",\n    dynamic: [colors.grey200]\n  }, [`div.__jsx-style-dynamic-selector:hover{background-color:${colors.grey200};}`, \"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}\"]));\n};\nMultiSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport { MultiSelectOption };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Empty, filterIgnored, checkIfValidOption } from '../select/index.js';\nconst onIgnoredClick = (_, e) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\nconst Menu = _ref => {\n  let {\n    options,\n    onChange,\n    selected,\n    empty = '',\n    handleFocusInput,\n    handleClose,\n    dataTest\n  } = _ref;\n  const renderedOptions = filterIgnored(options);\n  if (React.Children.count(renderedOptions) === 0) {\n    // If it's a string, supply it to our <Empty> component so it looks better\n    if (typeof empty === 'string') {\n      return /*#__PURE__*/React.createElement(Empty, {\n        message: empty,\n        dataTest: `${dataTest}-empty`\n      });\n    }\n\n    // Otherwise just render the supplied markup\n    return empty;\n  }\n  const children = React.Children.map(options, child => {\n    const isValidOption = checkIfValidOption(child);\n\n    // Return early if the child isn't an option, to prevent attaching handlers etc.\n    if (!isValidOption) {\n      return child;\n    }\n    const {\n      value,\n      disabled: isDisabled\n    } = child.props;\n\n    // Active means the option is currently selected\n    const isActive = value === selected;\n    const onClick = (_, e) => {\n      const data = {\n        selected: value\n      };\n      e.stopPropagation();\n      onChange(data, e);\n      handleClose();\n      handleFocusInput();\n    };\n\n    // Clicks on active options or disabled options should be ignored for the single select\n    const isIgnored = isActive || isDisabled;\n    return /*#__PURE__*/React.cloneElement(child, {\n      ...child.props,\n      onClick: isIgnored ? onIgnoredClick : onClick,\n      active: isActive\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\nMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Menu };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FilterableMenu as CommonFilterableMenu } from '../select/index.js';\nimport { Menu } from './menu.js';\nexport const FilterableMenu = _ref => {\n  let {\n    dataTest,\n    options,\n    onChange,\n    selected,\n    empty,\n    handleClose,\n    handleFocusInput,\n    placeholder,\n    noMatchText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CommonFilterableMenu, {\n    dataTest: dataTest,\n    options: options,\n    onChange: onChange,\n    selected: selected,\n    empty: empty,\n    handleClose: handleClose,\n    handleFocusInput: handleFocusInput,\n    placeholder: placeholder,\n    noMatchText: noMatchText,\n    Menu: Menu\n  });\n};\nFilterableMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { findOptionChild } from '../select/index.js';\nconst Selection = _ref => {\n  let {\n    options,\n    selected,\n    className\n  } = _ref;\n  const isProduction = process.env.NODE_ENV === 'production';\n  const selectedOption = findOptionChild(selected, options);\n  if (!selectedOption) {\n    const message = `There is no option with the value: \"${selected}\". ` + 'Make sure that the value passed to the selected ' + 'prop matches the value of an existing option.';\n    if (isProduction) {\n      // Don't crash the app if in production\n      console.error(message);\n    } else {\n      // Throw error if not in production for maximum visibility\n      throw new Error(message);\n    }\n  }\n  const icon = selectedOption && selectedOption.props.icon;\n  // Use the selected value if we do not have a label\n  const label = selectedOption ? selectedOption.props.label : selected;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + (cx(className, 'root') || \"\")\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + \"root-icon\"\n  }, icon), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1914911415\",\n    dynamic: [spacers.dp8, spacers.dp16, spacers.dp16]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", `.root-icon.__jsx-style-dynamic-selector{margin-inline-end:${spacers.dp8};width:${spacers.dp16};height:${spacers.dp16};overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`]));\n};\nSelection.propTypes = {\n  className: PropTypes.string,\n  options: PropTypes.node,\n  selected: PropTypes.string\n};\nexport { Selection };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { InputClearButton, InputPlaceholder, InputPrefix } from '../select/index.js';\nimport { Selection } from './selection.js';\nconst Input = _ref => {\n  let {\n    selected,\n    onChange,\n    clearable,\n    clearText,\n    placeholder,\n    dataTest,\n    prefix,\n    options,\n    className,\n    disabled,\n    inputMaxHeight = '100px'\n  } = _ref;\n  const hasSelection = selected && typeof selected === 'string';\n  const onClear = e => {\n    const data = {\n      selected: ''\n    };\n    e.stopPropagation();\n    onChange(data, e);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2186325794\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + (cx('root', className) || \"\")\n  }, /*#__PURE__*/React.createElement(InputPrefix, {\n    prefix: prefix,\n    dataTest: `${dataTest}-prefix`\n  }), !hasSelection && !prefix && /*#__PURE__*/React.createElement(InputPlaceholder, {\n    placeholder: placeholder,\n    dataTest: `${dataTest}-placeholder`\n  }), hasSelection && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2186325794\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Selection, {\n    selected: selected,\n    options: options\n  })), hasSelection && clearable && !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2186325794\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(InputClearButton, {\n    onClear: onClear,\n    clearText: clearText,\n    dataTest: `${dataTest}-clear`\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2186325794\",\n    dynamic: [colors.grey900]\n  }, [`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${colors.grey900};font-size:14px;line-height:16px;}`, \".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1331770409\",\n    dynamic: [inputMaxHeight]\n  }, [`.root-input.__jsx-style-dynamic-selector{max-height:${inputMaxHeight};}`]));\n};\nInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  clearable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Input };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loading as CommonLoading, Select } from '../select/index.js';\nimport { FilterableMenu } from './filterable-menu.js';\nimport { Input } from './input.js';\nimport { Menu } from './menu.js';\nconst SingleSelect = _ref => {\n  let {\n    className,\n    selected = '',\n    tabIndex,\n    maxHeight,\n    inputMaxHeight,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    loading,\n    error,\n    warning,\n    valid,\n    disabled,\n    children,\n    clearable,\n    clearText,\n    filterable,\n    filterPlaceholder,\n    placeholder,\n    prefix,\n    empty,\n    loadingText,\n    noMatchText,\n    initialFocus,\n    dense,\n    dataTest = 'dhis2-uicore-singleselect'\n  } = _ref;\n  // If the select is filterable, use a filterable menu\n  const menu = filterable ? /*#__PURE__*/React.createElement(FilterableMenu, {\n    dataTest: dataTest,\n    empty: empty,\n    noMatchText: noMatchText,\n    placeholder: filterPlaceholder\n  }) : /*#__PURE__*/React.createElement(Menu, {\n    empty: empty,\n    dataTest: dataTest\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: className,\n    selected: selected,\n    input: /*#__PURE__*/React.createElement(Input, {\n      clearable: clearable,\n      clearText: clearText,\n      dataTest: dataTest,\n      placeholder: placeholder,\n      prefix: prefix,\n      inputMaxHeight: inputMaxHeight\n    }),\n    menu: menu,\n    tabIndex: tabIndex,\n    maxHeight: maxHeight,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled,\n    initialFocus: initialFocus,\n    dense: dense\n  }, children, loading && /*#__PURE__*/React.createElement(CommonLoading, {\n    message: loadingText,\n    dataTest: `${dataTest}-loading`\n  }))), /*#__PURE__*/React.createElement(StatusIcon, {\n    error: error,\n    valid: valid,\n    warning: warning\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2180377457\",\n    dynamic: [spacers.dp8]\n  }, [`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp8};}`, \".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\nSingleSelect.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  /** Text on button that clears selection. Required if `clearable` prop is true */\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  /** Adds a button to clear selection */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  /** Text or component to display when there are no options */\n  empty: PropTypes.node,\n  /** Applies 'error' appearance for validation feedback. Mutually exclusive with `warning` and `valid` props */\n  error: sharedPropTypes.statusPropType,\n  filterPlaceholder: PropTypes.string,\n  /** Adds a filter field to add text to filter options */\n  filterable: PropTypes.bool,\n  initialFocus: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  maxHeight: PropTypes.string,\n  /** Text to show when filter returns no results. Required if `filterable` prop is true */\n  noMatchText: requiredIf(props => props.filterable, PropTypes.string),\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  tabIndex: PropTypes.string,\n  /** Applies 'valid' appearance for validation feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n  /** Applies 'warning' appearance for validation feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { SingleSelect };","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport { Box } from '@dhis2-ui/box';\nimport { Field } from '@dhis2-ui/field';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nimport { SingleSelect } from '../single-select/index.js';\n\n// TODO: translate\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n  return prop;\n};\nclass SingleSelectField extends React.Component {\n  render() {\n    const {\n      className,\n      onChange,\n      onFocus,\n      onKeyDown,\n      onBlur,\n      required,\n      label,\n      valid,\n      error,\n      warning,\n      disabled,\n      loading,\n      selected = SingleSelectField.defaultProps.selected,\n      tabIndex,\n      helpText,\n      validationText,\n      maxHeight,\n      inputMaxHeight,\n      inputWidth,\n      children,\n      clearable,\n      clearText = SingleSelectField.defaultProps.clearText,\n      filterable,\n      filterPlaceholder = SingleSelectField.defaultProps.filterPlaceholder,\n      placeholder,\n      prefix,\n      empty = SingleSelectField.defaultProps.empty,\n      loadingText = SingleSelectField.defaultProps.loadingText,\n      noMatchText = SingleSelectField.defaultProps.noMatchText,\n      initialFocus,\n      dense,\n      dataTest = SingleSelectField.defaultProps.dataTest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Field, {\n      className: className,\n      dataTest: dataTest,\n      disabled: disabled,\n      required: required,\n      label: label,\n      helpText: helpText,\n      validationText: validationText,\n      error: error,\n      warning: warning,\n      valid: valid\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: inputWidth,\n      minWidth: \"100px\"\n    }, /*#__PURE__*/React.createElement(SingleSelect, {\n      selected: selected,\n      tabIndex: tabIndex,\n      maxHeight: maxHeight,\n      inputMaxHeight: inputMaxHeight,\n      onChange: onChange,\n      onFocus: onFocus,\n      onKeyDown: onKeyDown,\n      onBlur: onBlur,\n      loading: loading,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      clearable: clearable,\n      clearText: translate(clearText),\n      filterable: filterable,\n      filterPlaceholder: translate(filterPlaceholder),\n      placeholder: placeholder,\n      prefix: prefix,\n      empty: translate(empty),\n      loadingText: translate(loadingText),\n      noMatchText: translate(noMatchText),\n      initialFocus: initialFocus,\n      dense: dense\n    }, children)));\n  }\n}\n_defineProperty(SingleSelectField, \"defaultProps\", {\n  dataTest: 'dhis2-uiwidgets-singleselectfield',\n  selected: '',\n  clearText: () => i18n.t('Clear'),\n  empty: () => i18n.t('No data found'),\n  filterPlaceholder: () => i18n.t('Type to filter options'),\n  loadingText: () => i18n.t('Loading options'),\n  noMatchText: () => i18n.t('No options found')\n});\nSingleSelectField.propTypes = {\n  /** Should be `SingleSelectOption` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  /** Label for the button that clears selections */\n  clearText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /** Adds a button to the SingleSelect that clears selections when pressed */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  /** Makes the SingleSelect smaller */\n  dense: PropTypes.bool,\n  /** Disables the SingleSelect */\n  disabled: PropTypes.bool,\n  /** Text to display when there are no options */\n  empty: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  /** Adds 'error' appearance for validation feedback. Mutually exclusive with 'valid' and 'warning' props */\n  error: sharedPropTypes.statusPropType,\n  /** Placeholder text to show in the filter field when it is empty */\n  filterPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  /** Adds a field to filter options */\n  filterable: PropTypes.bool,\n  /** Useful guiding text to display below the SingleSelect */\n  helpText: PropTypes.string,\n  /** Grabs initial focus on the page */\n  initialFocus: PropTypes.bool,\n  /** Constrains the height of the input */\n  inputMaxHeight: PropTypes.string,\n  /** Sets the width of the input. Can be any valid CSS measurement */\n  inputWidth: PropTypes.string,\n  /** Text for the label above the SingleSelect */\n  label: PropTypes.string,\n  /** Applies a loading appearance to the dropdown options */\n  loading: PropTypes.bool,\n  /** Text to display when `loading` is true */\n  loadingText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /** Constrains height of the SingleSelect */\n  maxHeight: PropTypes.string,\n  /** Text to display when there are no filter results */\n  noMatchText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /** Placeholder text when the SingleSelect is empty */\n  placeholder: PropTypes.string,\n  /** Leading text to prefix selections */\n  prefix: PropTypes.string,\n  /** Indicates that a selection is required */\n  required: PropTypes.bool,\n  /** Selected item in the SingleSelect (the string should refer to the item's `value` attribute) */\n  selected: PropTypes.string,\n  tabIndex: PropTypes.string,\n  /** Adds 'valid' appearance for validation feedback. Mutually exclusive with 'error' and 'warning' props */\n  valid: sharedPropTypes.statusPropType,\n  /** Text to provide form validation feedback. Receives styles according to validation status */\n  validationText: PropTypes.string,\n  /** Adds 'warning' appearance for validation feedback. Mutually exclusive with 'valid' and 'error' props */\n  warning: sharedPropTypes.statusPropType,\n  /** Called with signature `({ selected: string }, event)` */\n  onBlur: PropTypes.func,\n  /** Called with signature `({ selected: string }, event)` */\n  onChange: PropTypes.func,\n  /** Called with signature `({ selected: string }, event)` */\n  onFocus: PropTypes.func,\n  /** Called with signature `({ selected: string }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { SingleSelectField };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst SingleSelectOption = _ref => {\n  let {\n    label,\n    active,\n    disabled,\n    onClick,\n    className,\n    dataTest = 'dhis2-uicore-singleselectoption',\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => onClick({}, e),\n    \"data-test\": dataTest,\n    \"data-value\": value,\n    \"data-label\": label,\n    className: _JSXStyle.dynamic([[\"3808134379\", [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]]]) + \" \" + (cx(className, {\n      disabled,\n      active\n    }) || \"\")\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3808134379\",\n    dynamic: [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]\n  }, [`div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${colors.grey900};padding-block:${spacers.dp8};padding-inline:${spacers.dp12};}`, `div.__jsx-style-dynamic-selector:hover{background-color:${colors.grey200};}`, `div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:${colors.teal700};color:${colors.white};cursor:auto;}`, `div.disabled.__jsx-style-dynamic-selector{color:${colors.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`, \"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}\"]));\n};\nSingleSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport { SingleSelectOption };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst styles = [\"svg.jsx-4217794981{display:block;pointer-events:none;height:18px;width:35px;}\", \"svg.jsx-4217794981:dir(rtl){-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}\", \"svg[dir='rtl'].jsx-4217794981{-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1);}\", \"svg.dense.jsx-4217794981{height:14px;width:27px;}\", `svg.jsx-4217794981 .background.jsx-4217794981,svg.jsx-4217794981 .border.jsx-4217794981{fill:${colors.grey600};}`, `svg.jsx-4217794981 .checkmark.jsx-4217794981,svg.jsx-4217794981 .cross.jsx-4217794981,svg.jsx-4217794981 .handle.jsx-4217794981{fill:${colors.white};}`, \"svg.jsx-4217794981 .checkmark.jsx-4217794981:dir(rtl){display:none;}\", \"svg[dir='rtl'].jsx-4217794981 .checkmark.jsx-4217794981{display:none;}\", \"svg.checked.jsx-4217794981 .handle-unchecked.jsx-4217794981,svg.jsx-4217794981:not(.checked) .handle-checked.jsx-4217794981{fill:none;}\", `svg.checked.jsx-4217794981 .background.jsx-4217794981{fill:${colors.teal400};}`, `svg.valid.jsx-4217794981 .background.jsx-4217794981{fill:${colors.blue600};}`, `svg.warning.jsx-4217794981 .background.jsx-4217794981{fill:${colors.yellow700};}`, `svg.error.jsx-4217794981 .background.jsx-4217794981{fill:${colors.red500};}`, `svg.checked.jsx-4217794981 .border.jsx-4217794981{fill:${colors.teal700};}`, `svg.disabled.jsx-4217794981 .background.jsx-4217794981{fill:${colors.grey300};}`, `svg.disabled.jsx-4217794981 .border.jsx-4217794981{fill:${colors.grey400};}`, `svg.valid.jsx-4217794981 .border.jsx-4217794981{fill:${colors.blue600};}`, `svg.valid.checked.jsx-4217794981 .border.jsx-4217794981,svg.valid.indeterminate.jsx-4217794981 .border.jsx-4217794981{fill:${colors.blue700};}`, `svg.warning.jsx-4217794981 .border.jsx-4217794981{fill:${colors.yellow700};}`, `svg.warning.checked.jsx-4217794981 .border.jsx-4217794981{fill:${colors.yellow800};}`, `svg.error.jsx-4217794981 .border.jsx-4217794981{fill:${colors.red500};}`, `svg.error.checked.jsx-4217794981 .border.jsx-4217794981{fill:${colors.red700};}`];\nstyles.__hash = \"4217794981\";\nexport function SwitchRegular(_ref) {\n  var _document$documentEle, _document$documentEle2;\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 42 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    dir: (_document$documentEle = (_document$documentEle2 = document.documentElement) === null || _document$documentEle2 === void 0 ? void 0 : _document$documentEle2.dir) !== null && _document$documentEle !== void 0 ? _document$documentEle : 'ltr',\n    className: `jsx-${styles.__hash}` + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,11 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 C37.071745,0 42,4.923532 42,11 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C4.92825504,22 0,17.0791222 0,11 L0,11 Z\",\n    fill: \"red\",\n    className: `jsx-${styles.__hash}` + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.9924343,0 C36.975248,0 41.8432574,4.76846989 41.99629,10.7115309 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C5.02475203,22 0.156742552,17.2341007 0.00370995454,11.2885915 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 Z M30.9924343,1 L11.0075657,1 C5.47559009,1 0.99991738,5.47461611 0.99991738,10.9871457 L1.00337887,11.2628608 C1.14271146,16.6761076 5.5768313,21 11.0075657,21 L30.9924343,21 C36.5244099,21 41.0000827,16.5253839 41.0000827,11.0128598 L40.9966214,10.7372722 C40.8572703,5.32553352 36.4222391,1 30.9924343,1 Z\"\n\n    // fill=\"#00695C\"\n    // fillRule=\"nonzero\"\n    ,\n    className: `jsx-${styles.__hash}` + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.7071068,7.29289322 L30,9.585 L32.2928932,7.29289322 C32.6533772,6.93240926 33.2206082,6.90467972 33.6128994,7.20970461 L33.7071068,7.29289322 C34.0976311,7.68341751 34.0976311,8.31658249 33.7071068,8.70710678 L33.7071068,8.70710678 L31.415,11 L33.7071068,13.2928932 C34.0976311,13.6834175 34.0976311,14.3165825 33.7071068,14.7071068 C33.3165825,15.0976311 32.6834175,15.0976311 32.2928932,14.7071068 L30,12.415 L27.7071068,14.7071068 C27.3466228,15.0675907 26.7793918,15.0953203 26.3871006,14.7902954 L26.2928932,14.7071068 C25.9023689,14.3165825 25.9023689,13.6834175 26.2928932,13.2928932 L26.2928932,13.2928932 L28.585,11 L26.2928932,8.70710678 C25.9023689,8.31658249 25.9023689,7.68341751 26.2928932,7.29289322 C26.6834175,6.90236893 27.3165825,6.90236893 27.7071068,7.29289322 Z\",\n    fill: \"#FFFFFF\",\n    className: `jsx-${styles.__hash}` + \" \" + \"cross\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.74451387,10.0285252 C7.39595738,10.1198564 7.12375034,10.3923519 7.03251575,10.7412777 C6.94128115,11.0902035 7.04521722,11.4612586 7.30437605,11.7118278 L10.2982384,14.7078028 C10.6875399,15.0973991 11.3185977,15.0973991 11.7078992,14.7078028 L16.695624,8.71585285 C16.9547828,8.46528367 17.0587189,8.09422851 16.9674843,7.74530271 C16.8762497,7.39637691 16.6040426,7.12388146 16.2554861,7.0325502 C15.9069296,6.94121893 15.5362672,7.04526513 15.2859632,7.30469855 L11.0030688,12.5910713 L8.71403676,10.3006735 C8.46373279,10.0412401 8.09307036,9.9371939 7.74451387,10.0285252 Z\"\n\n    // fill=\"#FFFFFF\"\n    // fillRule=\"nonzero\"\n    ,\n    className: `jsx-${styles.__hash}` + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11,20 C15.9705627,20 20,15.9705627 20,11 C20,6.02943725 15.9705627,2 11,2 C6.02943725,2 2,6.02943725 2,11 C2,15.9705627 6.02943725,20 11,20 Z\"\n\n    // fill=\"#FFFFFF\"\n    ,\n    className: `jsx-${styles.__hash}` + \" \" + \"handle handle-unchecked\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,20 C35.9705627,20 40,15.9705627 40,11 C40,6.02943725 35.9705627,2 31,2 C26.0294373,2 22,6.02943725 22,11 C22,15.9705627 26.0294373,20 31,20 Z\"\n\n    // fill=\"#FFFFFF\"\n    ,\n    className: `jsx-${styles.__hash}` + \" \" + \"handle handle-checked\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n}\nSwitchRegular.propTypes = {\n  className: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { SwitchRegular } from './switch-icons.js';\nclass Switch extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"ref\", /*#__PURE__*/createRef());\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(), e);\n      }\n    });\n  }\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n  }\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n  render() {\n    const {\n      'aria-label': ariaLabel,\n      checked = false,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest = 'dhis2-uicore-switch',\n      role = 'switch'\n    } = this.props;\n    const classes = cx({\n      checked,\n      disabled,\n      valid,\n      error,\n      warning,\n      dense\n    });\n    return /*#__PURE__*/React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"3097670863\", [colors.grey900, theme.disabled, theme.focus]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      \"aria-label\": ariaLabel,\n      type: \"checkbox\",\n      role: role,\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"3097670863\", [colors.grey900, theme.disabled, theme.focus]]])\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"3097670863\", [colors.grey900, theme.disabled, theme.focus]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(SwitchRegular, {\n      className: classes\n    })), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3097670863\",\n      dynamic: [colors.grey900, theme.disabled, theme.focus]\n    }, [`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:${colors.grey900};font-size:14px;line-height:19px;}`, \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", `label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${theme.disabled};}`, \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:35px;margin-left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:27px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:5px;border:2px solid transparent;padding:1px;border-radius:14px;}\", \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:12px;}\", `input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${theme.focus};outline-offset:-3px;}`]));\n  }\n}\n_defineProperty(Switch, \"defaultProps\", {\n  checked: false,\n  dataTest: 'dhis2-uicore-switch',\n  role: 'switch'\n});\nSwitch.propTypes = {\n  /** Sets an aria-label attribute on the input */\n  'aria-label': PropTypes.string,\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Makes the switch smaller for information-dense layouts */\n  dense: PropTypes.bool,\n  /** Disables the switch */\n  disabled: PropTypes.bool,\n  /** Applies 'error' styles for validation feedback. Mutually exclusive with `valid` and `warning` prop types */\n  error: sharedPropTypes.statusPropType,\n  /** Grab initial focus on the page */\n  initialFocus: PropTypes.bool,\n  /** Label for the switch. Can be a string or an element, for example an image */\n  label: PropTypes.node,\n  /** Name associated with the switch. Passed to event handlers in object */\n  name: PropTypes.string,\n  /** Sets a role attribute on the input */\n  role: PropTypes.string,\n  tabIndex: PropTypes.string,\n  /** Applies 'valid' styles for validation feedback. Mutually exclusive with `error` and `warning` prop types */\n  valid: sharedPropTypes.statusPropType,\n  /** Value associated with the switch. Passed to event handlers in object */\n  value: PropTypes.string,\n  /** Applies 'warning' styles for validation feedback. Mutually exclusive with `valid` and `error` prop types */\n  warning: sharedPropTypes.statusPropType,\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onBlur: PropTypes.func,\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onChange: PropTypes.func,\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onFocus: PropTypes.func,\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { Switch };","import { colors, theme, spacers } from '@dhis2/ui-constants';\nexport const styles = [`.textarea.jsx-1284170182{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp8};}`, `textarea.jsx-1284170182{box-sizing:border-box;padding:8px 12px;color:${colors.grey900};background-color:white;border:1px solid ${colors.grey500};border-radius:3px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);outline:0;font-size:14px;line-height:17px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;}`, \"textarea.dense.jsx-1284170182{padding:6px 8px;}\", `textarea.jsx-1284170182:focus{outline:none;box-shadow:inset 0 0 0 2px ${theme.focus};border-color:${theme.focus};}`, `textarea.valid.jsx-1284170182{border-color:${theme.valid};}`, `textarea.warning.jsx-1284170182{border-color:${theme.warning};}`, `textarea.error.jsx-1284170182{border-color:${theme.error};}`, `textarea.read-only.jsx-1284170182{background-color:${colors.grey100};border-color:${colors.grey500};cursor:text;}`, `textarea.disabled.jsx-1284170182{background-color:${colors.grey100};border-color:${colors.grey500};color:${theme.disabled};cursor:not-allowed;}`];\nstyles.__hash = \"1284170182\";","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { styles } from './text-area.styles.js';\nexport class TextArea extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"textareaRef\", /*#__PURE__*/React.createRef());\n    _defineProperty(this, \"state\", {\n      height: 'auto'\n    });\n    _defineProperty(this, \"textareaDimensions\", {\n      width: 0,\n      height: 0\n    });\n    _defineProperty(this, \"userHasResized\", false);\n    _defineProperty(this, \"setTextareaDimensions\", () => {\n      const textarea = this.textareaRef.current;\n      this.textareaDimensions = {\n        width: textarea.clientWidth,\n        height: textarea.clientHeight\n      };\n    });\n    _defineProperty(this, \"hasUserResized\", () => {\n      const {\n        width: oldWidth,\n        height: oldHeight\n      } = this.textareaDimensions;\n      this.setTextareaDimensions();\n      const {\n        width: newWidth,\n        height: newHeight\n      } = this.textareaDimensions;\n      const userHasResized = newWidth !== oldWidth || newHeight !== oldHeight;\n      if (userHasResized) {\n        this.userHasResized = true;\n        this.removeResizeListener();\n      }\n    });\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(e), e);\n      }\n    });\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(e), e);\n      }\n    });\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(e), e);\n      }\n    });\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(e), e);\n      }\n    });\n  }\n  componentDidMount() {\n    this.attachResizeListener();\n    if (this.props.initialFocus) {\n      this.textareaRef.current.focus();\n    }\n    if (this.shouldDoAutoGrow()) {\n      this.setHeight();\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (this.shouldDoAutoGrow() && this.props.value !== prevProps.value) {\n      this.setHeight();\n    }\n  }\n  attachResizeListener() {\n    const textarea = this.textareaRef.current;\n    textarea.addEventListener('mousedown', this.setTextareaDimensions);\n    textarea.addEventListener('mouseup', this.hasUserResized);\n  }\n  removeResizeListener() {\n    const textarea = this.textareaRef.current;\n    textarea.removeEventListener('mousedown', this.setTextareaDimensions);\n    textarea.removeEventListener('mouseup', this.hasUserResized);\n  }\n  setHeight() {\n    const textarea = this.textareaRef.current;\n    const offset = textarea.offsetHeight - textarea.clientHeight;\n    const height = textarea.scrollHeight + offset + 'px';\n    this.setState({\n      height\n    });\n  }\n  shouldDoAutoGrow() {\n    return this.props.autoGrow && !this.userHasResized;\n  }\n  createHandlerPayload(e) {\n    return {\n      value: e.target.value,\n      name: this.props.name\n    };\n  }\n  render() {\n    const {\n      className,\n      dense,\n      disabled,\n      readOnly,\n      placeholder,\n      name,\n      valid,\n      error,\n      warning,\n      loading,\n      value,\n      tabIndex,\n      resize = 'vertical',\n      rows = 4,\n      width = '100%',\n      dataTest = 'dhis2-uicore-textarea'\n    } = this.props;\n    const {\n      height\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest,\n      className: `jsx-${styles.__hash}` + \" \" + _JSXStyle.dynamic([[\"3036048772\", [width, height, resize]]]) + \" \" + (cx('textarea', className) || \"\")\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: name,\n      name: name,\n      placeholder: placeholder,\n      ref: this.textareaRef,\n      value: value,\n      disabled: disabled,\n      readOnly: readOnly,\n      tabIndex: tabIndex,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      onChange: this.handleChange,\n      rows: rows,\n      className: `jsx-${styles.__hash}` + \" \" + _JSXStyle.dynamic([[\"3036048772\", [width, height, resize]]]) + \" \" + (cx({\n        dense,\n        disabled,\n        error,\n        valid,\n        warning,\n        'read-only': readOnly\n      }) || \"\")\n    }), /*#__PURE__*/React.createElement(StatusIcon, {\n      error: error,\n      valid: valid,\n      loading: loading,\n      warning: warning\n    }), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: styles.__hash\n    }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3036048772\",\n      dynamic: [width, height, resize]\n    }, [`textarea.__jsx-style-dynamic-selector{width:${width};height:${height};resize:${resize};}`]));\n  }\n}\n_defineProperty(TextArea, \"defaultProps\", {\n  rows: 4,\n  width: '100%',\n  resize: 'vertical',\n  dataTest: 'dhis2-uicore-textarea'\n});\nTextArea.propTypes = {\n  /** Grow the text area in response to overflow instead of adding a scroll bar */\n  autoGrow: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Compact mode */\n  dense: PropTypes.bool,\n  /** Disables the textarea and makes in non-interactive */\n  disabled: PropTypes.bool,\n  /** Applies 'error' styles for validation feedback. Mutually exclusive with `valid` and `warning` props */\n  error: sharedPropTypes.statusPropType,\n  /** Grabs initial focus on the page */\n  initialFocus: PropTypes.bool,\n  /** Adds a loading spinner */\n  loading: PropTypes.bool,\n  /** Name associated with the text area. Passed in object argument to event handlers. */\n  name: PropTypes.string,\n  /** Placeholder text for an empty textarea */\n  placeholder: PropTypes.string,\n  /** Makes the textarea read-only */\n  readOnly: PropTypes.bool,\n  /** [Resize property](https://developer.mozilla.org/en-US/docs/Web/CSS/resize) for the textarea element */\n  resize: PropTypes.oneOf(['none', 'both', 'horizontal', 'vertical']),\n  /** Initial height of the textarea, in lines of text */\n  rows: PropTypes.number,\n  tabIndex: PropTypes.string,\n  /** Applies 'valid' styles for validation feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n  /** Value in the textarea. Can be used to control component (recommended). Passed in object argument to event handlers. */\n  value: PropTypes.string,\n  /** Applies 'warning' styles for validation feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n  /** Width of the text area. Can be any valid CSS measurement */\n  width: PropTypes.string,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onBlur: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onChange: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onFocus: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onKeyDown: PropTypes.func\n};","import { sharedPropTypes } from '@dhis2/ui-constants';\nimport { Box } from '@dhis2-ui/box';\nimport { Field } from '@dhis2-ui/field';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TextArea } from '../text-area/index.js';\nconst TextAreaField = _ref => {\n  let {\n    className,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    initialFocus,\n    dense,\n    required,\n    label,\n    disabled,\n    placeholder,\n    name,\n    valid,\n    error,\n    warning,\n    loading,\n    value,\n    tabIndex,\n    helpText,\n    validationText,\n    autoGrow,\n    readOnly,\n    resize = 'vertical',\n    rows = 4,\n    inputWidth,\n    dataTest = 'dhis2-uiwidgets-textareafield'\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Field, {\n    className: className,\n    dataTest: dataTest,\n    disabled: disabled,\n    required: required,\n    name: name,\n    helpText: helpText,\n    validationText: validationText,\n    error: error,\n    warning: warning,\n    valid: valid,\n    label: label\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: inputWidth,\n    minWidth: \"220px\"\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    onChange: onChange,\n    name: name,\n    value: value || '',\n    placeholder: placeholder,\n    disabled: disabled,\n    valid: valid,\n    warning: warning,\n    error: error,\n    loading: loading,\n    dense: dense,\n    tabIndex: tabIndex,\n    initialFocus: initialFocus,\n    autoGrow: autoGrow,\n    readOnly: readOnly,\n    resize: resize,\n    rows: rows\n  })));\n};\nTextAreaField.propTypes = {\n  /** Grow the text area in response to overflow instead of adding a scroll bar */\n  autoGrow: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Compact mode */\n  dense: PropTypes.bool,\n  /** Disables the textarea and makes in non-interactive */\n  disabled: PropTypes.bool,\n  /** Applies 'error' styles for validation feedback. Mutually exclusive with `valid` and `warning` props */\n  error: sharedPropTypes.statusPropType,\n  /** Adds useful help text below the textarea */\n  helpText: PropTypes.string,\n  /** Grabs initial focus on the page */\n  initialFocus: PropTypes.bool,\n  /** Sets the width of the textarea. Minimum 220px. Any valid CSS measurement can be used */\n  inputWidth: PropTypes.string,\n  /** Labels the textarea */\n  label: PropTypes.string,\n  /** Adds a loading spinner */\n  loading: PropTypes.bool,\n  /** Name associated with the text area. Passed in object argument to event handlers. */\n  name: PropTypes.string,\n  /** Placeholder text for an empty textarea */\n  placeholder: PropTypes.string,\n  /** Makes the textarea read-only */\n  readOnly: PropTypes.bool,\n  /** Adds an asterisk to the label to indicate this field is required */\n  required: PropTypes.bool,\n  /** [Resize property](https://developer.mozilla.org/en-US/docs/Web/CSS/resize) for the textarea element */\n  resize: PropTypes.oneOf(['none', 'both', 'horizontal', 'vertical']),\n  /** Initial height of the textarea, in lines of text */\n  rows: PropTypes.number,\n  tabIndex: PropTypes.string,\n  /** Applies 'valid' styles for validation feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n  /** Validation text below the textarea to provide validation feedback. Changes appearance depending on validation status */\n  validationText: PropTypes.string,\n  /** Value in the textarea. Can be used to control component (recommended). Passed in object argument to event handlers. */\n  value: PropTypes.string,\n  /** Applies 'warning' styles for validation feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onBlur: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onChange: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onFocus: PropTypes.func,\n  /** Called with signature `({ name: string, value: string }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { TextAreaField };","export const isEmpty = value => typeof value === 'undefined' || value === null || value === '';\nexport const isString = value => typeof value === 'string';\nexport const isNumber = value => typeof value === 'number';\nexport const isNumeric = value => (isString(value) || isNumber(value)) && !isNaN(value);\nexport const isInRange = (lowerBound, upperBound, value) => value >= lowerBound && value <= upperBound;\nexport const toNumber = value => Number(value);\nexport const requiredArgumentErrorMessage = 'Incorrect arguments provided when creating validator';\nexport const requireArgument = (value, type) => {\n  if (isEmpty(value) || typeof value !== type) {\n    throw new Error(requiredArgumentErrorMessage);\n  }\n};","export const composeValidators = function () {\n  for (var _len = arguments.length, validators = new Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return validators.reduce((error, validator) => error || validator(...args), undefined);\n  };\n};","import i18n from '../locales/index.js';\nimport { isEmpty } from './helpers/index.js';\nconst hasValueMessage = i18n.t('Please provide a value');\nconst hasValue = value => isEmpty(value) ? hasValueMessage : undefined;\nexport { hasValue, hasValueMessage };","import i18n from '../locales/index.js';\nimport { isEmpty, isString } from './helpers/index.js';\n\n// Source: https://gist.github.com/dperini/729294\nconst URL_PATTERN = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\nconst invalidUrlMessage = i18n.t('Please provide a valid url');\nconst url = value => isEmpty(value) || isString(value) && URL_PATTERN.test(value) ? undefined : invalidUrlMessage;\nexport { url, invalidUrlMessage };","import _JSXStyle from \"styled-jsx/style\";\nimport * as theme from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst toPrefixedThemeSection = themeSectionKey =>\n// eslint-disable-next-line import/namespace\nObject.entries(theme[themeSectionKey]).reduce((prefixed, _ref) => {\n  let [key, value] = _ref;\n  prefixed[`${themeSectionKey}-${key}`] = value;\n  return prefixed;\n}, {});\nconst toCustomPropertyString = themeSection => Object.entries(themeSection).map(_ref2 => {\n  let [key, value] = _ref2;\n  return `--${key}: ${value};`;\n}).join('\\n');\nconst CssVariables = _ref3 => {\n  let {\n    colors = false,\n    theme = false,\n    layers = false,\n    spacers = false,\n    elevations = false\n  } = _ref3;\n  const allowedProps = {\n    colors,\n    theme,\n    layers,\n    spacers,\n    elevations\n  };\n  const variables = Object.keys(allowedProps)\n  // Filter all props that are false\n  .filter(prop => allowedProps[prop])\n  // Map props to corresponding theme section and prefixes keys with section name\n  .map(toPrefixedThemeSection)\n  // Map each section to a single string of css custom property declarations\n  .map(toCustomPropertyString)\n  // Join all the sections to a single string\n  .join('\\n');\n  return /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3443925957\",\n    dynamic: [variables]\n  }, [`html{${variables};}`]);\n};\nCssVariables.propTypes = {\n  colors: PropTypes.bool,\n  elevations: PropTypes.bool,\n  layers: PropTypes.bool,\n  spacers: PropTypes.bool,\n  theme: PropTypes.bool\n};\nexport { CssVariables };","import { useState, useCallback, useRef, useEffect } from 'react';\nimport { FetchError } from '../../engine';\nimport { useStaticInput } from './useStaticInput';\nexport const useQueryExecutor = _ref => {\n  let {\n    execute,\n    variables: initialVariables,\n    singular,\n    immediate,\n    onComplete,\n    onError\n  } = _ref;\n  const [theExecute] = useStaticInput(execute);\n  const [state, setState] = useState({\n    called: !!immediate,\n    loading: !!immediate\n  });\n  const variables = useRef(initialVariables);\n  const abortControllersRef = useRef([]);\n  const abort = useCallback(() => {\n    abortControllersRef.current.forEach(controller => controller.abort());\n    abortControllersRef.current = [];\n  }, []);\n  const manualAbort = useCallback(() => {\n    abort();\n    setState(state => ({\n      called: state.called,\n      loading: false,\n      error: new FetchError({\n        type: 'aborted',\n        message: 'Aborted'\n      })\n    }));\n  }, [abort]);\n  const refetch = useCallback(function () {\n    let newVariables = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setState(state => !state.called || !state.loading ? {\n      called: true,\n      loading: true\n    } : state);\n    if (singular) {\n      abort(); // Cleanup any in-progress fetches\n    }\n    const controller = new AbortController();\n    abortControllersRef.current.push(controller);\n    variables.current = {\n      ...variables.current,\n      ...newVariables\n    };\n    const options = {\n      variables: variables.current,\n      signal: controller.signal,\n      onComplete,\n      onError\n    };\n    return theExecute(options).then(data => {\n      if (!controller.signal.aborted) {\n        setState({\n          called: true,\n          loading: false,\n          data\n        });\n        return data;\n      }\n      return new Promise(() => undefined); // Wait forever\n    }).catch(error => {\n      if (!controller.signal.aborted) {\n        setState({\n          called: true,\n          loading: false,\n          error\n        });\n      }\n      return new Promise(() => undefined); // Don't throw errors in refetch promises, wait forever\n    });\n  }, [abort, onComplete, onError, singular, theExecute]);\n\n  // Don't include immediate or refetch as deps, otherwise unintentional refetches\n  // may be triggered by changes to input, i.e. recreating the onComplete callback\n  useEffect(() => {\n    if (immediate) {\n      refetch();\n    }\n    return abort;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return {\n    refetch,\n    abort: manualAbort,\n    ...state\n  };\n};","import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataMutation = function (mutation) {\n  let {\n    onComplete,\n    onError,\n    variables = empty,\n    lazy = true\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const engine = useDataEngine();\n  const [theMutation] = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  });\n  const execute = useCallback(options => engine.mutate(theMutation, options), [engine, theMutation]);\n  const {\n    refetch: mutate,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return [mutate, {\n    engine,\n    called,\n    loading,\n    error,\n    data\n  }];\n};","const getArrowPosition = popperPlacement => {\n  const direction = typeof popperPlacement === 'string' ? popperPlacement.split('-')[0] : '';\n  switch (direction) {\n    case 'top':\n      return 'bottom';\n    case 'right':\n      return 'left';\n    case 'bottom':\n      return 'top';\n    case 'left':\n      return 'right';\n    default:\n      return '';\n  }\n};\nexport { getArrowPosition };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { getArrowPosition } from './get-arrow-position.js';\nconst ARROW_SIZE = 8;\nconst Arrow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    hidden,\n    popperPlacement,\n    styles\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"dhis2-uicore-popoverarrow\",\n    style: styles,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"1397459397\", [ARROW_SIZE, ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, colors.white, colors.white]]]) + \" \" + (cx(getArrowPosition(popperPlacement), {\n      hidden\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1397459397\",\n    dynamic: [ARROW_SIZE, ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, colors.white, colors.white]\n  }, [`div.__jsx-style-dynamic-selector{width:${ARROW_SIZE}px;height:${ARROW_SIZE}px;position:absolute;}`, `div.top.__jsx-style-dynamic-selector{top:-${ARROW_SIZE / 2}px;}`, `div.right.__jsx-style-dynamic-selector{right:-${ARROW_SIZE / 2}px;}`, `div.bottom.__jsx-style-dynamic-selector{bottom:-${ARROW_SIZE / 2}px;}`, `div.left.__jsx-style-dynamic-selector{left:-${ARROW_SIZE / 2}px;}`, \"div.hidden.__jsx-style-dynamic-selector{visibility:hidden;}\", `div.__jsx-style-dynamic-selector::after{content:'';position:absolute;pointer-events:none;box-sizing:border-box;border-style:solid;border-width:${ARROW_SIZE / 2}px;border-color:transparent transparent ${colors.white} ${colors.white};box-shadow:-1px 1px 1px 0 rgba(64,75,90,0.08), -3px 3px 8px -6px rgba(64,75,90,0.15);}`, \"div.bottom.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}\", \"div.top.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);}\", \"div.right.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg);}\", \"div.left.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}\"]));\n});\nArrow.displayName = 'Arrow';\nArrow.propTypes = {\n  hidden: PropTypes.bool,\n  popperPlacement: PropTypes.string,\n  styles: PropTypes.shape({\n    left: PropTypes.string,\n    position: PropTypes.string,\n    top: PropTypes.string,\n    transform: PropTypes.string\n  })\n};\nexport { Arrow, ARROW_SIZE };","import { getBaseModifiers } from '@dhis2-ui/popper';\nimport { ARROW_SIZE } from './arrow.js';\nconst BORDER_RADIUS = 4;\nconst computeArrowPadding = () => {\n  // pythagoras\n  const diagonal = Math.sqrt(2 * Math.pow(ARROW_SIZE, 2));\n  const overflowInPx = (diagonal - ARROW_SIZE) / 2;\n  const padding = BORDER_RADIUS + overflowInPx;\n  return Math.ceil(padding);\n};\nconst hideArrowWhenDisplaced = _ref => {\n  let {\n    state\n  } = _ref;\n  const halfArrow = ARROW_SIZE / 2;\n  const displacement = state.modifiersData.preventOverflow;\n  const referenceRect = state.rects.reference;\n  const shouldHideArrow = Math.abs(displacement.x) >= referenceRect.width + halfArrow || Math.abs(displacement.y) >= referenceRect.height + halfArrow;\n  if (typeof state.attributes.arrow !== 'object') {\n    state.attributes.arrow = {};\n  }\n  state.attributes.arrow['data-arrow-hidden'] = shouldHideArrow;\n  return state;\n};\nexport const combineModifiers = (arrow, arrowElement, resizeObservers) => {\n  const baseModifiers = getBaseModifiers(resizeObservers);\n  if (!arrow) {\n    return baseModifiers;\n  }\n  return [...baseModifiers, {\n    name: 'offset',\n    options: {\n      offset: [0, ARROW_SIZE]\n    }\n  }, {\n    name: 'arrow',\n    options: {\n      padding: computeArrowPadding(),\n      element: arrowElement\n    }\n  }, {\n    name: 'hideArrowWhenDisplaced',\n    enabled: true,\n    phase: 'main',\n    fn: hideArrowWhenDisplaced,\n    requires: ['preventOverflow']\n  }];\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { colors, elevations, sharedPropTypes } from '@dhis2/ui-constants';\nimport { Layer } from '@dhis2-ui/layer';\nimport { getReferenceElement, usePopper } from '@dhis2-ui/popper';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport { Arrow } from './arrow.js';\nimport { combineModifiers } from './modifiers.js';\nconst Popover = _ref => {\n  let {\n    children,\n    reference,\n    arrow = true,\n    className,\n    dataTest = 'dhis2-uicore-popover',\n    elevation = elevations.e200,\n    maxWidth = 360,\n    observePopperResize,\n    observeReferenceResize,\n    placement = 'top',\n    onClickOutside\n  } = _ref;\n  const referenceElement = getReferenceElement(reference);\n  const [popperElement, setPopperElement] = useState(null);\n  const [arrowElement, setArrowElement] = useState(null);\n  const modifiers = useMemo(() => combineModifiers(arrow, arrowElement, {\n    observePopperResize,\n    observeReferenceResize\n  }), [arrow, arrowElement, observePopperResize, observeReferenceResize]);\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    placement,\n    modifiers\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClickOutside\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"data-test\": dataTest,\n    ref: setPopperElement,\n    style: styles.popper\n  }, attributes.popper, {\n    className: _JSXStyle.dynamic([[\"632767479\", [maxWidth, elevation, colors.white]]]) + \" \" + (attributes.popper && attributes.popper.className != null && attributes.popper.className || className || \"\")\n  }), children, arrow && /*#__PURE__*/React.createElement(Arrow, {\n    hidden: attributes.arrow && attributes.arrow['data-arrow-hidden'],\n    popperPlacement: attributes.popper && attributes.popper['data-popper-placement'],\n    ref: setArrowElement,\n    styles: styles.arrow\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"632767479\",\n    dynamic: [maxWidth, elevation, colors.white]\n  }, [`div.__jsx-style-dynamic-selector{max-width:${maxWidth}px;box-shadow:${elevation};background-color:${colors.white};border-radius:4px;}`])));\n};\nPopover.propTypes = {\n  children: PropTypes.node.isRequired,\n  /** Show or hide the arrow */\n  arrow: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Box-shadow to create appearance of elevation.  Use `elevations` constants from the UI library. */\n  elevation: PropTypes.string,\n  maxWidth: PropTypes.number,\n  observePopperResize: PropTypes.bool,\n  observeReferenceResize: PropTypes.bool,\n  placement: sharedPropTypes.popperPlacementPropType,\n  /** A React ref that refers to the element the Popover should position against */\n  reference: sharedPropTypes.popperReferencePropType,\n  onClickOutside: PropTypes.func\n};\nexport { Popover };","/**\n * Access types\n */\n\nexport const ACCESS_NONE = 'ACCESS_NONE';\nexport const ACCESS_VIEW_ONLY = 'ACCESS_VIEW_ONLY';\nexport const ACCESS_VIEW_AND_EDIT = 'ACCESS_VIEW_AND_EDIT';\n\n/**\n * Sharing targets\n */\n\nexport const SHARE_TARGET_EXTERNAL = 'SHARE_TARGET_EXTERNAL';\nexport const SHARE_TARGET_PUBLIC = 'SHARE_TARGET_PUBLIC';\nexport const SHARE_TARGET_USER = 'SHARE_TARGET_USER';\nexport const SHARE_TARGET_GROUP = 'SHARE_TARGET_GROUP';\n\n/**\n * Sharing dialog types\n */\n\nexport const DIALOG_TYPES = {\n  AGGREGATE_DATA_EXCHANGE: 'aggregateDataExchange',\n  API_TOKEN: 'apiToken',\n  ATTRIBUTE: 'attribute',\n  CATEGORY: 'category',\n  CATEGORY_COMBO: 'categoryCombo',\n  CATEGORY_OPTION: 'categoryOption',\n  CATEGORY_OPTION_GROUP: 'categoryOptionGroup',\n  CATEGORY_OPTION_GROUP_SET: 'categoryOptionGroupSet',\n  CONSTANT: 'constant',\n  DASHBOARD: 'dashboard',\n  DATA_APPROVAL_LEVEL: 'dataApprovalLevel',\n  DATA_APPROVAL_WORKFLOW: 'dataApprovalWorkflow',\n  DATA_ELEMENT: 'dataElement',\n  DATA_ELEMENT_GROUP: 'dataElementGroup',\n  DATA_ELEMENT_GROUP_SET: 'dataElementGroupSet',\n  DATA_SET: 'dataSet',\n  DOCUMENT: 'document',\n  EVENT_CHART: 'eventChart',\n  EVENT_FILTER: 'eventFilter',\n  EVENT_REPORT: 'eventReport',\n  EVENT_VISUALIZATION: 'eventVisualization',\n  EXPRESSION_DIMENSION_ITEM: 'expressionDimensionItem',\n  EXTERNAL_MAP_LAYER: 'externalMapLayer',\n  IDENTIFIABLE_OBJECT: 'identifiableObject',\n  INDICATOR: 'indicator',\n  INDICATOR_GROUP: 'indicatorGroup',\n  INDICATOR_GROUP_SET: 'indicatorGroupSet',\n  INTERPRETATION: 'interpretation',\n  LEGEND_SET: 'legendSet',\n  MAP: 'map',\n  OPTION_GROUP: 'optionGroup',\n  OPTION_GROUP_SET: 'optionGroupSet',\n  OPTION_SET: 'optionSet',\n  ORGANISATION_UNIT_GROUP: 'organisationUnitGroup',\n  ORGANISATION_UNIT_GROUP_SET: 'organisationUnitGroupSet',\n  PREDICTOR_GROUP: 'predictorGroup',\n  PROGRAM: 'program',\n  PROGRAM_INDICATOR: 'programIndicator',\n  PROGRAM_INDICATOR_GROUP: 'programIndicatorGroup',\n  PROGRAM_STAGE: 'programStage',\n  PROGRAM_STAGE_WORKING_LIST: 'programStageWorkingList',\n  RELATIONSHIP_TYPE: 'relationshipType',\n  REPORT: 'report',\n  SQL_VIEW: 'sqlView',\n  TRACKED_ENTITY_ATTRIBUTE: 'trackedEntityAttribute',\n  TRACKED_ENTITY_FILTER: 'trackedEntityFilter',\n  TRACKED_ENTITY_TYPE: 'trackedEntityType',\n  USER_GROUP: 'userGroup',\n  USER_ROLE: 'userRole',\n  VALIDATION_RULE: 'validationRule',\n  VALIDATION_RULE_GROUP: 'validationRuleGroup',\n  VISUALIZATION: 'visualization'\n};\nexport const DIALOG_TYPES_LIST = Object.values(DIALOG_TYPES);","import { createContext } from 'react';\nexport const FetchingContext = /*#__PURE__*/createContext(false);","var _this = this;\nimport { ACCESS_VIEW_ONLY, ACCESS_NONE, ACCESS_VIEW_AND_EDIT, SHARE_TARGET_EXTERNAL, SHARE_TARGET_PUBLIC } from '../constants.js';\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered. The\n * function will be called after it stops being called for N milliseconds. If `immediate` is\n * passed, trigger the function on the leading edge, instead of the trailing.\n */\n\nexport const debounce = (func, wait, immediate) => {\n  let timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const context = _this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n\n/**\n * Access and constant conversion\n */\n\nconst convertAccessStringToConstant = access => {\n  if (access === undefined) {\n    return ACCESS_NONE;\n  }\n  if (typeof access === 'boolean') {\n    return access ? ACCESS_VIEW_ONLY : ACCESS_NONE;\n  }\n  if (access.startsWith('rw')) {\n    return ACCESS_VIEW_AND_EDIT;\n  } else if (access.startsWith('r-')) {\n    return ACCESS_VIEW_ONLY;\n  } else {\n    return ACCESS_NONE;\n  }\n};\nexport const convertAccessToConstantObject = accessString => {\n  if (typeof accessString === 'boolean') {\n    return {\n      data: ACCESS_NONE,\n      metadata: convertAccessStringToConstant(accessString)\n    };\n  }\n  const metadataAccessString = accessString === null || accessString === void 0 ? void 0 : accessString.substring(0, 2);\n  const dataAccessString = accessString === null || accessString === void 0 ? void 0 : accessString.substring(2, 4);\n  return {\n    data: convertAccessStringToConstant(dataAccessString),\n    metadata: convertAccessStringToConstant(metadataAccessString)\n  };\n};\nexport const convertConstantToAccessString = constant => {\n  switch (constant) {\n    case ACCESS_NONE:\n      return '--';\n    case ACCESS_VIEW_ONLY:\n      return 'r-';\n    case ACCESS_VIEW_AND_EDIT:\n      return 'rw';\n    default:\n      return '--';\n  }\n};\nexport const convertConstantObjectToAccess = accessObject => {\n  return `${convertConstantToAccessString(accessObject.metadata)}${convertConstantToAccessString(accessObject.data)}----`;\n};\n\n/**\n * Replaces access property with constants used internally\n */\n\nexport const replaceAccessWithConstant = _ref => {\n  let {\n    access,\n    ...rest\n  } = _ref;\n  return {\n    ...rest,\n    access: convertAccessToConstantObject(access)\n  };\n};\n\n/**\n * Helper to check whether to allow removing for the selected target\n */\n\nconst permanentTargets = [SHARE_TARGET_EXTERNAL, SHARE_TARGET_PUBLIC];\nexport const isRemovableTarget = target => {\n  // Do not allow removal of permanent targets\n  return !permanentTargets.includes(target);\n};\n\n/**\n * Mutation payload creators\n */\n\nexport const createOnChangePayload = _ref2 => {\n  let {\n    object,\n    type,\n    access,\n    id\n  } = _ref2;\n  switch (type) {\n    case 'public':\n      {\n        const data = {\n          object: {\n            ...object,\n            publicAccess: convertConstantObjectToAccess(access)\n          }\n        };\n        return data;\n      }\n    case 'group':\n      {\n        const userGroupAccesses = object.userGroupAccesses.map(group => {\n          if (group.id !== id) {\n            return group;\n          }\n          return {\n            ...group,\n            access: convertConstantObjectToAccess(access)\n          };\n        });\n        const data = {\n          object: {\n            ...object,\n            userGroupAccesses\n          }\n        };\n        console.log(data);\n        return data;\n      }\n    case 'user':\n      {\n        const userAccesses = object.userAccesses.map(user => {\n          if (user.id !== id) {\n            return user;\n          }\n          return {\n            ...user,\n            access: convertConstantObjectToAccess(access)\n          };\n        });\n        const data = {\n          object: {\n            ...object,\n            userAccesses\n          }\n        };\n        return data;\n      }\n  }\n};\nexport const createOnAddPayload = _ref3 => {\n  let {\n    object,\n    type,\n    id,\n    access,\n    name\n  } = _ref3;\n  switch (type) {\n    case 'group':\n      {\n        const data = {\n          object: {\n            ...object,\n            userGroupAccesses: [...object.userGroupAccesses, {\n              id,\n              name,\n              access: convertConstantObjectToAccess(access)\n            }]\n          }\n        };\n        return data;\n      }\n    case 'user':\n      {\n        const data = {\n          object: {\n            ...object,\n            userAccesses: [...object.userAccesses, {\n              id,\n              name,\n              access: convertConstantObjectToAccess(access)\n            }]\n          }\n        };\n        return data;\n      }\n  }\n};\nexport const createOnRemovePayload = _ref4 => {\n  let {\n    object,\n    type,\n    id\n  } = _ref4;\n  switch (type) {\n    case 'group':\n      {\n        const userGroupAccesses = object.userGroupAccesses.filter(group => group.id !== id);\n        const data = {\n          object: {\n            ...object,\n            userGroupAccesses\n          }\n        };\n        return data;\n      }\n    case 'user':\n      {\n        const userAccesses = object.userAccesses.filter(user => user.id !== id);\n        const data = {\n          object: {\n            ...object,\n            userAccesses\n          }\n        };\n        return data;\n      }\n  }\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport fiTranslations from './fi/translations.json';\nimport frTranslations from './fr/translations.json';\nimport hi_INTranslations from './hi_IN/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fi', namespace, fiTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('hi_IN', namespace, hi_INTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { ButtonStrip, Button } from '@dhis2-ui/button';\nimport { Modal as Dhis2Modal, ModalTitle, ModalContent, ModalActions } from '@dhis2-ui/modal';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nexport const Modal = _ref => {\n  let {\n    onClose,\n    name,\n    children,\n    dataTest = 'dhis2-uicore-sharingdialog-modal'\n  } = _ref;\n  const title = name ? i18n.t('Sharing and access: {{- objectName}}', {\n    objectName: name,\n    nsSeparator: '|'\n  }) : i18n.t('Sharing and access');\n  return /*#__PURE__*/React.createElement(Dhis2Modal, {\n    large: true,\n    position: \"top\",\n    onClose: onClose,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, title), /*#__PURE__*/React.createElement(ModalContent, null, children), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('Close')))));\n};\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  dataTest: PropTypes.string,\n  name: PropTypes.string,\n  onClose: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport { Tooltip } from '@dhis2-ui/tooltip';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useRef } from 'react';\nexport const Tab = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    icon,\n    onClick,\n    selected,\n    disabled,\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tab'\n  } = _ref;\n  let tabRef = useRef(null);\n  if (ref) {\n    tabRef = ref;\n  }\n  const [isOverflowing, setIsOverflowing] = useState(false);\n  useEffect(() => {\n    const checkOverflow = () => {\n      const isOverflow = tabRef.current.scrollWidth > tabRef.current.clientWidth;\n      setIsOverflowing(isOverflow);\n    };\n    checkOverflow();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: disabled ? undefined : event => onClick({}, event),\n    \"data-test\": dataTest,\n    ref: tabRef,\n    role: \"tab\",\n    \"aria-selected\": selected ? 'true' : 'false',\n    \"aria-disabled\": disabled ? 'true' : 'false',\n    onFocus: disabled ? undefined : event => onClick({}, event),\n    tabIndex: -1,\n    className: _JSXStyle.dynamic([[\"2433456263\", [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]]]) + \" \" + `${cx('tab', className, {\n      selected,\n      disabled\n    })}`\n  }, icon, isOverflowing ? /*#__PURE__*/React.createElement(Tooltip, {\n    content: children,\n    maxWidth: '100%'\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    ref: tabRef,\n    className: _JSXStyle.dynamic([[\"2433456263\", [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]]])\n  }, children)) : /*#__PURE__*/React.createElement(\"span\", {\n    ref: tabRef,\n    className: _JSXStyle.dynamic([[\"2433456263\", [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]]])\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2433456263\",\n    dynamic: [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]\n  }, [`button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ${colors.grey400};color:${colors.grey600};font-size:14px;line-height:20px;cursor:pointer;}`, \".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \"button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;inset-inline-start:0;height:4px;width:100%;background-color:transparent;}\", \"span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}\", `button.__jsx-style-dynamic-selector:focus{outline:3px solid ${theme.focus};outline-offset:-3px;}`, \"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}\", `button.__jsx-style-dynamic-selector>svg{fill:${colors.grey600};width:14px;height:14px;margin:0 4px 0 0;}`, `button.__jsx-style-dynamic-selector:hover{color:${colors.grey900};}`, `button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${colors.grey600};height:2px;}`, `button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:${colors.grey800};}`, `button.selected.__jsx-style-dynamic-selector{color:${theme.primary800};}`, `button.selected.__jsx-style-dynamic-selector::after{background-color:${theme.primary700};-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}`, `button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${theme.primary700};height:4px;}`, `button.selected.__jsx-style-dynamic-selector>svg{fill:${theme.primary700};}`, `button.disabled.__jsx-style-dynamic-selector{color:${colors.grey500};cursor:not-allowed;}`, \"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", `button.disabled.__jsx-style-dynamic-selector>svg{fill:${colors.grey500};}`]));\n});\nTab.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  icon: PropTypes.element,\n  /** Indicates this tab is selected */\n  selected: PropTypes.bool,\n  /** Called with the signature `({}, event)` */\n  onClick: PropTypes.func\n};\nTab.displayName = 'Tab';","const DURATION = 250;\nconst SCROLL_STEP = 0.5;\nexport function animatedSideScroll(scrollBox, callback) {\n  let goBackwards = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  const startValue = scrollBox.scrollLeft;\n  const endValue = getEndValue(scrollBox, startValue, goBackwards);\n  const change = endValue - startValue;\n  const step = createFrameStepper({\n    scrollBox,\n    callback,\n    startValue,\n    endValue,\n    change\n  });\n  window.requestAnimationFrame(step);\n}\nfunction getEndValue(scrollBox, startValue, goBackwards) {\n  const scrollDistance = scrollBox.clientWidth * SCROLL_STEP;\n  const inverter = goBackwards ? -1 : 1;\n  return Math.floor(startValue + scrollDistance * inverter);\n}\nfunction createFrameStepper(_ref) {\n  let {\n    scrollBox,\n    callback,\n    startValue,\n    endValue,\n    change\n  } = _ref;\n  let startTimestamp, elapsedTime, scrollValue;\n  return function step(timestamp) {\n    if (!startTimestamp) {\n      startTimestamp = timestamp;\n    }\n    elapsedTime = timestamp - startTimestamp;\n    scrollValue = easeInOutQuad({\n      currentTime: elapsedTime,\n      DURATION,\n      startValue,\n      change\n    });\n    if (elapsedTime >= DURATION) {\n      if (scrollValue !== endValue) {\n        scrollBox.scrollLeft = endValue;\n      }\n      callback && callback();\n    } else {\n      scrollBox.scrollLeft = scrollValue;\n      window.requestAnimationFrame(step);\n    }\n  };\n}\nfunction easeInOutQuad(_ref2) {\n  let {\n    currentTime,\n    startValue,\n    change\n  } = _ref2;\n  return (currentTime /= DURATION / 2) < 1 ? change / 2 * currentTime * currentTime + startValue : -change / 2 * (--currentTime * (currentTime - 2) - 1) + startValue;\n}","let horizontalScrollbarHeight;\nconst className = '__vertical-scrollbar-height-test__';\nconst styles = `\n    .${className} {\n        position: absolute;\n        top: -9999px;\n        width: 100px;\n        height: 100px;\n        overflow-x: scroll;\n    }\n    .${className}::-webkit-scrollbar {\n        display: none;\n    }\n`;\nexport function detectHorizontalScrollbarHeight() {\n  if (horizontalScrollbarHeight) {\n    return horizontalScrollbarHeight;\n  }\n  const style = document.createElement('style');\n  style.innerHTML = styles;\n  const el = document.createElement('div');\n  el.classList.add(className);\n  document.body.appendChild(style);\n  document.body.appendChild(el);\n  horizontalScrollbarHeight = el.offsetHeight - el.clientHeight;\n  document.body.removeChild(style);\n  document.body.removeChild(el);\n  return horizontalScrollbarHeight;\n}","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const ScrollButton = _ref => {\n  let {\n    children,\n    disabled,\n    hidden,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: disabled ? undefined : onClick,\n    className: _JSXStyle.dynamic([[\"2701682090\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n      disabled,\n      hidden\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2701682090\",\n    dynamic: [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]\n  }, [`.scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:${colors.white};border:none;border-bottom:1px solid ${colors.grey400};outline:none;padding:16px 16px 11px 16px;cursor:pointer;}`, \".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}\", `.scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:${colors.grey600};-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}`, `.scroll-button.__jsx-style-dynamic-selector:hover{background-color:${colors.grey100};}`, `.scroll-button.__jsx-style-dynamic-selector:active{background-color:${colors.grey200};}`, \".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", `.scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:${colors.grey500};}`]));\n};\nScrollButton.displayName = 'ScrollButton';\nScrollButton.propTypes = {\n  children: PropTypes.any.isRequired,\n  disabled: PropTypes.bool,\n  hidden: PropTypes.bool,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { IconChevronRight16, IconChevronLeft16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { animatedSideScroll } from './animated-side-scroll.js';\nimport { detectHorizontalScrollbarHeight } from './detect-horizontal-scrollbar-height.js';\nimport { ScrollButton } from './scroll-button.js';\nclass ScrollBar extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"scrollBox\", /*#__PURE__*/createRef());\n    _defineProperty(this, \"scrollArea\", /*#__PURE__*/createRef());\n    _defineProperty(this, \"horizontalScrollBarHeight\", detectHorizontalScrollbarHeight());\n    _defineProperty(this, \"scrollBoxResizeObserver\", null);\n    _defineProperty(this, \"calculateShouldHideButtons\", () => {\n      this.setState({\n        hideScrollButtonsInitialized: false\n      });\n      const {\n        current: scrollBox\n      } = this.scrollBox;\n      const {\n        current: scrollArea\n      } = this.scrollArea;\n      const areaWidth = scrollArea.offsetWidth;\n      const boxWidth = scrollBox.offsetWidth;\n      const hideScrollButtons = areaWidth <= boxWidth;\n      this.setState({\n        hideScrollButtons\n      });\n      if (!hideScrollButtons) {\n        if (this.state.scrolledToStart) {\n          this.scrollLeft();\n        }\n        if (this.state.scrolledToEnd) {\n          this.scrollRight();\n        }\n      }\n      this.setState({\n        hideScrollButtonsInitialized: true\n      });\n    });\n    _defineProperty(this, \"scrollRight\", () => this.scroll());\n    _defineProperty(this, \"scrollLeft\", () => this.scroll(true));\n    _defineProperty(this, \"animatedScrollCallback\", () => {\n      this.updateScrolledToStates();\n      this.attachSideScrollListener();\n    });\n    _defineProperty(this, \"updateScrolledToStates\", () => {\n      const {\n        scrollLeft,\n        offsetWidth\n      } = this.scrollBox.current;\n      const {\n        offsetWidth: areaOffsetWidth\n      } = this.scrollArea.current;\n      const scrolledToStart = scrollLeft <= 0;\n      const scrolledToEnd = scrollLeft + offsetWidth >= areaOffsetWidth;\n      if (this.state.scrolledToStart !== scrolledToStart || this.state.scrolledToEnd !== scrolledToEnd) {\n        this.setState({\n          scrolledToStart,\n          scrolledToEnd\n        });\n      }\n    });\n    this.state = {\n      scrolledToStart: true,\n      scrolledToEnd: false,\n      // used to initially hide the entire content to prevent flickering\n      hideScrollButtonsInitialized: false,\n      // hide buttons initially to simplify calculations\n      hideScrollButtons: false\n    };\n    this.scrollBoxResizeObserver = new ResizeObserver(this.calculateShouldHideButtons);\n  }\n  componentDidMount() {\n    this.scrollSelectedTabIntoView();\n    this.attachSideScrollListener();\n    this.manageShouldHideButtons();\n  }\n  componentWillUnmount() {\n    this.removeSideScrollListener();\n    this.scrollBoxResizeObserver.disconnect();\n  }\n  manageShouldHideButtons() {\n    const {\n      current: scrollBox\n    } = this.scrollBox;\n    this.scrollBoxResizeObserver.observe(scrollBox);\n    this.calculateShouldHideButtons();\n  }\n  scroll(goBackwards) {\n    this.removeSideScrollListener();\n    animatedSideScroll(this.scrollBox.current, this.animatedScrollCallback, goBackwards);\n  }\n  scrollSelectedTabIntoView() {\n    const scrollBoxEl = this.scrollBox.current;\n    const tab = scrollBoxEl.querySelector('.tab.selected');\n    if (tab) {\n      const tabEnd = tab.offsetLeft + tab.offsetWidth;\n      if (tabEnd > scrollBoxEl.offsetWidth) {\n        scrollBoxEl.scrollLeft = tabEnd - scrollBoxEl.offsetWidth;\n      }\n    }\n  }\n  attachSideScrollListener() {\n    this.scrollBox.current.addEventListener('scroll', this.updateScrolledToStates);\n  }\n  removeSideScrollListener() {\n    this.scrollBox.current.removeEventListener('scroll', this.updateScrolledToStates);\n  }\n  render() {\n    const {\n      scrolledToStart,\n      scrolledToEnd,\n      hideScrollButtonsInitialized,\n      hideScrollButtons: hideScrollButtonsState\n    } = this.state;\n    const {\n      children,\n      className,\n      dataTest\n    } = this.props;\n    const hideScrollButtons = !hideScrollButtonsInitialized || hideScrollButtonsState;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + (cx('scroll-bar', className) || \"\")\n    }, /*#__PURE__*/React.createElement(ScrollButton, {\n      disabled: scrolledToStart,\n      onClick: this.scrollLeft,\n      hidden: hideScrollButtons\n    }, /*#__PURE__*/React.createElement(IconChevronLeft16, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-box-clipper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollBox,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-box\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollArea,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-area\"\n    }, children))), /*#__PURE__*/React.createElement(ScrollButton, {\n      disabled: scrolledToEnd,\n      onClick: this.scrollRight,\n      hidden: hideScrollButtons\n    }, /*#__PURE__*/React.createElement(IconChevronRight16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4174900658\",\n      dynamic: [-this.horizontalScrollBarHeight]\n    }, [`.scroll-box.__jsx-style-dynamic-selector{margin-bottom:${-this.horizontalScrollBarHeight}px;}`]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"191575146\"\n    }, [\".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}\", \".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}\", \".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}\"]));\n  }\n}\nScrollBar.propTypes = {\n  children: PropTypes.node.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { ScrollBar };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useMemo } from 'react';\nconst Tabs = _ref => {\n  let {\n    children,\n    fixed,\n    dataTest\n  } = _ref;\n  const tabContainer = useRef(null);\n  const childrenRefs = useMemo(() => React.Children.map(children, () => /*#__PURE__*/React.createRef()), [children]);\n  const handleKeyDown = event => {\n    const currentFocus = document.activeElement;\n    if (tabContainer.current && tabContainer.current === currentFocus) {\n      if (childrenRefs.length > 0 && childrenRefs[0].current) {\n        childrenRefs[0].current.focus();\n      }\n      return;\n    }\n    const currentIndex = childrenRefs.findIndex(ref => ref.current === currentFocus);\n    if (currentIndex === -1) {\n      return;\n    }\n    if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      const nextIndex = (currentIndex + 1) % childrenRefs.length;\n      childrenRefs[nextIndex].current.focus();\n    }\n    if (event.key === 'ArrowLeft') {\n      event.preventDefault();\n      const prevIndex = (currentIndex - 1 + childrenRefs.length) % childrenRefs.length;\n      childrenRefs[prevIndex].current.focus();\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabContainer,\n    \"data-test\": dataTest,\n    role: \"tablist\",\n    tabIndex: 0,\n    onKeyDown: handleKeyDown,\n    className: _JSXStyle.dynamic([[\"771129571\", [colors.grey400, colors.white]]]) + \" \" + (cx({\n      fixed\n    }) || \"\")\n  }, React.Children.map(children, (child, index) => {\n    if (/*#__PURE__*/React.isValidElement(child)) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        ref: childrenRefs[index]\n      });\n    }\n    // Wrap non-element children e.g string in a <span>\n    return /*#__PURE__*/React.createElement(\"span\", {\n      ref: childrenRefs[index],\n      tabIndex: -1,\n      className: _JSXStyle.dynamic([[\"771129571\", [colors.grey400, colors.white]]])\n    }, child);\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"771129571\",\n    dynamic: [colors.grey400, colors.white]\n  }, [`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ${colors.grey400};-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:${colors.white};}`]));\n};\nTabs.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  fixed: PropTypes.bool\n};\nexport { Tabs };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ScrollBar } from './scroll-bar.js';\nimport { Tabs } from './tabs.js';\nconst TabBar = _ref => {\n  let {\n    fixed,\n    children,\n    className,\n    scrollable,\n    dataTest = 'dhis2-uicore-tabbar'\n  } = _ref;\n  if (scrollable) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      \"data-test\": dataTest\n    }, /*#__PURE__*/React.createElement(ScrollBar, {\n      dataTest: `${dataTest}-scrollbar`\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      fixed: fixed,\n      dataTest: `${dataTest}-tabs`\n    }, children)));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    fixed: fixed,\n    dataTest: `${dataTest}-tabs`\n  }, children));\n};\nTabBar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Fixed tabs fill the width of their container. If false (i.e. fluid), tabs take up an amount of space defined by the tab name. Fluid tabs should be used most of the time. */\n  fixed: PropTypes.bool,\n  /** Enables horizontal scrolling for many tabs that don't fit the width of the container */\n  scrollable: PropTypes.bool\n};\nexport { TabBar };","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import React from 'react';\nconst usePassiveLayoutEffect = React[typeof document !== 'undefined' && document.createElement !== void 0 ? 'useLayoutEffect' : 'useEffect'];\nexport default usePassiveLayoutEffect;","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","/* eslint-disable no-return-assign */\n\n/* eslint-disable no-underscore-dangle */\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\nimport useLatest from '@react-hook/latest';\nconst ResizeObserver = typeof window !== 'undefined' && 'ResizeObserver' in window ? // @ts-ignore\nwindow.ResizeObserver : Polyfill;\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param callback Invoked with a single `ResizeObserverEntry` any time\n *   the `target` resizes\n */\n\nfunction _ref() {}\n\nfunction useResizeObserver(target, callback) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = useLatest(callback);\n  useLayoutEffect(() => {\n    let didUnsubscribe = false;\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return _ref;\n\n    function cb(entry, observer) {\n      if (didUnsubscribe) return;\n      storedCallback.current(entry, observer);\n    }\n\n    resizeObserver.subscribe(targetEl, cb);\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver.unsubscribe(targetEl, cb);\n    };\n  }, [target, resizeObserver, storedCallback]);\n  return resizeObserver.observer;\n}\n\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries = [];\n  const callbacks = new Map();\n  const observer = new ResizeObserver((entries, obs) => {\n    allEntries = allEntries.concat(entries);\n\n    function _ref2() {\n      const triggered = new Set();\n\n      for (let i = 0; i < allEntries.length; i++) {\n        if (triggered.has(allEntries[i].target)) continue;\n        triggered.add(allEntries[i].target);\n        const cbs = callbacks.get(allEntries[i].target);\n        cbs === null || cbs === void 0 ? void 0 : cbs.forEach(cb => cb(allEntries[i], obs));\n      }\n\n      allEntries = [];\n      ticking = false;\n    }\n\n    if (!ticking) {\n      window.requestAnimationFrame(_ref2);\n    }\n\n    ticking = true;\n  });\n  return {\n    observer,\n\n    subscribe(target, callback) {\n      var _callbacks$get;\n\n      observer.observe(target);\n      const cbs = (_callbacks$get = callbacks.get(target)) !== null && _callbacks$get !== void 0 ? _callbacks$get : [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n\n    unsubscribe(target, callback) {\n      var _callbacks$get2;\n\n      const cbs = (_callbacks$get2 = callbacks.get(target)) !== null && _callbacks$get2 !== void 0 ? _callbacks$get2 : [];\n\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    }\n\n  };\n}\n\nlet _resizeObserver;\n\nconst getResizeObserver = () => !_resizeObserver ? _resizeObserver = createResizeObserver() : _resizeObserver;\n\nexport default useResizeObserver;","import * as React from 'react';\nimport useResizeObserver from '@react-hook/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\n/**\n * A React hook for measuring the size of HTML elements including when they change\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param options Configures the initial width and initial height of the hook's state\n */\n\nconst useSize = (target, options) => {\n  const [size, setSize] = React.useState(() => {\n    var _options$initialWidth, _options$initialHeigh;\n\n    const targetEl = target && 'current' in target ? target.current : target;\n    return targetEl ? [targetEl.offsetWidth, targetEl.offsetHeight] : [(_options$initialWidth = options === null || options === void 0 ? void 0 : options.initialWidth) !== null && _options$initialWidth !== void 0 ? _options$initialWidth : 0, (_options$initialHeigh = options === null || options === void 0 ? void 0 : options.initialHeight) !== null && _options$initialHeigh !== void 0 ? _options$initialHeigh : 0];\n  });\n  useLayoutEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    setSize([targetEl.offsetWidth, targetEl.offsetHeight]);\n  }, [target]); // Where the magic happens\n\n  useResizeObserver(target, entry => {\n    const target = entry.target;\n    setSize([target.offsetWidth, target.offsetHeight]);\n  });\n  return size;\n};\n\nexport default useSize;","import _JSXStyle from \"styled-jsx/style\";\nimport { Card } from '@dhis2-ui/card';\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const MenuPopup = _ref => {\n  let {\n    children,\n    dataTest,\n    maxHeight = '280px',\n    menuWidth,\n    onClick,\n    menuRef\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClick,\n    transparent: true\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: menuRef,\n    placement: \"bottom\",\n    observeReferenceResize: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": `${dataTest}-menuwrapper`,\n    className: _JSXStyle.dynamic([[\"1686499909\", [menuWidth, maxHeight]]]) + \" \" + \"card\"\n  }, /*#__PURE__*/React.createElement(Card, null, children))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1686499909\",\n    dynamic: [menuWidth, maxHeight]\n  }, [`.card.__jsx-style-dynamic-selector{width:${menuWidth};max-height:${maxHeight};}`]));\n};\nMenuPopup.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  menuRef: PropTypes.object.isRequired,\n  menuWidth: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  maxHeight: PropTypes.string,\n  onClick: PropTypes.func\n};","import { useDhis2ConnectionStatus } from '@dhis2/app-runtime';\nimport { InputField } from '@dhis2-ui/input';\nimport { Menu, MenuItem } from '@dhis2-ui/menu';\nimport useSize from '@react-hook/size';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport i18n from '../locales/index.js';\nimport { MenuPopup } from './menu-popup.js';\nexport const Autocomplete = _ref => {\n  let {\n    dataTest = 'dhis2-sharingdialog-autocomplete',\n    inputWidth,\n    label,\n    loading,\n    onClose,\n    onSearch,\n    onSelect,\n    placeholder,\n    search,\n    searchResults\n  } = _ref;\n  const wrapper = useRef(null);\n  const [menuWidth] = useSize(wrapper);\n  const {\n    isDisconnected: offline\n  } = useDhis2ConnectionStatus();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapper\n  }, /*#__PURE__*/React.createElement(InputField, {\n    label: label,\n    loading: loading,\n    placeholder: placeholder,\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return onSearch(value);\n    },\n    value: search,\n    inputWidth: inputWidth,\n    disabled: offline,\n    helpText: offline ? i18n.t('Not available offline') : ''\n  })), searchResults.length > 0 && /*#__PURE__*/React.createElement(MenuPopup, {\n    onClick: onClose,\n    menuWidth: `${menuWidth}px`,\n    menuRef: wrapper,\n    dataTest: `${dataTest}-menu`\n  }, /*#__PURE__*/React.createElement(Menu, null, searchResults.map(result => /*#__PURE__*/React.createElement(MenuItem, {\n    key: result.id,\n    label: result.displayName,\n    value: result.id,\n    onClick: _ref3 => {\n      let {\n        value\n      } = _ref3;\n      return onSelect(value);\n    }\n  })))));\n};\nAutocomplete.propTypes = {\n  searchResults: PropTypes.arrayOf(PropTypes.shape({\n    displayName: PropTypes.string,\n    id: PropTypes.string\n  })).isRequired,\n  dataTest: PropTypes.string,\n  inputWidth: PropTypes.string,\n  label: PropTypes.string,\n  loading: PropTypes.bool,\n  placeholder: PropTypes.string,\n  search: PropTypes.string,\n  onClose: PropTypes.func,\n  onSearch: PropTypes.func,\n  onSelect: PropTypes.func\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { debounce } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { Autocomplete } from './autocomplete.js';\nconst query = {\n  search: {\n    resource: 'sharing/search',\n    params: _ref => {\n      let {\n        search\n      } = _ref;\n      return {\n        key: search\n      };\n    }\n  }\n};\nexport const SharingAutocomplete = _ref2 => {\n  var _data$search, _data$search2;\n  let {\n    selected,\n    onSelection\n  } = _ref2;\n  const [search, setSearch] = useState('');\n  const [showResults, setShowResults] = useState(false);\n  const {\n    data,\n    refetch,\n    fetching\n  } = useDataQuery(query, {\n    lazy: true,\n    onComplete: () => setShowResults(true)\n  });\n\n  /**\n   * Ensure that local state doesn't get out of sync with the parent. On selection\n   * this syncs the displayName of the parent selection to the local input state.\n   */\n\n  useEffect(() => setSearch(selected), [selected]);\n\n  /**\n   * If the search string changes and is truthy, send out a request, otherwise\n   * clear the selection.\n   */\n\n  const debouncedRefetch = useCallback(debounce(refetch, 250), [refetch]);\n  useEffect(() => {\n    if (search && search === selected) {\n      return;\n    }\n    if (search) {\n      debouncedRefetch({\n        search\n      });\n    } else {\n      onSelection(null);\n      setShowResults(false);\n    }\n  }, [search]);\n\n  // Concatenate all the results\n  let results = [];\n  if (data !== null && data !== void 0 && (_data$search = data.search) !== null && _data$search !== void 0 && _data$search.users) {\n    const mapped = data.search.users.map(user => ({\n      ...user,\n      type: 'user'\n    }));\n    results = results.concat(mapped);\n  }\n  if (data !== null && data !== void 0 && (_data$search2 = data.search) !== null && _data$search2 !== void 0 && _data$search2.userGroups) {\n    const mapped = data.search.userGroups.map(group => ({\n      ...group,\n      type: 'group'\n    }));\n    results = results.concat(mapped);\n  }\n  return /*#__PURE__*/React.createElement(Autocomplete, {\n    inputWidth: \"100%\",\n    label: i18n.t('User or group'),\n    loading: fetching,\n    placeholder: i18n.t('Search'),\n    search: search,\n    searchResults: showResults ? results : [],\n    onClose: () => setShowResults(false),\n    onSearch: setSearch,\n    onSelect: id => {\n      onSelection(results.find(result => result.id === id));\n      setShowResults(false);\n    }\n  });\n};\nSharingAutocomplete.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  selected: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Title = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: _JSXStyle.dynamic([[\"2416527184\", [colors.grey900]]])\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2416527184\",\n    dynamic: [colors.grey900]\n  }, [`h2.__jsx-style-dynamic-selector{font-size:16px;color:${colors.grey900};}`]));\n};\nTitle.propTypes = {\n  children: PropTypes.node.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { useDhis2ConnectionStatus } from '@dhis2/app-runtime';\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { Button } from '@dhis2-ui/button';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2-ui/select';\nimport PropTypes from 'prop-types';\nimport React, { useState, useContext } from 'react';\nimport { SharingAutocomplete } from '../autocomplete/index.js';\nimport { ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT } from '../constants.js';\nimport { FetchingContext } from '../fetching-context/index.js';\nimport i18n from '../locales/index.js';\nimport { Title } from '../text/index.js';\nexport const AccessAdd = _ref => {\n  let {\n    onAdd,\n    dataSharing\n  } = _ref;\n  const isFetching = useContext(FetchingContext);\n  const [entity, setEntity] = useState(null);\n  const [dataAccess, setDataAccess] = useState('');\n  const [metadataAccess, setMetadataAccess] = useState('');\n  const {\n    isDisconnected: offline\n  } = useDhis2ConnectionStatus();\n  const onSubmit = e => {\n    e.preventDefault();\n    onAdd({\n      type: entity.type,\n      id: entity.id,\n      name: entity.displayName || entity.name,\n      access: {\n        data: dataAccess,\n        metadata: metadataAccess\n      }\n    });\n    setEntity(null);\n    setDataAccess('');\n    setMetadataAccess('');\n  };\n  const accessOptionsMetadata = [{\n    value: ACCESS_VIEW_ONLY,\n    label: i18n.t('View only')\n  }, {\n    value: ACCESS_VIEW_AND_EDIT,\n    label: i18n.t('View and edit')\n  }];\n  const accessOptionsData = [...accessOptionsMetadata, {\n    value: ACCESS_NONE,\n    label: i18n.t('No access')\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, null, i18n.t('Give access to a user or group')), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: _JSXStyle.dynamic([[\"3476690250\", [colors.grey100, colors.grey900, spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3476690250\", [colors.grey100, colors.grey900, spacers.dp8]]]) + \" \" + ((dataSharing ? 'startWrapperData' : 'startWrapperMetadata') || \"\")\n  }, /*#__PURE__*/React.createElement(SharingAutocomplete, {\n    selected: (entity === null || entity === void 0 ? void 0 : entity.displayName) || (entity === null || entity === void 0 ? void 0 : entity.name),\n    onSelection: setEntity\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3476690250\", [colors.grey100, colors.grey900, spacers.dp8]]]) + \" \" + ((dataSharing ? 'endWrapper endWrapperData' : 'endWrapper endWrapperMetadata') || \"\")\n  }, dataSharing && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3476690250\", [colors.grey100, colors.grey900, spacers.dp8]]]) + \" \" + \"select-wrapper\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Data access level'),\n    placeholder: i18n.t('Choose a level'),\n    disabled: offline,\n    selected: dataAccess,\n    helpText: offline ? i18n.t('Not available offline') : '',\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return setDataAccess(selected);\n    }\n  }, accessOptionsData.map(_ref3 => {\n    let {\n      value,\n      label\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: value,\n      label: label,\n      value: value,\n      active: value === dataAccess\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3476690250\", [colors.grey100, colors.grey900, spacers.dp8]]]) + \" \" + \"select-wrapper\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: dataSharing ? i18n.t('Metadata access level') : i18n.t('Access level'),\n    placeholder: i18n.t('Choose a level'),\n    disabled: offline,\n    selected: metadataAccess,\n    helpText: offline ? i18n.t('Not available offline') : '',\n    onChange: _ref4 => {\n      let {\n        selected\n      } = _ref4;\n      return setMetadataAccess(selected);\n    }\n  }, (dataSharing ? accessOptionsData : accessOptionsMetadata).map(_ref5 => {\n    let {\n      value,\n      label\n    } = _ref5;\n    return /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: value,\n      label: label,\n      value: value,\n      active: value === metadataAccess\n    });\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: offline || isFetching || !entity || dataSharing && !dataAccess || !metadataAccess || dataAccess === ACCESS_NONE && metadataAccess === ACCESS_NONE\n  }, i18n.t('Give access')))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3476690250\",\n    dynamic: [colors.grey100, colors.grey900, spacers.dp8]\n  }, [`form.__jsx-style-dynamic-selector{background-color:${colors.grey100};color:${colors.grey900};margin-bottom:21px;padding:8px 12px;border-radius:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}`, \".select-wrapper.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\", \".startWrapperData.__jsx-style-dynamic-selector{width:35%;}\", \".startWrapperMetadata.__jsx-style-dynamic-selector{width:55%;}\", `.endWrapper.__jsx-style-dynamic-selector{margin-inline-start:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;gap:${spacers.dp8};}`, \".endWrapperMetadata.__jsx-style-dynamic-selector{width:45%;}\", \".endWrapperData.__jsx-style-dynamic-selector{width:65%;}\"]));\n};\nAccessAdd.propTypes = {\n  onAdd: PropTypes.func.isRequired,\n  dataSharing: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * This option is not seen as a valid select option by our select component. Which\n * is fine, what that means is that the select won't add a click handler and active\n * prop to it and that's what we want. Normally when invalid options are clicked\n * they won't close the select, but in this case it will remove the select entirely,\n * so that's not a problem either. It is slightly hacky, but should be stable.\n */\n\nexport const DestructiveSelectOption = _ref => {\n  let {\n    label,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onClick,\n    className: _JSXStyle.dynamic([[\"1009072197\", [colors.red700, spacers.dp8, spacers.dp12, colors.red050]]])\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1009072197\",\n    dynamic: [colors.red700, spacers.dp8, spacers.dp12, colors.red050]\n  }, [`div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${colors.red700};padding:${spacers.dp8} ${spacers.dp12};}`, `div.__jsx-style-dynamic-selector:hover{background-color:${colors.red050};}`]));\n};\nDestructiveSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SHARE_TARGET_PUBLIC, SHARE_TARGET_GROUP, SHARE_TARGET_USER } from '../constants.js';\nimport i18n from '../locales/index.js';\nconst LABELS = {\n  [SHARE_TARGET_PUBLIC]: i18n.t('Anyone logged in'),\n  [SHARE_TARGET_GROUP]: i18n.t('User group'),\n  [SHARE_TARGET_USER]: i18n.t('User')\n};\nexport const ListItemContext = _ref => {\n  var _LABELS$target;\n  let {\n    target,\n    id\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: _JSXStyle.dynamic([[\"2525483302\", [colors.grey700]]])\n  }, target === SHARE_TARGET_USER ? id : (_LABELS$target = LABELS[target]) !== null && _LABELS$target !== void 0 ? _LABELS$target : ''), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2525483302\",\n    dynamic: [colors.grey700]\n  }, [`p.__jsx-style-dynamic-selector{font-size:14px;color:${colors.grey700};margin:6px 0 0 0;padding:0;}`]));\n};\nListItemContext.propTypes = {\n  target: PropTypes.oneOf([SHARE_TARGET_PUBLIC, SHARE_TARGET_GROUP, SHARE_TARGET_USER]).isRequired,\n  id: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nimport { IconWorld24, IconUserGroup24 } from '@dhis2/ui-icons';\nimport { UserAvatar } from '@dhis2-ui/user-avatar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SHARE_TARGET_EXTERNAL, SHARE_TARGET_PUBLIC, SHARE_TARGET_USER, SHARE_TARGET_GROUP } from '../constants.js';\nexport const ListItemIcon = _ref => {\n  let {\n    target,\n    name\n  } = _ref;\n  switch (target) {\n    case SHARE_TARGET_EXTERNAL:\n      return /*#__PURE__*/React.createElement(IconWorld24, {\n        color: colors.grey600\n      });\n    case SHARE_TARGET_PUBLIC:\n    case SHARE_TARGET_GROUP:\n      return /*#__PURE__*/React.createElement(IconUserGroup24, {\n        color: colors.grey600\n      });\n    case SHARE_TARGET_USER:\n      return /*#__PURE__*/React.createElement(UserAvatar, {\n        name: name,\n        small: true\n      });\n    default:\n      return null;\n  }\n};\nListItemIcon.propTypes = {\n  target: PropTypes.oneOf([SHARE_TARGET_EXTERNAL, SHARE_TARGET_PUBLIC, SHARE_TARGET_USER, SHARE_TARGET_GROUP]).isRequired,\n  name: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { useDhis2ConnectionStatus } from '@dhis2/app-runtime';\nimport { colors } from '@dhis2/ui-constants';\nimport { Divider } from '@dhis2-ui/divider';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2-ui/select';\nimport PropTypes from 'prop-types';\nimport React, { useContext } from 'react';\nimport { SHARE_TARGET_PUBLIC, SHARE_TARGET_GROUP, SHARE_TARGET_USER, ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT } from '../constants.js';\nimport { DestructiveSelectOption } from '../destructive-select-option/index.js';\nimport { FetchingContext } from '../fetching-context/index.js';\nimport { isRemovableTarget } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { ListItemContext } from './list-item-context.js';\nimport { ListItemIcon } from './list-item-icon.js';\nconst isRemoveEnabled = _ref => {\n  let {\n    dataSharing,\n    accessOtherField\n  } = _ref;\n  if (!dataSharing) {\n    return true;\n  }\n  return accessOtherField === ACCESS_NONE;\n};\nexport const ListItem = _ref2 => {\n  let {\n    name,\n    id,\n    target,\n    access,\n    accessOptions,\n    disabled,\n    onChange,\n    onRemove,\n    dataSharing,\n    allUsersItem = false\n  } = _ref2;\n  const isFetching = useContext(FetchingContext);\n  const {\n    isDisconnected: offline\n  } = useDhis2ConnectionStatus();\n  const valueToLabel = {\n    ACCESS_NONE: i18n.t('No access'),\n    ACCESS_VIEW_ONLY: i18n.t('View only'),\n    ACCESS_VIEW_AND_EDIT: i18n.t('View and edit')\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + \"wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + ((dataSharing ? 'detailsWithData' : 'detailsMetadata') || \"\")\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    target: target,\n    name: name\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + \"details-text\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + \"details-name\"\n  }, name), /*#__PURE__*/React.createElement(ListItemContext, {\n    target: target,\n    id: id\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + ((dataSharing ? 'selectWrapperWithData' : 'selectWrapperMetadata') || \"\")\n  }, dataSharing && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + \"select\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    disabled: disabled || offline || isFetching,\n    prefix: i18n.t('Data'),\n    selected: access.data,\n    helpText: offline ? i18n.t('Not available offline') : '',\n    onChange: _ref3 => {\n      let {\n        selected\n      } = _ref3;\n      return onChange({\n        ...access,\n        data: selected\n      });\n    }\n  }, accessOptions.map(value => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: value,\n    label: valueToLabel[value],\n    value: value,\n    active: value === access.data\n  })), isRemovableTarget(target) && isRemoveEnabled({\n    accessOtherField: access.metadata,\n    dataSharing\n  }) && /*#__PURE__*/React.createElement(DestructiveSelectOption, {\n    onClick: onRemove,\n    label: i18n.t('Remove access')\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"650548845\", [colors.grey900]]]) + \" \" + \"select\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    disabled: disabled || offline || isFetching,\n    prefix: i18n.t('Metadata'),\n    selected: access.metadata,\n    helpText: offline ? i18n.t('Not available offline') : '',\n    onChange: _ref4 => {\n      let {\n        selected\n      } = _ref4;\n      return onChange({\n        ...access,\n        metadata: selected\n      });\n    }\n  }, accessOptions.map(value => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: value,\n    label: valueToLabel[value],\n    value: value,\n    active: value === access.metadata,\n    disabled: !allUsersItem && value === ACCESS_NONE && !dataSharing\n  })), isRemovableTarget(target) && isRemoveEnabled({\n    accessOtherField: access.data,\n    dataSharing\n  }) && /*#__PURE__*/React.createElement(DestructiveSelectOption, {\n    onClick: onRemove,\n    label: i18n.t('Remove access')\n  }))))), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"650548845\",\n    dynamic: [colors.grey900]\n  }, [\".wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:4px 8px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\", \".detailsMetadata.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:65%;}\", \".detailsWithData.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:35%;}\", \".details-text.__jsx-style-dynamic-selector{margin-inline-start:8px;}\", `.details-name.__jsx-style-dynamic-selector{font-size:15px;font-weight:500;color:${colors.grey900};margin:0;padding:0;}`, \".selectWrapperMetadata.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:35%;}\", \".selectWrapperWithData.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:65%;}\", \".select.__jsx-style-dynamic-selector{margin-inline-start:8px;-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\nListItem.propTypes = {\n  access: PropTypes.shape({\n    data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n    metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n  }).isRequired,\n  accessOptions: PropTypes.arrayOf(PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])).isRequired,\n  dataSharing: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  target: PropTypes.oneOf([SHARE_TARGET_PUBLIC, SHARE_TARGET_GROUP, SHARE_TARGET_USER]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  allUsersItem: PropTypes.bool,\n  disabled: PropTypes.bool,\n  id: PropTypes.string,\n  onRemove: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SHARE_TARGET_PUBLIC, SHARE_TARGET_GROUP, SHARE_TARGET_USER, ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT } from '../constants.js';\nimport i18n from '../locales/index.js';\nimport { Title } from '../text/index.js';\nimport { ListItem } from './list-item.js';\nexport const AccessList = _ref => {\n  let {\n    onChange,\n    onRemove,\n    publicAccess,\n    allowPublicAccess,\n    users,\n    groups,\n    dataSharing\n  } = _ref;\n  const accessOptions = [ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, null, i18n.t('Users and groups that currently have access')), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3415079234\", [colors.grey200, colors.grey900]]]) + \" \" + \"header\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3415079234\", [colors.grey200, colors.grey900]]]) + \" \" + ((dataSharing ? 'header-start-column-data' : 'header-start-column-metadata') || \"\")\n  }, i18n.t('User / Group')), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3415079234\", [colors.grey200, colors.grey900]]]) + \" \" + ((dataSharing ? 'header-end-column-data' : 'header-end-column-metadata') || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"3415079234\", [colors.grey200, colors.grey900]]]) + \" \" + \"hea\"\n  }, i18n.t('Access level')))), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3415079234\", [colors.grey200, colors.grey900]]]) + \" \" + \"list\"\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    name: i18n.t('All users'),\n    target: SHARE_TARGET_PUBLIC,\n    access: publicAccess,\n    accessOptions: accessOptions,\n    disabled: !allowPublicAccess,\n    onChange: newAccess => onChange({\n      type: 'public',\n      access: newAccess\n    }),\n    dataSharing: dataSharing,\n    allUsersItem: true\n  }), groups.map(_ref2 => {\n    let {\n      id,\n      name,\n      access\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: id,\n      name: name,\n      target: SHARE_TARGET_GROUP,\n      access: access,\n      accessOptions: accessOptions,\n      onChange: newAccess => onChange({\n        type: 'group',\n        id,\n        access: newAccess\n      }),\n      onRemove: () => onRemove({\n        type: 'group',\n        id\n      }),\n      dataSharing: dataSharing\n    });\n  }), users.map(_ref3 => {\n    let {\n      id,\n      name,\n      access\n    } = _ref3;\n    return access && /*#__PURE__*/React.createElement(ListItem, {\n      key: id,\n      id: id,\n      name: name,\n      target: SHARE_TARGET_USER,\n      access: access,\n      accessOptions: accessOptions,\n      onChange: newAccess => onChange({\n        type: 'user',\n        id,\n        access: newAccess\n      }),\n      onRemove: () => onRemove({\n        type: 'user',\n        id\n      }),\n      dataSharing: dataSharing\n    });\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3415079234\",\n    dynamic: [colors.grey200, colors.grey900]\n  }, [`.header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px 8px;margin:0 0 8px 0;background-color:${colors.grey200};color:${colors.grey900};font-size:13px;}`, \".header-start-column-metadata.__jsx-style-dynamic-selector{width:65%;}\", \".header-end-column-metadata.__jsx-style-dynamic-selector{margin-inline-start:auto;width:35%;}\", \".header-start-column-data.__jsx-style-dynamic-selector{width:35%;}\", \".header-end-column-data.__jsx-style-dynamic-selector{margin-inline-start:auto;width:65%;}\", \".hea.__jsx-style-dynamic-selector{display:inline-block;margin-inline-start:8px;}\", \".list.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;}\"]));\n};\nAccessList.propTypes = {\n  allowPublicAccess: PropTypes.bool.isRequired,\n  dataSharing: PropTypes.bool.isRequired,\n  groups: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    access: PropTypes.shape({\n      data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n      metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n    })\n  })).isRequired,\n  publicAccess: PropTypes.shape({\n    data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n    metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n  }).isRequired,\n  users: PropTypes.arrayOf(PropTypes.shape({\n    access: PropTypes.shape({\n      data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n      metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n    }).isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired\n};","import i18n from '../locales/index.js';\nexport const getVisualizationsCount = dashboardItems => {\n  if (dashboardItems.length === 0) {\n    return dashboardItems.length;\n  }\n\n  // Only these types will be updated\n  const keep = ['VISUALIZATION', 'MAP', 'EVENT_CHART', 'EVENT_REPORT'];\n\n  // Filter the dashboardItems by the above types and count them only\n  return dashboardItems.filter(item => keep.includes(item.type)).length;\n};\nexport const getResultMessage = _ref => {\n  let {\n    itemsCount,\n    visualizationsCount,\n    hasErrors,\n    updatedItems\n  } = _ref;\n  if (hasErrors) {\n    if (updatedItems === 0) {\n      return i18n.t('No visualizations were updated. Check that you have permission to change sharing for all visualizations.');\n    }\n    if (updatedItems && itemsCount) {\n      return i18n.t('Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.', {\n        success: updatedItems,\n        failed: visualizationsCount - updatedItems\n      });\n    }\n  }\n  if (updatedItems === 0) {\n    return i18n.t('No visualizations were updated because sharing settings are already sufficient.');\n  }\n  if (updatedItems === visualizationsCount) {\n    return i18n.t('Successfully updated sharing for all visualizations.');\n  }\n  if (updatedItems < visualizationsCount) {\n    return i18n.t('Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.', {\n      updated: updatedItems,\n      skipped: visualizationsCount - updatedItems\n    });\n  }\n  return '';\n};\nexport const getInfoMessage = _ref2 => {\n  let {\n    entityAmount,\n    visualizationsCount\n  } = _ref2;\n  if (entityAmount === 0) {\n    return i18n.t('There are no users or groups to apply sharing settings for.');\n  }\n  return i18n.t('Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.', {\n    visualizationsCount,\n    entityAmount,\n    nsSeparator: '>'\n  });\n};","import { NoticeBox } from '@dhis2-ui/notice-box';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getVisualizationsCount, getResultMessage } from './helpers.js';\nexport const ResultInfo = _ref => {\n  let {\n    hasErrors,\n    updatedItems,\n    dashboardItems,\n    itemsCount\n  } = _ref;\n  const visualizationsCount = getVisualizationsCount(dashboardItems);\n  if (!visualizationsCount) {\n    return null;\n  }\n  const message = getResultMessage({\n    visualizationsCount,\n    itemsCount,\n    hasErrors,\n    updatedItems\n  });\n  return /*#__PURE__*/React.createElement(NoticeBox, null, message);\n};\nResultInfo.propTypes = {\n  dashboardItems: PropTypes.array.isRequired,\n  hasErrors: PropTypes.bool.isRequired,\n  itemsCount: PropTypes.number.isRequired,\n  updatedItems: PropTypes.number.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { NoticeBox } from '@dhis2-ui/notice-box';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getVisualizationsCount, getInfoMessage } from './helpers.js';\nconst query = {\n  dashboard: {\n    resource: 'dashboards',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      fields: 'dashboardItems[type]'\n    }\n  }\n};\nexport const UpdateInfo = _ref2 => {\n  let {\n    id,\n    entityAmount\n  } = _ref2;\n  const {\n    data,\n    loading\n  } = useDataQuery(query, {\n    variables: {\n      id\n    }\n  });\n  if (loading) {\n    return null;\n  }\n  const {\n    dashboard\n  } = data;\n  const visualizationsCount = getVisualizationsCount(dashboard.dashboardItems);\n  if (!visualizationsCount) {\n    return null;\n  }\n  const message = getInfoMessage({\n    visualizationsCount,\n    entityAmount\n  });\n  return /*#__PURE__*/React.createElement(NoticeBox, null, message);\n};\nUpdateInfo.propTypes = {\n  entityAmount: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired\n};","import { useDataQuery, useDataEngine, useDhis2ConnectionStatus } from '@dhis2/app-runtime';\nimport { spacers } from '@dhis2/ui-constants';\nimport { Box } from '@dhis2-ui/box';\nimport { Button } from '@dhis2-ui/button';\nimport { NoticeBox } from '@dhis2-ui/notice-box';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport i18n from '../locales/index.js';\nimport { ResultInfo } from './result-info.js';\nimport { UpdateInfo } from './update-info.js';\nconst query = {\n  dashboard: {\n    resource: 'dashboards',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      fields: 'dashboardItems[type]'\n    }\n  }\n};\nexport const Controls = _ref2 => {\n  var _mutationResult$error;\n  let {\n    id,\n    entityAmount\n  } = _ref2;\n  const {\n    isDisconnected: offline\n  } = useDhis2ConnectionStatus();\n  const {\n    data,\n    refetch\n  } = useDataQuery(query, {\n    variables: {\n      id\n    }\n  });\n  useEffect(() => {\n    refetch({\n      id\n    });\n  }, [refetch, id]);\n\n  /**\n   * The useDataMutation hook does not allow for a variable id,\n   * so we're using the engine directly as a workaround.\n   */\n\n  const engine = useDataEngine();\n  const [called, setCalled] = useState(false);\n  const [mutating, setMutating] = useState(false);\n  const [error, setError] = useState(null);\n  const [mutationResult, setMutationResult] = useState(null);\n  const mutation = {\n    resource: `dashboards/cascadeSharing/${id}`,\n    type: 'create'\n  };\n  const mutate = () => {\n    setCalled(true);\n    setMutating(true);\n    setMutationResult(null);\n    setError(null);\n    engine.mutate(mutation).then(data => {\n      setMutationResult(data);\n    }).catch(e => {\n      setError(e.message || i18n.t('Something went wrong'));\n    }).finally(() => {\n      setMutating(false);\n    });\n  };\n  const hasErrors = (mutationResult === null || mutationResult === void 0 ? void 0 : (_mutationResult$error = mutationResult.errorReports) === null || _mutationResult$error === void 0 ? void 0 : _mutationResult$error.length) > 0;\n  const updatedItems = mutationResult === null || mutationResult === void 0 ? void 0 : mutationResult.countUpdatedDashboardItems;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !called && /*#__PURE__*/React.createElement(UpdateInfo, {\n    id: id,\n    entityAmount: entityAmount\n  }), error && /*#__PURE__*/React.createElement(Box, {\n    marginTop: spacers.dp12\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true\n  }, error)), data && mutationResult && /*#__PURE__*/React.createElement(Box, {\n    marginTop: spacers.dp12\n  }, /*#__PURE__*/React.createElement(ResultInfo, {\n    hasErrors: hasErrors,\n    updatedItems: updatedItems,\n    dashboardItems: data.dashboard.dashboardItems,\n    itemsCount: data.dashboard.itemsCount\n  })), /*#__PURE__*/React.createElement(Box, {\n    marginTop: spacers.dp12\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    disabled: offline || mutating || !entityAmount,\n    loading: mutating,\n    secondary: true,\n    onClick: mutate\n  }, i18n.t('Apply sharing to dashboard visualizations'))));\n};\nControls.propTypes = {\n  entityAmount: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nexport const StaticInfo = () => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: _JSXStyle.dynamic([[\"3321084332\", [colors.grey800]]])\n  }, i18n.t('Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least \"View only\" access to its visualizations (charts, tables, maps, event charts and event reports).')), /*#__PURE__*/React.createElement(\"p\", {\n    className: _JSXStyle.dynamic([[\"3321084332\", [colors.grey800]]])\n  }, i18n.t('If a user or group already has \"View and edit\" access to a visualization, this won\\'t be reduced to \"View only\". The \"All users\" access level won\\'t be updated or changed.')), /*#__PURE__*/React.createElement(\"p\", {\n    className: _JSXStyle.dynamic([[\"3321084332\", [colors.grey800]]])\n  }, i18n.t(\"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.\")), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3321084332\",\n    dynamic: [colors.grey800]\n  }, [`p.__jsx-style-dynamic-selector{font-size:14px;line-height:19px;color:${colors.grey800};}`]));\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nimport { Title } from '../text/index.js';\nimport { Controls } from './controls.js';\nimport { StaticInfo } from './static-info.js';\nexport const CascadeSharing = _ref => {\n  let {\n    id,\n    entityAmount\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, null, i18n.t('Apply dashboard sharing settings to visualizations')), /*#__PURE__*/React.createElement(StaticInfo, null), /*#__PURE__*/React.createElement(Controls, {\n    id: id,\n    entityAmount: entityAmount\n  }));\n};\nCascadeSharing.propTypes = {\n  entityAmount: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired\n};","import { TabBar, Tab } from '@dhis2-ui/tab';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { AccessAdd } from '../access-add/index.js';\nimport { AccessList } from '../access-list/index.js';\nimport { CascadeSharing } from '../cascade-sharing/index.js';\nimport { ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT, DIALOG_TYPES_LIST, DIALOG_TYPES } from '../constants.js';\nimport i18n from '../locales/index.js';\nexport const TabbedContent = _ref => {\n  let {\n    type,\n    users,\n    groups,\n    publicAccess,\n    allowPublicAccess,\n    id,\n    onAdd,\n    onChange,\n    onRemove,\n    dataSharing\n  } = _ref;\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\n  if (type === DIALOG_TYPES.DASHBOARD) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TabBar, null, /*#__PURE__*/React.createElement(Tab, {\n      onClick: () => setActiveTabIndex(0),\n      selected: activeTabIndex === 0\n    }, i18n.t('Dashboard sharing')), /*#__PURE__*/React.createElement(Tab, {\n      onClick: () => setActiveTabIndex(1),\n      selected: activeTabIndex === 1\n    }, i18n.t('Apply sharing to dashboard visualizations'))), /*#__PURE__*/React.createElement(\"div\", null, activeTabIndex === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AccessAdd, {\n      onAdd: onAdd,\n      dataSharing: dataSharing\n    }), /*#__PURE__*/React.createElement(AccessList, {\n      users: users,\n      groups: groups,\n      publicAccess: publicAccess,\n      allowPublicAccess: allowPublicAccess,\n      onChange: onChange,\n      onRemove: onRemove,\n      dataSharing: dataSharing\n    })), activeTabIndex === 1 && /*#__PURE__*/React.createElement(CascadeSharing, {\n      id: id,\n      entityAmount: users.length + groups.length\n    })));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AccessAdd, {\n    onAdd: onAdd,\n    dataSharing: dataSharing\n  }), /*#__PURE__*/React.createElement(AccessList, {\n    users: users,\n    groups: groups,\n    publicAccess: publicAccess,\n    allowPublicAccess: allowPublicAccess,\n    onChange: onChange,\n    onRemove: onRemove,\n    dataSharing: dataSharing\n  }));\n};\nTabbedContent.propTypes = {\n  allowPublicAccess: PropTypes.bool.isRequired,\n  dataSharing: PropTypes.bool.isRequired,\n  groups: PropTypes.arrayOf(PropTypes.shape({\n    access: PropTypes.shape({\n      data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n      metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n    }).isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  id: PropTypes.string.isRequired,\n  publicAccess: PropTypes.shape({\n    data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n    metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n  }).isRequired,\n  type: PropTypes.oneOf(DIALOG_TYPES_LIST).isRequired,\n  users: PropTypes.arrayOf(PropTypes.shape({\n    access: PropTypes.shape({\n      data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n      metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n    }).isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  onAdd: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired\n};","import { useAlert, useDataQuery, useDataMutation } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT, DIALOG_TYPES_LIST } from './constants.js';\nimport { FetchingContext } from './fetching-context/index.js';\nimport { convertAccessToConstantObject, replaceAccessWithConstant, createOnChangePayload, createOnAddPayload, createOnRemovePayload } from './helpers/index.js';\nimport { Modal } from './modal/index.js';\nimport { TabbedContent } from './tabs/index.js';\nconst query = {\n  sharing: {\n    resource: 'sharing',\n    params: _ref => {\n      let {\n        type,\n        id\n      } = _ref;\n      return {\n        type,\n        id\n      };\n    }\n  }\n};\nconst mutation = {\n  resource: 'sharing',\n  params: _ref2 => {\n    let {\n      type,\n      id\n    } = _ref2;\n    return {\n      type,\n      id\n    };\n  },\n  type: 'update',\n  data: _ref3 => {\n    let {\n      data\n    } = _ref3;\n    return data;\n  }\n};\nconst emptyFunction = () => {};\nconst defaultInitialSharingSettings = {\n  name: '',\n  allowPublic: true,\n  public: {\n    data: ACCESS_NONE,\n    metadata: ACCESS_NONE\n  },\n  groups: [],\n  users: []\n};\nconst mapInitialSharingSettings = originalSharingSettings => {\n  const mappedSharingSettings = {\n    ...originalSharingSettings\n  };\n  if (originalSharingSettings.public && typeof originalSharingSettings.public === 'string') {\n    mappedSharingSettings.public = {\n      data: ACCESS_NONE,\n      metadata: originalSharingSettings.public\n    };\n  }\n  mappedSharingSettings.groups = originalSharingSettings.groups.map(group => {\n    if (group.access && typeof group.access === 'string') {\n      return {\n        ...group,\n        access: {\n          data: ACCESS_NONE,\n          metadata: group.access\n        }\n      };\n    }\n    return group;\n  });\n  mappedSharingSettings.users = originalSharingSettings.users.map(user => {\n    if (user.access && typeof user.access === 'string') {\n      return {\n        ...user,\n        access: {\n          data: ACCESS_NONE,\n          metadata: user.access\n        }\n      };\n    }\n    return user;\n  });\n  return mappedSharingSettings;\n};\nexport const SharingDialog = _ref4 => {\n  let {\n    id,\n    type,\n    onClose = emptyFunction,\n    onError = emptyFunction,\n    onSave = emptyFunction,\n    initialSharingSettings = defaultInitialSharingSettings,\n    dataTest = 'dhis2-uicore-sharingdialog',\n    dataSharing = false\n  } = _ref4;\n  const {\n    show: showError\n  } = useAlert(error => error, {\n    critical: true\n  });\n  const mappedInitialSharingSettings = mapInitialSharingSettings(initialSharingSettings);\n\n  /**\n   * Data fetching\n   */\n\n  const {\n    data,\n    refetch,\n    loading,\n    fetching\n  } = useDataQuery(query, {\n    variables: {\n      id,\n      type\n    },\n    onError: error => {\n      showError(error);\n      onError(error);\n    }\n  });\n  const [mutate, {\n    loading: mutating\n  }] = useDataMutation(mutation, {\n    variables: {\n      type,\n      id\n    },\n    onError: error => {\n      showError(error);\n      onError(error);\n      refetch();\n    },\n    onComplete: () => {\n      refetch();\n      onSave();\n    }\n  });\n\n  /**\n   * Refresh data when type or id props change\n   */\n\n  useEffect(() => {\n    refetch({\n      type,\n      id\n    });\n  }, [type, id]);\n\n  /**\n   * Block interaction during the initial load\n   */\n\n  if (loading) {\n    const users = Object.keys(initialSharingSettings.users).map(replaceAccessWithConstant);\n    const groups = Object.keys(initialSharingSettings.groups).map(replaceAccessWithConstant);\n    return /*#__PURE__*/React.createElement(FetchingContext.Provider, {\n      value: true\n    }, /*#__PURE__*/React.createElement(Modal, {\n      onClose: onClose\n    }, /*#__PURE__*/React.createElement(TabbedContent, {\n      id: id,\n      users: users,\n      groups: groups,\n      publicAccess: mappedInitialSharingSettings.public,\n      allowPublicAccess: mappedInitialSharingSettings.allowPublic,\n      type: type,\n      onAdd: () => {},\n      onChange: () => {},\n      onRemove: () => {},\n      dataSharing: dataSharing\n    })));\n  }\n  const {\n    object,\n    meta\n  } = data.sharing;\n  const publicAccess = convertAccessToConstantObject(object.publicAccess);\n  const users = object.userAccesses.map(replaceAccessWithConstant);\n  const groups = object.userGroupAccesses.map(replaceAccessWithConstant);\n\n  /**\n   * Handlers\n   */\n\n  const onAdd = _ref5 => {\n    let {\n      type: newType,\n      id: newId,\n      access,\n      name\n    } = _ref5;\n    const data = createOnAddPayload({\n      object,\n      type: newType,\n      access,\n      id: newId,\n      name\n    });\n    mutate({\n      data,\n      type,\n      id\n    });\n  };\n  const onChange = _ref6 => {\n    let {\n      type: changedType,\n      id: changedId,\n      access\n    } = _ref6;\n    const data = createOnChangePayload({\n      object,\n      type: changedType,\n      access,\n      id: changedId\n    });\n    mutate({\n      data,\n      type,\n      id\n    });\n  };\n  const onRemove = _ref7 => {\n    let {\n      type: removedType,\n      id: removedId\n    } = _ref7;\n    const data = createOnRemovePayload({\n      object,\n      type: removedType,\n      id: removedId\n    });\n    mutate({\n      data,\n      type,\n      id\n    });\n  };\n  return /*#__PURE__*/React.createElement(FetchingContext.Provider, {\n    value: mutating || fetching\n  }, /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose,\n    name: object.displayName || object.name,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(TabbedContent, {\n    id: id,\n    users: users,\n    groups: groups,\n    publicAccess: publicAccess,\n    allowPublicAccess: meta.allowPublicAccess,\n    type: type,\n    onAdd: onAdd,\n    onChange: onChange,\n    onRemove: onRemove,\n    dataSharing: dataSharing\n  })));\n};\nSharingDialog.propTypes = {\n  /** The id of the object to share */\n  id: PropTypes.string.isRequired,\n  /** The type of object to share */\n  type: PropTypes.oneOf(DIALOG_TYPES_LIST).isRequired,\n  /** Whether to expose the ability to set data sharing (in addition to metadata sharing) */\n  dataSharing: PropTypes.bool,\n  dataTest: PropTypes.string,\n  /** Used to seed the component with data to show whilst loading */\n  initialSharingSettings: PropTypes.shape({\n    allowPublic: PropTypes.bool.isRequired,\n    groups: PropTypes.objectOf(PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      access: PropTypes.oneOfType([PropTypes.shape({\n        data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n        metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n      }), PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])])\n    })),\n    name: PropTypes.string,\n    public: PropTypes.oneOfType([PropTypes.shape({\n      data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n      metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n    }), PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])]),\n    users: PropTypes.objectOf(PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      access: PropTypes.oneOfType([PropTypes.shape({\n        data: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT]),\n        metadata: PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])\n      }), PropTypes.oneOf([ACCESS_NONE, ACCESS_VIEW_ONLY, ACCESS_VIEW_AND_EDIT])])\n    }))\n  }),\n  onClose: PropTypes.func,\n  onError: PropTypes.func,\n  onSave: PropTypes.func\n};","import { createContext } from 'react';\nexport const TableContext = /*#__PURE__*/createContext({\n  suppressZebraStriping: false\n});\nexport const {\n  Consumer,\n  Provider\n} = TableContext;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Provider } from './table-context.js';\nconst tableStyles = [\"table.jsx-2430604489{border:1px solid #e8edf2;background-color:#ffffff;min-width:100%;text-align:left;border-collapse:collapse;vertical-align:top;}\"];\ntableStyles.__hash = \"2430604489\";\nexport const Table = _ref => {\n  let {\n    role,\n    children,\n    className,\n    dataTest = 'dhis2-uicore-table',\n    suppressZebraStriping\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      suppressZebraStriping\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    \"data-test\": dataTest,\n    role: role,\n    className: `jsx-${tableStyles.__hash}` + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableStyles.__hash\n  }, tableStyles)));\n};\nTable.propTypes = {\n  /** Should be `<TableHead>`, `<TableBody>`, and `<TableFoot>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string,\n  /** Remove the default striping on alternating rows */\n  suppressZebraStriping: PropTypes.bool\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nexport const TableBody = _ref => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablebody',\n    role\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    className: className,\n    \"data-test\": dataTest,\n    role: role\n  }, children);\n};\nTableBody.propTypes = {\n  /** Should be `<TableRow>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nexport const TableHead = _ref => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablehead',\n    role\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"thead\", {\n    className: className,\n    \"data-test\": dataTest,\n    role: role\n  }, children);\n};\nTableHead.propTypes = {\n  /** Should be `<TableRowHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst tableCellStyles = [\"td.jsx-2229340108{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}\", \"td.jsx-2229340108:dir(rtl){text-align:right;}\", \".dense.jsx-2229340108{padding:9px 12px;height:36px;}\"];\ntableCellStyles.__hash = \"2229340108\";\nexport const TableCell = _ref => {\n  let {\n    role,\n    className,\n    children,\n    colSpan,\n    rowSpan,\n    dense,\n    dataTest = 'dhis2-uicore-tablecell'\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    \"data-test\": dataTest,\n    role: role,\n    className: `jsx-${tableCellStyles.__hash}` + \" \" + (cx({\n      dense\n    }, className) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableCellStyles.__hash\n  }, tableCellStyles));\n};\nTableCell.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Usees less padding and height for information-dense layouts */\n  dense: PropTypes.bool,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst tableCellHeadStyles = [\"th.jsx-3181834369{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}\", \"th.jsx-3181834369:dir(rtl){text-align:right;}\", \".dense.jsx-3181834369{padding:9px 12px;height:36px;}\"];\ntableCellHeadStyles.__hash = \"3181834369\";\nexport const TableCellHead = _ref => {\n  let {\n    role,\n    colSpan,\n    rowSpan,\n    dense,\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablecellhead'\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"th\", {\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    \"data-test\": dataTest,\n    role: role,\n    className: `jsx-${tableCellHeadStyles.__hash}` + \" \" + (cx({\n      dense\n    }, className) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableCellHeadStyles.__hash\n  }, tableCellHeadStyles));\n};\nTableCellHead.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Uses less padding and height for information-dense layouts */\n  dense: PropTypes.bool,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useContext } from 'react';\nimport { TableContext } from './table-context.js';\nconst tableRowStyles = [\".zebraStriping.jsx-3124144591:nth-child(even){background:#fbfcfd;}\"];\ntableRowStyles.__hash = \"3124144591\";\nexport const TableRow = _ref => {\n  let {\n    role,\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablerow',\n    suppressZebraStriping,\n    ...rest\n  } = _ref;\n  const {\n    suppressZebraStriping: suppressZebraStripingFromContext\n  } = useContext(TableContext);\n  const zebraStriping = typeof suppressZebraStriping !== 'undefined' ? !suppressZebraStriping : !suppressZebraStripingFromContext;\n  return /*#__PURE__*/React.createElement(\"tr\", _extends({\n    \"data-test\": dataTest,\n    role: role\n  }, rest, {\n    className: `jsx-${tableRowStyles.__hash}` + \" \" + (rest && rest.className != null && rest.className || cx(className, {\n      zebraStriping\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableRowStyles.__hash\n  }, tableRowStyles));\n};\nTableRow.propTypes = {\n  /** Should be `<TableCell>` or `<TableCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string,\n  /** Disables the default row striping for this row */\n  suppressZebraStriping: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const Table = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-table',\n    layout = 'auto',\n    role,\n    borderless,\n    width = '100%',\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role,\n    className: _JSXStyle.dynamic([[\"3140496910\", [layout, width, colors.grey300]]]) + \" \" + (cx(className, {\n      borderless\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3140496910\",\n    dynamic: [layout, width, colors.grey300]\n  }, [`table.__jsx-style-dynamic-selector{table-layout:${layout};border-collapse:separate;border-spacing:0;width:${width};box-sizing:border-box;border:1px solid ${colors.grey300};}`, \"table.borderless.__jsx-style-dynamic-selector{border:none;}\"]));\n});\nTable.displayName = 'Table';\nTable.propTypes = {\n  /**\n   * Removes border from the table\n   */\n  borderless: PropTypes.bool,\n  /**\n   * Should be `<TableHead>`, `<TableBody>`, and `<TableFoot>` components\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /**\n   * Sets the `table-layout` property. Switching to `fixed` can prevent style\n   * issues when dealing with a table with multiple frozen columns or when dealing\n   * with filter elements in the table headers.\n   */\n  layout: PropTypes.oneOf(['auto', 'fixed', 'initial', 'inherit']),\n  role: PropTypes.string,\n  /**\n   * Sets the `width` property. Providing an explicit width can prevent style\n   * issues when dealing with horizontally scrolling tables with a fixed layout.\n   */\n  width: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableBody = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablebody',\n    role,\n    loading,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tbody\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role,\n    className: _JSXStyle.dynamic([[\"2478922139\", [colors.blue600]]]) + \" \" + (cx(className, {\n      loading\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2478922139\",\n    dynamic: [colors.blue600]\n  }, [\"tbody.__jsx-style-dynamic-selector{position:relative;}\", \".loading.__jsx-style-dynamic-selector:before{content:'';position:absolute;top:0;bottom:0;inset-inline-start:0;inset-inline-end:0;background-color:rgba(255,255,255,0.8);}\", `.loading.__jsx-style-dynamic-selector:after{content:'';position:absolute;top:calc(50% - 24px);inset-inline-start:calc(50% - 24px);width:48px;height:48px;border:6px solid rgba(110,122,138,0.15);border-bottom-color:${colors.blue600};border-radius:50%;-webkit-animation:rotation-__jsx-style-dynamic-selector 1s linear infinite;animation:rotation-__jsx-style-dynamic-selector 1s linear infinite;}`, \"@-webkit-keyframes rotation-__jsx-style-dynamic-selector{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\", \"@keyframes rotation-__jsx-style-dynamic-selector{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\"]));\n});\nTableBody.displayName = 'TableBody';\nTableBody.propTypes = {\n  /** Should be `<TableRow>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  loading: PropTypes.bool,\n  role: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nconst _defaultExport = [`td.jsx-533878895{padding:14px 12px;font-size:14px;border:1px solid transparant;border-bottom:1px solid ${colors.grey300};color:${colors.grey900};}`, `td.active.jsx-533878895{outline:2px solid ${colors.grey600};outline-offset:-2px;}`, `td.bordered.jsx-533878895{border-inline-end:1px solid ${colors.grey300};}`, \"td.bordered.jsx-533878895:last-child{border-inline-end:1px solid transparent;}\", `td.error.jsx-533878895{color:${colors.red700};}`, `td.muted.jsx-533878895{color:${colors.grey700};font-style:italic;}`, `td.valid.jsx-533878895{color:${colors.green700};}`, \"td.large.jsx-533878895{padding:20px 12px;font-size:16px;}\", \"tr:last-child td.jsx-533878895{border-bottom:1px solid transparent;}\", `tfoot tr:first-child td.jsx-533878895{border-top:1px solid ${colors.grey300};}`];\n_defaultExport.__hash = \"533878895\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport styles from './table-data-cell.styles.js';\nconst rtlCorrespondingAlignments = {\n  left: 'right',\n  right: 'left',\n  center: 'center'\n};\nexport const TableDataCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  var _rtlCorrespondingAlig;\n  let {\n    active,\n    align = 'left',\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest = 'dhis2-uicore-tabledatacel',\n    error,\n    large,\n    left = 'auto',\n    muted,\n    role,\n    rowSpan,\n    scope,\n    staticStyle,\n    valid,\n    width = 'auto',\n    onClick,\n    ...props\n  } = _ref;\n  const rtlAlign = (_rtlCorrespondingAlig = rtlCorrespondingAlignments[align]) !== null && _rtlCorrespondingAlig !== void 0 ? _rtlCorrespondingAlig : align;\n  return /*#__PURE__*/React.createElement(\"td\", _extends({}, props, {\n    ref: ref,\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    onClick: onClick,\n    \"data-test\": dataTest,\n    role: role,\n    scope: scope,\n    className: `jsx-${styles.__hash}` + \" \" + _JSXStyle.dynamic([[\"836058623\", [left, align, width, backgroundColor || colors.white, rtlAlign, backgroundColor || colors.teal100, backgroundColor || colors.grey100, backgroundColor || colors.grey200, backgroundColor || '#cdeae8']]]) + \" \" + (cx(className, {\n      active,\n      bordered,\n      error,\n      large,\n      muted,\n      staticStyle,\n      valid\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"836058623\",\n    dynamic: [left, align, width, backgroundColor || colors.white, rtlAlign, backgroundColor || colors.teal100, backgroundColor || colors.grey100, backgroundColor || colors.grey200, backgroundColor || '#cdeae8']\n  }, [`td.__jsx-style-dynamic-selector{inset-inline-start:${left};text-align:${align};width:${width};background-color:${backgroundColor || colors.white};}`, `.__jsx-style-dynamic-selector:dir(rtl){text-align:${rtlAlign};}`, `tr.selected>td.__jsx-style-dynamic-selector{background-color:${backgroundColor || colors.teal100};}`, `tr:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${backgroundColor || colors.grey100};}`, `tr:active>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${backgroundColor || colors.grey200};}`, `tr.selected:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${backgroundColor || '#cdeae8'};}`]));\n});\nTableDataCell.displayName = 'TableDataCell';\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nTableDataCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n  large: PropTypes.bool,\n  /** Required when fixed */\n  left: requiredIf(props => props.fixed, PropTypes.string),\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n  width: PropTypes.string,\n  onClick: PropTypes.func\n};","import { colors } from '@dhis2/ui-constants';\nconst _defaultExport = [`th.jsx-2895298632{padding:12px;border:1px solid transparant;border-bottom:1px solid ${colors.grey300};color:${colors.grey800};font-weight:normal;font-size:14px;vertical-align:top;}`, \"thead th.jsx-2895298632{padding:8px 12px;font-size:13px;}\", `th.jsx-2895298632:last-of-type{border-inline-end:1px solid ${colors.grey300};}`, `th.active.jsx-2895298632{outline:2px solid ${colors.grey600};outline-offset:-2px;}`, `th.bordered.jsx-2895298632{border-inline-end:1px solid ${colors.grey300};}`, \"th.bordered.jsx-2895298632:last-child{border-inline-end:1px solid transparent;}\", `th.error.jsx-2895298632{color:${colors.red700};}`, `th.muted.jsx-2895298632{color:${colors.grey700};font-style:italic;}`, `th.valid.jsx-2895298632{color:${colors.green700};}`, \"th.large.jsx-2895298632{padding:14px 12px;font-size:16px;}\", \"thead th.large.jsx-2895298632{padding:13px 12px;font-size:15px;}\", \"th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:1;}\", \"thead th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:2;}\", \"thead th.fixedHorizontally.jsx-2895298632{z-index:3;}\", \"tr:last-child th.jsx-2895298632{border-bottom:1px solid transparent;}\", `thead tr:last-child th.jsx-2895298632{border-bottom:1px solid ${colors.grey300};}`, `tfoot>tr:first-child th.jsx-2895298632{border-top:1px solid ${colors.grey300};}`];\n_defaultExport.__hash = \"2895298632\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport styles from './table-header-cell.styles.js';\nconst AUTO = 'auto';\nexport const TableHeaderCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    active,\n    align = 'left',\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest = 'dhis2-uicore-tablecell',\n    error,\n    fixed,\n    large,\n    left = AUTO,\n    muted,\n    rowSpan,\n    role,\n    scope,\n    staticStyle,\n    top = AUTO,\n    valid,\n    width = AUTO,\n    onClick,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"th\", _extends({}, props, {\n    ref: ref,\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    onClick: onClick,\n    \"data-test\": dataTest,\n    role: role,\n    scope: scope,\n    className: `jsx-${styles.__hash}` + \" \" + _JSXStyle.dynamic([[\"2588011372\", [left, top, align, width, backgroundColor || colors.grey200, backgroundColor || colors.grey300, backgroundColor || colors.grey300, backgroundColor || colors.grey200]]]) + \" \" + (cx(className, {\n      active,\n      bordered,\n      error,\n      fixed,\n      fixedHorizontally: fixed && left !== AUTO,\n      large,\n      muted,\n      staticStyle,\n      valid\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2588011372\",\n    dynamic: [left, top, align, width, backgroundColor || colors.grey200, backgroundColor || colors.grey300, backgroundColor || colors.grey300, backgroundColor || colors.grey200]\n  }, [`th.__jsx-style-dynamic-selector{inset-inline-start:${left};top:${top};text-align:${align};width:${width};background-color:${backgroundColor || colors.grey200};}`, `thead th.fixedHorizontally.__jsx-style-dynamic-selector{background-color:${backgroundColor || colors.grey300};}`, `tbody>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle),tfoot>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${backgroundColor || colors.grey300};}`, `tbody>tr:active>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${backgroundColor || colors.grey200};}`]));\n});\nTableHeaderCell.displayName = 'TableHeaderCell';\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nTableHeaderCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n  /** Left or top required when fixed */\n  left: requiredIf(props => props.fixed && !props.top, PropTypes.string),\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n  /** Left or top required when fixed */\n  top: requiredIf(props => props.fixed && !props.left, PropTypes.string),\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n  width: PropTypes.string,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableHeaderCellAction = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    onClick,\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tableheadercellaction',\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    \"data-test\": dataTest,\n    onClick: onClick,\n    title: title,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"4225768774\", [colors.grey400]]]) + \" \" + (className || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4225768774\",\n    dynamic: [colors.grey400]\n  }, [\"button.__jsx-style-dynamic-selector{border:none;padding:0;background:transparent;width:24px;height:24px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;cursor:pointer;border-radius:4px;margin-inline-start:2px;}\", `button.__jsx-style-dynamic-selector:hover,button.__jsx-style-dynamic-selector:focus-visible{background:${colors.grey400};}`, \"button.__jsx-style-dynamic-selector:active,button.__jsx-style-dynamic-selector:focus{outline:none;}\"]));\n});\nTableHeaderCellAction.displayName = 'TableHeaderCellAction';\nTableHeaderCellAction.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  title: PropTypes.string,\n  onClick: PropTypes.func\n};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableHead = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    role,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"thead\", _extends({}, props, {\n    className: className,\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role\n  }), children);\n});\nTableHead.displayName = 'TableHead';\nTableHead.propTypes = {\n  /** Should be `<TableRowHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableRow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablerow',\n    draggable,\n    role,\n    selected,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", _extends({}, props, {\n    ref: ref,\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-1820444258\" + \" \" + (cx(className, {\n      selected,\n      draggable\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1820444258\"\n  }, [\"tbody>tr.draggable.jsx-1820444258,tfoot>tr.draggable.jsx-1820444258{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"]));\n});\nTableRow.displayName = 'TableRow';\nTableRow.propTypes = {\n  /** Should be `<TableDataCell>` or `<TableDataCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Applies draggable cursor styles */\n  draggable: PropTypes.bool,\n  role: PropTypes.string,\n  /** Sets a selected (teal) background color */\n  selected: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableScrollBox = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-tablescrollbox',\n    maxHeight = 'auto',\n    maxWidth = 'auto',\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"2859562182\", [colors.grey300, maxHeight, maxWidth]]]) + \" \" + (className || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2859562182\",\n    dynamic: [colors.grey300, maxHeight, maxWidth]\n  }, [`div.__jsx-style-dynamic-selector{border:1px solid ${colors.grey300};border-top:none;box-sizing:border-box;max-height:${maxHeight};max-width:${maxWidth};overflow:auto;}`]));\n});\nTableScrollBox.displayName = 'TableScrollBox';\nTableScrollBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  maxHeight: PropTypes.string,\n  maxWidth: PropTypes.string\n};","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { Table, TableScrollBox } from './table-elements/index.js';\nexport const DataTable = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-datatable',\n    layout = 'auto',\n    role,\n    scrollHeight,\n    scrollWidth,\n    width = '100%'\n  } = _ref;\n  const scrollable = !!(scrollHeight || scrollWidth);\n  const table = /*#__PURE__*/React.createElement(Table, {\n    borderless: scrollable,\n    className: className,\n    dataTest: dataTest,\n    layout: layout,\n    ref: ref,\n    role: role,\n    width: width\n  }, children);\n  return !scrollable ? table : /*#__PURE__*/React.createElement(TableScrollBox, {\n    className: cx(className, 'tablescrollbox'),\n    dataTest: `${dataTest}-scrollbox`,\n    maxHeight: scrollHeight,\n    maxWidth: scrollWidth\n  }, table);\n});\nDataTable.displayName = 'DataTable';\nDataTable.propTypes = {\n  /**\n   * Should be `<DataTableHead>`, `<DataTableBody>`, and `<DataTableFoot>` components\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /**\n   * Sets the `datatable-layout` property. Switching to `fixed` can prevent style\n   * issues when dealing with a datatable with multiple frozen columns or when dealing\n   * with filter elements in the datatable headers.\n   */\n  layout: PropTypes.oneOf(['auto', 'fixed', 'initial', 'inherit']),\n  role: PropTypes.string,\n  /** Sets max-height of scrollbox */\n  scrollHeight: PropTypes.string,\n  /** Sets max-width of scrollbox */\n  scrollWidth: PropTypes.string,\n  /**\n   * Sets the `width` property. Providing an explicit width can prevent style\n   * issues when dealing with horizontally scrolling datatables with a fixed layout.\n   */\n  width: PropTypes.string\n};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { TableDataCell, TableHeaderCell } from './table-elements/index.js';\nexport const DataTableCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    active,\n    align = 'left',\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest = 'dhis2-uicore-datatablecell',\n    error,\n    fixed,\n    large,\n    left = 'auto',\n    muted,\n    rowSpan,\n    role,\n    scope,\n    staticStyle,\n    tag,\n    valid,\n    width = 'auto',\n    onClick,\n    ...props\n  } = _ref;\n  const TableCell = !tag && fixed || tag && tag === 'th' ? TableHeaderCell : TableDataCell;\n  return /*#__PURE__*/React.createElement(TableCell, _extends({}, props, {\n    active: active,\n    align: align,\n    backgroundColor: backgroundColor,\n    bordered: bordered,\n    className: className,\n    colSpan: colSpan,\n    dataTest: dataTest,\n    error: error,\n    fixed: fixed,\n    large: large,\n    left: left,\n    muted: muted,\n    rowSpan: rowSpan,\n    ref: ref,\n    role: role,\n    staticStyle: staticStyle,\n    scope: scope,\n    valid: valid,\n    width: width,\n    onClick: onClick\n  }), children);\n});\nDataTableCell.displayName = 'DataTableCell';\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nconst requiredIfFixedPropType = requiredIf(props => props.fixed, PropTypes.string);\nDataTableCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n  /** When true a TableHeaderCell with sticky positioning will be rendered */\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n  /** Required when fixed */\n  left: requiredIfFixedPropType,\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n  /** Render a TableDataCell or TableHeaderCell respectively */\n  tag: PropTypes.oneOf(['td', 'th']),\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n  /** Required when fixed */\n  width: requiredIfFixedPropType,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nexport const styles = [\"span.container.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}\", \"span.top.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}\", \"span.content.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:24px;}\"];\nstyles.__hash = \"1552921066\";\nexport const resolvedTableHeaderCss = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1231353820\"\n  }, [\"thead>tr>th.DataTableColumnHeader.jsx-1231353820{padding-top:6px;padding-bottom:6px;}\", \"thead>tr>th.DataTableColumnHeader.large.jsx-1231353820{padding-top:12px;padding-bottom:12px;}\"]),\n  className: \"jsx-1231353820\"\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport zhTranslations from './zh/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\nexport default i18n;","import { colors } from '@dhis2/ui-constants';\nimport { IconSearch16 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { TableHeaderCellAction } from '../table-elements/index.js';\nexport const FilterHandle = _ref => {\n  let {\n    active,\n    name,\n    onClick\n  } = _ref;\n  const filterIconColor = active ? colors.blue700 : colors.grey600;\n  const clickHandler = onClick ? event => {\n    onClick({\n      name,\n      show: !active\n    }, event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(TableHeaderCellAction, {\n    onClick: clickHandler,\n    title: i18n.t('Toggle filter')\n  }, /*#__PURE__*/React.createElement(IconSearch16, {\n    color: filterIconColor\n  }));\n};\nFilterHandle.propTypes = {\n  active: PropTypes.bool,\n  name: PropTypes.string,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { TableHeaderCellAction } from '../table-elements/index.js';\nexport const ASC = 'asc';\nexport const DESC = 'desc';\nexport const DEFAULT = 'default';\nexport const SORT_DIRECTIONS = [DEFAULT, ASC, DESC];\nexport const getNextSortDirection = currentDirection => {\n  const currentIndex = SORT_DIRECTIONS.indexOf(currentDirection);\n  const nextIndex = (currentIndex + 1) % SORT_DIRECTIONS.length;\n  return SORT_DIRECTIONS[nextIndex];\n};\nexport const Sorter = _ref => {\n  let {\n    name,\n    sortDirection,\n    title,\n    onClick\n  } = _ref;\n  const nextSortDirection = getNextSortDirection(sortDirection);\n  const clickHandler = onClick ? event => {\n    onClick({\n      name,\n      direction: nextSortDirection\n    }, event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(TableHeaderCellAction, {\n    onClick: clickHandler,\n    title: title || i18n.t('Sort items')\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + (sortDirection || \"\")\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]])\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"4 9 12 9 8 14\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + \"top\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"4 7 12 7 8 2\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + \"bottom\"\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"884818973\",\n    dynamic: [colors.grey500, colors.blue700]\n  }, [`svg.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${colors.grey500};}`, `svg.asc.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.desc.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${colors.blue700};}`]));\n};\nSorter.propTypes = {\n  name: PropTypes.string,\n  sortDirection: requiredIf(props => props.onClick, PropTypes.oneOf(SORT_DIRECTIONS)),\n  title: PropTypes.string,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { TableHeaderCell } from '../table-elements/index.js';\nimport { styles, resolvedTableHeaderCss } from './data-table-column-header.styles.js';\nimport { FilterHandle } from './filter-handle.js';\nimport { Sorter, SORT_DIRECTIONS } from './sorter.js';\nconst flexboxAlignLookup = {\n  left: 'flex-start',\n  center: 'center',\n  right: 'flex-end'\n};\nexport const DataTableColumnHeader = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    align,\n    children,\n    className,\n    colSpan,\n    dataTest = 'dhis2-uicore-datatablecellhead',\n    filter,\n    fixed,\n    large,\n    left,\n    name,\n    role,\n    rowSpan,\n    scope,\n    showFilter,\n    sortDirection,\n    sortIconTitle,\n    top,\n    width,\n    onFilterIconClick,\n    onSortIconClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableHeaderCell, {\n    align: align,\n    className: cx(className, 'DataTableColumnHeader', resolvedTableHeaderCss.className),\n    colSpan: colSpan,\n    dataTest: dataTest,\n    fixed: fixed,\n    large: large,\n    left: left,\n    ref: ref,\n    rowSpan: rowSpan,\n    role: role,\n    scope: scope,\n    top: top,\n    width: width\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + `jsx-${styles.__hash}` + \" \" + (cx('top', {\n      large\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + `jsx-${styles.__hash}` + \" \" + \"content\"\n  }, children), sortDirection && /*#__PURE__*/React.createElement(Sorter, {\n    name: name,\n    sortDirection: sortDirection,\n    onClick: onSortIconClick,\n    title: sortIconTitle\n  }), filter && /*#__PURE__*/React.createElement(FilterHandle, {\n    name: name,\n    active: showFilter,\n    onClick: onFilterIconClick\n  })), showFilter && filter), resolvedTableHeaderCss.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3463223249\"\n  }, [`.label.jsx-3463223249{-webkit-box-pack:${flexboxAlignLookup[align]};-webkit-justify-content:${flexboxAlignLookup[align]};-ms-flex-pack:${flexboxAlignLookup[align]};justify-content:${flexboxAlignLookup[align]};}`]));\n});\nDataTableColumnHeader.displayName = 'DataTableColumnHeader';\nDataTableColumnHeader.propTypes = {\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** The filter element (JSX), required when onFilterIconClick or showFilter are present */\n  filter: requiredIf(props => props.onFilterIconClick || props.showFilter, PropTypes.node),\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n  /** Left or top required when fixed */\n  left: requiredIf(props => props.fixed && !props.top, PropTypes.string),\n  /** Can be used to match a column with a property name */\n  name: PropTypes.string,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n  showFilter: requiredIf(props => props.filter, PropTypes.bool),\n  sortDirection: requiredIf(props => props.onSortIconClick, PropTypes.oneOf(SORT_DIRECTIONS)),\n  sortIconTitle: PropTypes.string,\n  /** Left or top required when fixed */\n  top: requiredIf(props => props.fixed && !props.left, PropTypes.string),\n  width: PropTypes.string,\n  onFilterIconClick: requiredIf(props => props.filter, PropTypes.func),\n  /** Sort icon click callback with `nextSortDirection` and `name` in payload */\n  onSortIconClick: requiredIf(props => props.sortDirection, PropTypes.func)\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { colors } from '@dhis2/ui-constants';\nexport default {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1795567040\"\n  }, [`tr.isHoveringExpandedContent.jsx-1795567040>td{background-color:${colors.grey100};}`, `tr.isHoveringExpandedContent.jsx-1795567040>th{background-color:${colors.grey300};}`, \"tr.selected.isHoveringExpandedContent.jsx-1795567040>td{background-color:#cdeae8;}\", \"tr.expanded.jsx-1795567040>td{border-bottom-color:transparent;}\", `tr.expanded.jsx-1795567040>td.bordered{border-bottom-color:${colors.grey300};}`]),\n  className: \"jsx-1795567040\"\n};","import { IconDragHandle24 } from '@dhis2/ui-icons';\nimport React from 'react';\nimport { TableDataCell } from '../table-elements/index.js';\nexport const DragHandleCell = () => /*#__PURE__*/React.createElement(TableDataCell, {\n  width: \"48px\"\n}, /*#__PURE__*/React.createElement(IconDragHandle24, null));","import _JSXStyle from \"styled-jsx/style\";\nimport { IconChevronDown24, IconChevronUp24 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableDataCell } from '../table-elements/index.js';\nconst pointer = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"927553068\"\n  }, [\"td.jsx-927553068{cursor:pointer;}\"]),\n  className: \"jsx-927553068\"\n};\nexport const ExpandHandleCell = _ref => {\n  let {\n    expanded,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableDataCell, {\n    className: cx(pointer.className, {\n      expanded\n    }),\n    onClick: () => onClick({\n      expanded: !expanded\n    }),\n    width: \"48px\"\n  }, expanded ? /*#__PURE__*/React.createElement(IconChevronUp24, null) : /*#__PURE__*/React.createElement(IconChevronDown24, null), pointer.styles);\n};\nExpandHandleCell.propTypes = {\n  expanded: PropTypes.bool,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableRow, TableDataCell } from '../table-elements/index.js';\nconst {\n  className: cellClassName,\n  styles\n} = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"626485122\"\n  }, [`tr.expanded:hover+tr>td.jsx-626485122{background-color:${colors.grey100};}`, `tr.expanded:active+tr>td.jsx-626485122{background-color:${colors.grey200};}`, \"tr.selected.expanded:hover+tr.jsx-626485122>td.jsx-626485122{background-color:#cdeae8;}\"]),\n  className: \"jsx-626485122\"\n};\nexport const ExpandedRow = _ref => {\n  let {\n    children,\n    className,\n    colSpan,\n    dataTest,\n    selected,\n    setIsHoveringExpandedContent\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableRow, {\n    onMouseOver: () => setIsHoveringExpandedContent(true),\n    onMouseOut: () => setIsHoveringExpandedContent(false),\n    className: cx({\n      [`${className}-expandedrow`]: !!className\n    }),\n    selected: selected,\n    dataTest: dataTest && `${dataTest}-expandedrow`\n  }, /*#__PURE__*/React.createElement(TableDataCell, {\n    className: cellClassName,\n    colSpan: colSpan\n  }, children, styles));\n};\nExpandedRow.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  selected: PropTypes.bool,\n  setIsHoveringExpandedContent: PropTypes.func\n};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { requiredIf } from '@dhis2/prop-types';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState, forwardRef } from 'react';\nimport { TableRow } from '../table-elements/index.js';\nimport resolvedCss from './data-table-row.styles.js';\nimport { DragHandleCell } from './drag-handle-cell.js';\nimport { ExpandHandleCell } from './expand-handle-cell.js';\nimport { ExpandedRow } from './expanded-row.js';\nexport const DataTableRow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest = 'dhis2-uicore-datatablerow',\n    expandableContent,\n    expanded,\n    selected,\n    draggable,\n    role,\n    onExpandToggle,\n    ...rest\n  } = _ref;\n  const [isHoveringExpandedContent, setIsHoveringExpandedContent] = useState(false);\n  const classes = cx(className, resolvedCss.className, {\n    expanded,\n    selected,\n    draggable,\n    isHoveringExpandedContent\n  });\n  const childCount = React.Children.count(children);\n  const colSpan = String(draggable || expandableContent ? childCount + 1 : childCount);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableRow, _extends({\n    ref: ref,\n    className: classes,\n    dataTest: dataTest,\n    selected: selected,\n    draggable: draggable,\n    role: role\n  }, rest), draggable && /*#__PURE__*/React.createElement(DragHandleCell, null), expandableContent && /*#__PURE__*/React.createElement(ExpandHandleCell, {\n    expanded: expanded,\n    onClick: onExpandToggle\n  }), children, resolvedCss.styles), expandableContent && expanded && /*#__PURE__*/React.createElement(ExpandedRow, {\n    className: className,\n    dataTest: dataTest,\n    setIsHoveringExpandedContent: setIsHoveringExpandedContent,\n    colSpan: colSpan,\n    selected: selected\n  }, expandableContent));\n});\nDataTableRow.displayName = 'DataTableRow';\nDataTableRow.propTypes = {\n  /** Should be `<DataTableCell>` or `<DataTableCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  /** Renders and additional table cell with drag icon and applies draggable styles */\n  draggable: PropTypes.bool,\n  /** This content will be rendered into an additional row with fullwidth cell and the presence of this prop will display an additional table cell with expand icon */\n  expandableContent: requiredIf(props => props.onExpandToggle, PropTypes.node),\n  /** Toggles expand icon (up/down) and expandable content visibility */\n  expanded: PropTypes.bool,\n  role: PropTypes.string,\n  /** Adds a green background color */\n  selected: PropTypes.bool,\n  /** Callback for expand icon cell clicks */\n  onExpandToggle: requiredIf(props => props.expandableContent, PropTypes.func)\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n'\n\nimport enTranslations from './en/translations.json'\n\nconst namespace = 'default'\ni18n.addResources('en', namespace, enTranslations)\n\nexport default i18n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = parse;\nexports.serialize = serialize;\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\nconst __toString = Object.prototype.toString;\nconst NullObject = /* @__PURE__ */ (() => {\n    const C = function () { };\n    C.prototype = Object.create(null);\n    return C;\n})();\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nfunction parse(str, options) {\n    const obj = new NullObject();\n    const len = str.length;\n    // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n    if (len < 2)\n        return obj;\n    const dec = options?.decode || decode;\n    let index = 0;\n    do {\n        const eqIdx = str.indexOf(\"=\", index);\n        if (eqIdx === -1)\n            break; // No more cookie pairs.\n        const colonIdx = str.indexOf(\";\", index);\n        const endIdx = colonIdx === -1 ? len : colonIdx;\n        if (eqIdx > endIdx) {\n            // backtrack on prior semicolon\n            index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n            continue;\n        }\n        const keyStartIdx = startIndex(str, index, eqIdx);\n        const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n        const key = str.slice(keyStartIdx, keyEndIdx);\n        // only assign once\n        if (obj[key] === undefined) {\n            let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n            let valEndIdx = endIndex(str, endIdx, valStartIdx);\n            const value = dec(str.slice(valStartIdx, valEndIdx));\n            obj[key] = value;\n        }\n        index = endIdx + 1;\n    } while (index < len);\n    return obj;\n}\nfunction startIndex(str, index, max) {\n    do {\n        const code = str.charCodeAt(index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index;\n    } while (++index < max);\n    return max;\n}\nfunction endIndex(str, index, min) {\n    while (index > min) {\n        const code = str.charCodeAt(--index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index + 1;\n    }\n    return min;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nfunction serialize(name, val, options) {\n    const enc = options?.encode || encodeURIComponent;\n    if (!cookieNameRegExp.test(name)) {\n        throw new TypeError(`argument name is invalid: ${name}`);\n    }\n    const value = enc(val);\n    if (!cookieValueRegExp.test(value)) {\n        throw new TypeError(`argument val is invalid: ${val}`);\n    }\n    let str = name + \"=\" + value;\n    if (!options)\n        return str;\n    if (options.maxAge !== undefined) {\n        if (!Number.isInteger(options.maxAge)) {\n            throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n        }\n        str += \"; Max-Age=\" + options.maxAge;\n    }\n    if (options.domain) {\n        if (!domainValueRegExp.test(options.domain)) {\n            throw new TypeError(`option domain is invalid: ${options.domain}`);\n        }\n        str += \"; Domain=\" + options.domain;\n    }\n    if (options.path) {\n        if (!pathValueRegExp.test(options.path)) {\n            throw new TypeError(`option path is invalid: ${options.path}`);\n        }\n        str += \"; Path=\" + options.path;\n    }\n    if (options.expires) {\n        if (!isDate(options.expires) ||\n            !Number.isFinite(options.expires.valueOf())) {\n            throw new TypeError(`option expires is invalid: ${options.expires}`);\n        }\n        str += \"; Expires=\" + options.expires.toUTCString();\n    }\n    if (options.httpOnly) {\n        str += \"; HttpOnly\";\n    }\n    if (options.secure) {\n        str += \"; Secure\";\n    }\n    if (options.partitioned) {\n        str += \"; Partitioned\";\n    }\n    if (options.priority) {\n        const priority = typeof options.priority === \"string\"\n            ? options.priority.toLowerCase()\n            : undefined;\n        switch (priority) {\n            case \"low\":\n                str += \"; Priority=Low\";\n                break;\n            case \"medium\":\n                str += \"; Priority=Medium\";\n                break;\n            case \"high\":\n                str += \"; Priority=High\";\n                break;\n            default:\n                throw new TypeError(`option priority is invalid: ${options.priority}`);\n        }\n    }\n    if (options.sameSite) {\n        const sameSite = typeof options.sameSite === \"string\"\n            ? options.sameSite.toLowerCase()\n            : options.sameSite;\n        switch (sameSite) {\n            case true:\n            case \"strict\":\n                str += \"; SameSite=Strict\";\n                break;\n            case \"lax\":\n                str += \"; SameSite=Lax\";\n                break;\n            case \"none\":\n                str += \"; SameSite=None\";\n                break;\n            default:\n                throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n        }\n    }\n    return str;\n}\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str) {\n    if (str.indexOf(\"%\") === -1)\n        return str;\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (e) {\n        return str;\n    }\n}\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val) {\n    return __toString.call(val) === \"[object Date]\";\n}\n//# sourceMappingURL=index.js.map","/**\n * react-router v7.2.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href2 = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href2 = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href2 + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    let base = window2.location.origin !== \"null\" ? window2.location.origin : window2.location.href;\n    let href2 = typeof to === \"string\" ? to : createPath(to);\n    href2 = href2.replace(/ $/, \"%20\");\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href2}`\n    );\n    return new URL(href2, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n\n// lib/router/utils.ts\nvar immutableRouteKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id,\n        children: void 0\n      };\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\") {\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return stringify(param);\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  );\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategy;\n  let patchRoutesOnNavigationImpl = init.patchRoutesOnNavigation;\n  let future = {\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  if (initialMatches == null && !patchRoutesOnNavigationImpl) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(\n      initialMatches,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    let fogOfWar = checkFogOfWar(\n      null,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active && fogOfWar.matches) {\n      initialMatchesIsFOW = true;\n      initialMatches = fogOfWar.matches;\n    }\n  } else if (initialMatches.some((m) => m.route.lazy)) {\n    initialized = false;\n  } else if (!initialMatches.some((m) => m.route.loader)) {\n    initialized = true;\n  } else {\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    if (errors) {\n      let idx = initialMatches.findIndex(\n        (m) => errors[m.route.id] !== void 0\n      );\n      initialized = initialMatches.slice(0, idx + 1).every((m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(\n        (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n      );\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition: getSavedScrollPosition(\n          location,\n          newState.matches || state.matches\n        ),\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        fogOfWar.active,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, isFogOfWar, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        state,\n        request,\n        [actionMatch],\n        matches,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      state,\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      request\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href2, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href2,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        match,\n        matches,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      match,\n      matches,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId\n        });\n        setFetcherError(key, routeId, error, { flushSync });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        path,\n        fetchRequest.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\n      \"action\",\n      state,\n      fetchRequest,\n      [match],\n      requestMatches,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      state,\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      revalidationRequest\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, match, matches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        path,\n        fetchRequest.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\n      \"loader\",\n      state,\n      fetchRequest,\n      [match],\n      matches,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(type, state2, request, matchesToLoad, matches, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        type,\n        state2,\n        request,\n        matchesToLoad,\n        matches,\n        fetcherKey,\n        manifest,\n        mapRouteProperties2\n      );\n    } catch (e) {\n      matchesToLoad.forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(\n          result\n        );\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(state2, matches, matchesToLoad, fetchersToLoad, request) {\n    let loaderResultsPromise = callDataStrategy(\n      \"loader\",\n      state2,\n      request,\n      matchesToLoad,\n      matches,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.controller) {\n          let results = await callDataStrategy(\n            \"loader\",\n            state2,\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            [f.match],\n            f.matches,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (patchRoutesOnNavigationImpl) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal) {\n    if (!patchRoutesOnNavigationImpl) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await patchRoutesOnNavigationImpl({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return { type: \"success\", matches: newMatches };\n      }\n      let newPartialMatches = matchRoutesImpl(\n        routesToUse,\n        pathname,\n        basename,\n        true\n      );\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(\n        (m, i) => m.route.id === newPartialMatches[i].route.id\n      )) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties2 = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    skipLoaderErrorBubbling,\n    dataStrategy\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : void 0;\n    if (error !== void 0) {\n      throw error;\n    }\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      return Object.values(result.loaderData)[0];\n    }\n    return void 0;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let context2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...context2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let context = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null\n    );\n    return {\n      ...context,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let context = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    let executedLoaders = new Set(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return {\n      ...context,\n      matches\n    };\n  }\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      type,\n      null,\n      request,\n      matchesToLoad,\n      matches,\n      null,\n      manifest,\n      mapRouteProperties2,\n      requestContext\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          throw result;\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = {\n    ...context,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  };\n  return newContext;\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary = false) {\n  let index = matches.findIndex((m) => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      Object.keys(state.errors)[0],\n      true\n    );\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      pendingActionResult[0]\n    );\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let { route } = match;\n    if (route.lazy) {\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      return true;\n    }\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false : (\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n        currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n      )\n    });\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0) {\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      });\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== void 0;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = children.filter(\n    (newRoute) => !childrenToPatch.some(\n      (existingRoute) => isSameRoute(newRoute, existingRoute)\n    )\n  );\n  let newRoutes = convertRoutesToDataRoutes(\n    uniqueChildren,\n    mapRouteProperties2,\n    [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n    manifest\n  );\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nasync function loadLazyRouteModule(route, mapRouteProperties2, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  Object.assign(routeToUpdate, routeUpdates);\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided `mapRouteProperties`\n    // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n    // since the logic will differ between frameworks.\n    ...mapRouteProperties2(routeToUpdate),\n    lazy: void 0\n  });\n}\nasync function defaultDataStrategy({\n  matches\n}) {\n  let matchesToLoad = matches.filter((m) => m.shouldLoad);\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  return results.reduce(\n    (acc, result, i) => Object.assign(acc, { [matchesToLoad[i].route.id]: result }),\n    {}\n  );\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties2, requestContext) {\n  let loadRouteDefinitionsPromises = matches.map(\n    (m) => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties2, manifest) : void 0\n  );\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some((m) => m.route.id === match.route.id);\n    let resolve = async (handlerOverride) => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(\n        type,\n        request,\n        match,\n        loadRoutePromise,\n        handlerOverride,\n        requestContext\n      ) : Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    };\n    return {\n      ...match,\n      shouldLoad,\n      resolve\n    };\n  });\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: requestContext\n  });\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, staticContext) {\n  let result;\n  let onReject;\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: staticContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (loadRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          loadRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data2 = null;\n        } else {\n          data2 = await result.json();\n        }\n      } else {\n        data2 = await result.text();\n      }\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(\n          result.init?.status || 500,\n          void 0,\n          result.data\n        ),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    loaderData[pendingActionResult[0]] = void 0;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.forEach((rf) => {\n    let { key, match, controller } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (controller && controller.signal.aborted) {\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nvar ENABLE_DEV_WARNINGS = true;\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator2.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator2.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator2.replace : navigator2.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator2,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet);\n  }\n  return outlet;\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator: navigator2, static: isStatic } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = !isStatic && dataRouterState && dataRouterState.matches && dataRouterState.matches.length > 0 ? dataRouterState.matches : matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : void 0;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\n            \"route-fallback\",\n            false,\n            \"No `HydrateFallback` element provided to render during initial hydration\"\n          );\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /* @__PURE__ */ React2.createElement(\n        RenderedRoute,\n        {\n          match,\n          routeContext: {\n            outlet,\n            matches: matches2,\n            isDataRoute: dataRouterState != null\n          },\n          children\n        }\n      );\n    };\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n      RenderErrorBoundary,\n      {\n        location: dataRouterState.location,\n        revalidation: dataRouterState.revalidation,\n        component: errorElement,\n        error,\n        children: getChildren(),\n        routeContext: { outlet: null, matches: matches2, isDataRoute: true }\n      }\n    ) : getChildren();\n  }, null);\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  return React2.useMemo(\n    () => ({\n      async revalidate() {\n        await dataRouterContext.router.revalidate();\n      },\n      state: state.revalidation\n    }),\n    [dataRouterContext.router, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nvar ENABLE_DEV_WARNINGS2 = true;\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl\n}) {\n  let [state, setStateImpl] = React3.useState(router.state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else {\n          React3.startTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [router.window, reactDomFlushSyncImpl, transition, renderDfd]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        React3.startTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [pendingState, renderDfd, router.window]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator2 = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator: navigator2,\n      static: false,\n      basename\n    }),\n    [router, navigator2, basename]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: navigator2\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), null);\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      React3.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(_props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator: navigator2,\n  static: staticProp = false\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator: navigator2,\n      static: staticProp,\n      future: {}\n    }),\n    [basename, navigator2, staticProp]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  return /* @__PURE__ */ React3.createElement(AwaitErrorBoundary, { resolve, errorElement }, /* @__PURE__ */ React3.createElement(ResolveAwait, null, children));\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/components.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\nfunction createHtml(html) {\n  return { __html: html };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\nimport { decode } from \"turbo-stream\";\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getSingleFetchDataStrategy(manifest, routeModules, ssr, getRouter) {\n  return async ({ request, matches, fetcherKey }) => {\n    if (request.method !== \"GET\") {\n      return singleFetchActionStrategy(request, matches);\n    }\n    if (!ssr) {\n      let foundRevalidatingServerLoader = matches.some(\n        (m) => m.shouldLoad && manifest.routes[m.route.id]?.hasLoader && !manifest.routes[m.route.id]?.hasClientLoader\n      );\n      if (!foundRevalidatingServerLoader) {\n        let matchesToLoad = matches.filter((m) => m.shouldLoad);\n        let url = stripIndexParam(singleFetchUrl(request.url));\n        let init = await createRequestInit(request);\n        let results = {};\n        await Promise.all(\n          matchesToLoad.map(\n            (m) => m.resolve(async (handler) => {\n              try {\n                let result = manifest.routes[m.route.id]?.hasClientLoader ? await fetchSingleLoader(handler, url, init, m.route.id) : await handler();\n                results[m.route.id] = { type: \"data\", result };\n              } catch (e) {\n                results[m.route.id] = { type: \"error\", result: e };\n              }\n            })\n          )\n        );\n        return results;\n      }\n    }\n    if (fetcherKey) {\n      return singleFetchLoaderFetcherStrategy(request, matches);\n    }\n    return singleFetchLoaderNavigationStrategy(\n      manifest,\n      routeModules,\n      ssr,\n      getRouter(),\n      request,\n      matches\n    );\n  };\n}\nasync function singleFetchActionStrategy(request, matches) {\n  let actionMatch = matches.find((m) => m.shouldLoad);\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let url = singleFetchUrl(request.url);\n      let init = await createRequestInit(request);\n      let { data: data2, status } = await fetchAndDecode(url, init);\n      actionStatus = status;\n      return unwrapSingleFetchResult(\n        data2,\n        actionMatch.route.id\n      );\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function singleFetchLoaderNavigationStrategy(manifest, routeModules, ssr, router, request, matches) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = matches.map(() => createDeferred2());\n  let routesLoadedPromise = Promise.all(routeDfds.map((d) => d.promise));\n  let singleFetchDfd = createDeferred2();\n  let url = stripIndexParam(singleFetchUrl(request.url));\n  let init = await createRequestInit(request);\n  let results = {};\n  let resolvePromise = Promise.all(\n    matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let manifestRoute = manifest.routes[m.route.id];\n        if (!m.shouldLoad) {\n          if (!router.state.initialized) {\n            return;\n          }\n          if (m.route.id in router.state.loaderData && manifestRoute && manifestRoute.hasLoader && routeModules[m.route.id]?.shouldRevalidate) {\n            foundOptOutRoute = true;\n            return;\n          }\n        }\n        if (manifestRoute && manifestRoute.hasClientLoader) {\n          if (manifestRoute.hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await fetchSingleLoader(\n              handler,\n              url,\n              init,\n              m.route.id\n            );\n            results[m.route.id] = { type: \"data\", result };\n          } catch (e) {\n            results[m.route.id] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (manifestRoute && manifestRoute.hasLoader) {\n          routesParams.add(m.route.id);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResults(data2, m.route.id);\n          });\n          results[m.route.id] = {\n            type: \"data\",\n            result\n          };\n        } catch (e) {\n          results[m.route.id] = {\n            type: \"error\",\n            result: e\n          };\n        }\n      })\n    )\n  );\n  await routesLoadedPromise;\n  if ((!router.state.initialized || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({});\n  } else {\n    try {\n      if (ssr && foundOptOutRoute && routesParams.size > 0) {\n        url.searchParams.set(\n          \"_routes\",\n          matches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n        );\n      }\n      let data2 = await fetchAndDecode(url, init);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  return results;\n}\nasync function singleFetchLoaderFetcherStrategy(request, matches) {\n  let fetcherMatch = matches.find((m) => m.shouldLoad);\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let result = await fetcherMatch.resolve(async (handler) => {\n    let url = stripIndexParam(singleFetchUrl(request.url));\n    let init = await createRequestInit(request);\n    return fetchSingleLoader(handler, url, init, fetcherMatch.route.id);\n  });\n  return { [fetcherMatch.route.id]: result };\n}\nfunction fetchSingleLoader(handler, url, init, routeId) {\n  return handler(async () => {\n    let singleLoaderUrl = new URL(url);\n    singleLoaderUrl.searchParams.set(\"_routes\", routeId);\n    let { data: data2 } = await fetchAndDecode(singleLoaderUrl, init);\n    return unwrapSingleFetchResults(data2, routeId);\n  });\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = \"_root.data\";\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.data`;\n  }\n  return url;\n}\nasync function fetchAndDecode(url, init) {\n  let res = await fetch(url, init);\n  if (res.status === 404 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(404, \"Not Found\", true);\n  }\n  const NO_BODY_STATUS_CODES2 = /* @__PURE__ */ new Set([100, 101, 204, 205]);\n  if (NO_BODY_STATUS_CODES2.has(res.status)) {\n    if (!init.method || init.method === \"GET\") {\n      return { status: res.status, data: {} };\n    } else {\n      return { status: res.status, data: { data: void 0 } };\n    }\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    return { status: res.status, data: decoded.value };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global2) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global2 && typeof global2[name] === \"function\") {\n            Constructor = global2[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResults(results, routeId) {\n  let redirect2 = results[SingleFetchRedirectSymbol];\n  if (redirect2) {\n    return unwrapSingleFetchResult(redirect2, routeId);\n  }\n  return results[routeId] !== void 0 ? unwrapSingleFetchResult(results[routeId], routeId) : null;\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"error\" in result) {\n    throw result.error;\n  } else if (\"redirect\" in result) {\n    let headers = {};\n    if (result.revalidate) {\n      headers[\"X-Remix-Revalidate\"] = \"yes\";\n    }\n    if (result.reload) {\n      headers[\"X-Remix-Reload-Document\"] = \"yes\";\n    }\n    if (result.replace) {\n      headers[\"X-Remix-Replace\"] = \"yes\";\n    }\n    throw redirect(result.redirect, { status: result.status, headers });\n  } else if (\"data\" in result) {\n    return result.data;\n  } else {\n    throw new Error(`No response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React5 from \"react\";\nvar RemixErrorBoundary = class extends React5.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React5.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), heyDeveloper);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React5.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React5.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React5.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React5.createElement(\"head\", null, /* @__PURE__ */ React5.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React5.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React5.createElement(\"title\", null, title)), /* @__PURE__ */ React5.createElement(\"body\", null, /* @__PURE__ */ React5.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React5.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/ssr/fallback.tsx\nimport * as React6 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React6.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, /* @__PURE__ */ React6.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://remix.run/route/hydrate-fallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ));\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React7.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need action/shouldRevalidate on these routes since they're\n      // for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route,\n        routeModule,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = ({ request }, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      } else if (route.clientLoaderModule) {\n        dataRoute.loader = async (args, singleFetch) => {\n          invariant2(route.clientLoaderModule);\n          let { clientLoader } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          );\n          return clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        };\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = ({ request }, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      } else if (route.clientActionModule) {\n        dataRoute.action = async (args, singleFetch) => {\n          invariant2(route.clientActionModule);\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          );\n          return clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        };\n      }\n      dataRoute.lazy = async () => {\n        if (route.clientLoaderModule || route.clientActionModule) {\n          await new Promise((resolve) => setTimeout(resolve, 0));\n        }\n        let modPromise = loadRouteModuleWithBlockingLinks(\n          route,\n          routeModulesCache\n        );\n        prefetchRouteModuleChunks(route);\n        let mod = await modPromise;\n        let lazyRoute = { ...mod };\n        if (mod.clientLoader) {\n          let clientLoader = mod.clientLoader;\n          lazyRoute.loader = (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        }\n        if (mod.clientAction) {\n          let clientAction = mod.clientAction;\n          lazyRoute.action = (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        }\n        return {\n          ...lazyRoute.loader ? { loader: lazyRoute.loader } : {},\n          ...lazyRoute.action ? { action: lazyRoute.action } : {},\n          hasErrorBoundary: lazyRoute.hasErrorBoundary,\n          shouldRevalidate: getShouldRevalidateFunction(\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          ),\n          handle: lazyRoute.handle,\n          // No need to wrap these in layout since the root route is never\n          // loaded via route.lazy()\n          Component: lazyRoute.Component,\n          ErrorBoundary: lazyRoute.ErrorBoundary\n        };\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({ ...opts, defaultShouldRevalidate: false });\n    } else {\n      return () => false;\n    }\n  }\n  if (ssr && route.shouldRevalidate) {\n    let fn = route.shouldRevalidate;\n    return (opts) => fn({ ...opts, defaultShouldRevalidate: true });\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(route, routeModule, isSpaMode) {\n  return isSpaMode && route.id !== \"root\" || routeModule.clientLoader != null && (routeModule.clientLoader.hydrate === true || route.hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(ssr) {\n  return ssr === true;\n}\nfunction getPartialManifest(manifest, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, isSpaMode) {\n  React8.useEffect(() => {\n    if (!isFogOfWarEnabled(ssr) || navigator.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router]);\n}\nasync function fetchAndApplyManifestPatches(paths, manifest, routeModules, ssr, isSpaMode, basename, patchRoutes, signal) {\n  let manifestPath = `${basename != null ? basename : \"/\"}/__manifest`.replace(\n    /\\/+/g,\n    \"/\"\n  );\n  let url = new URL(manifestPath, window.location.origin);\n  paths.sort().forEach((path) => url.searchParams.append(\"p\", path));\n  url.searchParams.set(\"version\", manifest.version);\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React9.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React9.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React9.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React9.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React9.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React9.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React9.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React9.useRef(null);\n  React9.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React9.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nfunction Links() {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React9.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, criticalCss ? /* @__PURE__ */ React9.createElement(\"style\", { dangerouslySetInnerHTML: { __html: criticalCss } }) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React9.createElement(PrefetchPageLinks, { key, ...link }) : /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  ));\n}\nfunction PrefetchPageLinks({\n  page,\n  ...dataLinkProps\n}) {\n  let { router } = useDataRouterContext2();\n  let matches = React9.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React9.createElement(PrefetchPageLinksImpl, { page, matches, ...dataLinkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React9.useState([]);\n  React9.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React9.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page);\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React9.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, dataHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"prefetch\", as: \"fetch\", href: href2, ...linkProps })), moduleHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"modulepreload\", href: href2, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React9.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React9.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React9.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React9.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: json }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React9.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction Scripts(props) {\n  let { manifest, serverHandoffString, isSpaMode, ssr, renderMeta } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let enableFogOfWar = isFogOfWarEnabled(ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React9.useEffect(() => {\n    isHydrated = true;\n  }, []);\n  let initialScripts = React9.useMemo(() => {\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React9.createElement(React9.Fragment, null, /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(contextScript),\n        type: void 0\n      }\n    ), /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(routeModulesScript),\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated ? [] : manifest.entry.imports.concat(\n    getModuleLinkHrefs(matches, manifest, {\n      includeHydrateFallback: true\n    })\n  );\n  return isHydrated ? null : /* @__PURE__ */ React9.createElement(React9.Fragment, null, !enableFogOfWar ? /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: props.crossOrigin\n    }\n  ) : null, /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: props.crossOrigin\n    }\n  ), dedupe(preloads).map((path) => /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: props.crossOrigin\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/lib.tsx\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = \"7.2.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HashRouter({ basename, children, window: window2 }) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href2 = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href2,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href2 })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator: navigator2, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  React10.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => router.deleteFetcher(fetcherKey);\n  }, [router, fetcherKey]);\n  let load = React10.useCallback(\n    async (href2, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await router.fetch(fetcherKey, routeId, href2, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, opts = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative: opts.relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href2 = typeof to === \"string\" ? to : createPath(to);\n  href2 = href2.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href2) ? new URL(href2) : new URL(href2, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\n// lib/dom/ssr/server.tsx\nimport * as React12 from \"react\";\nfunction ServerRouter({\n  context,\n  url,\n  nonce\n}) {\n  if (typeof url === \"string\") {\n    url = new URL(url);\n  }\n  let { manifest, routeModules, criticalCss, serverHandoffString } = context;\n  let routes = createServerRoutes(\n    manifest.routes,\n    routeModules,\n    context.future,\n    context.isSpaMode\n  );\n  context.staticHandlerContext.loaderData = {\n    ...context.staticHandlerContext.loaderData\n  };\n  for (let match of context.staticHandlerContext.matches) {\n    let routeId = match.route.id;\n    let route = routeModules[routeId];\n    let manifestRoute = context.manifest.routes[routeId];\n    if (route && manifestRoute && shouldHydrateRouteLoader(manifestRoute, route, context.isSpaMode) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n      delete context.staticHandlerContext.loaderData[routeId];\n    }\n  }\n  let router = createStaticRouter(routes, context.staticHandlerContext);\n  return /* @__PURE__ */ React12.createElement(React12.Fragment, null, /* @__PURE__ */ React12.createElement(\n    FrameworkContext.Provider,\n    {\n      value: {\n        manifest,\n        routeModules,\n        criticalCss,\n        serverHandoffString,\n        future: context.future,\n        ssr: context.ssr,\n        isSpaMode: context.isSpaMode,\n        serializeError: context.serializeError,\n        renderMeta: context.renderMeta\n      }\n    },\n    /* @__PURE__ */ React12.createElement(RemixErrorBoundary, { location: router.state.location }, /* @__PURE__ */ React12.createElement(\n      StaticRouterProvider,\n      {\n        router,\n        context: context.staticHandlerContext,\n        hydrate: false\n      }\n    ))\n  ), context.serverHandoffStream ? /* @__PURE__ */ React12.createElement(React12.Suspense, null, /* @__PURE__ */ React12.createElement(\n    StreamTransfer,\n    {\n      context,\n      identifier: 0,\n      reader: context.serverHandoffStream.getReader(),\n      textDecoder: new TextDecoder(),\n      nonce\n    }\n  )) : null);\n}\n\n// lib/dom/ssr/routes-test-stub.tsx\nimport * as React13 from \"react\";\nfunction createRoutesStub(routes, context = {}) {\n  return function RoutesTestStub({\n    initialEntries,\n    initialIndex,\n    hydrationData,\n    future\n  }) {\n    let routerRef = React13.useRef();\n    let remixContextRef = React13.useRef();\n    if (routerRef.current == null) {\n      remixContextRef.current = {\n        future: {},\n        manifest: {\n          routes: {},\n          entry: { imports: [], module: \"\" },\n          url: \"\",\n          version: \"\"\n        },\n        routeModules: {},\n        ssr: false,\n        isSpaMode: false\n      };\n      let patched = processRoutes(\n        // @ts-expect-error loader/action context types don't match :/\n        convertRoutesToDataRoutes(routes, (r) => r),\n        context,\n        remixContextRef.current.manifest,\n        remixContextRef.current.routeModules\n      );\n      routerRef.current = createMemoryRouter(patched, {\n        initialEntries,\n        initialIndex,\n        hydrationData\n      });\n    }\n    return /* @__PURE__ */ React13.createElement(FrameworkContext.Provider, { value: remixContextRef.current }, /* @__PURE__ */ React13.createElement(RouterProvider, { router: routerRef.current }));\n  };\n}\nfunction processRoutes(routes, context, manifest, routeModules, parentId) {\n  return routes.map((route) => {\n    if (!route.id) {\n      throw new Error(\n        \"Expected a route.id in @remix-run/testing processRoutes() function\"\n      );\n    }\n    let { loader, action } = route;\n    let newRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      Component: route.Component,\n      HydrateFallback: route.HydrateFallback,\n      ErrorBoundary: route.ErrorBoundary,\n      action: action ? (args) => action({ ...args, context }) : void 0,\n      loader: loader ? (args) => loader({ ...args, context }) : void 0,\n      handle: route.handle,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    let entryRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      parentId,\n      hasAction: route.action != null,\n      hasLoader: route.loader != null,\n      // When testing routes, you should just be stubbing loader/action, not\n      // trying to re-implement the full loader/clientLoader/SSR/hydration flow.\n      // That is better tested via E2E tests.\n      hasClientAction: false,\n      hasClientLoader: false,\n      hasErrorBoundary: route.ErrorBoundary != null,\n      // any need for these?\n      module: \"build/stub-path-to-module.js\",\n      clientActionModule: void 0,\n      clientLoaderModule: void 0,\n      hydrateFallbackModule: void 0\n    };\n    manifest.routes[newRoute.id] = entryRoute;\n    routeModules[route.id] = {\n      default: route.Component || Outlet,\n      ErrorBoundary: route.ErrorBoundary || void 0,\n      handle: route.handle,\n      links: route.links,\n      meta: route.meta,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    if (route.children) {\n      newRoute.children = processRoutes(\n        route.children,\n        context,\n        manifest,\n        routeModules,\n        newRoute.id\n      );\n    }\n    return newRoute;\n  });\n}\n\n// lib/server-runtime/cookies.ts\nimport { parse, serialize } from \"cookie\";\n\n// lib/server-runtime/crypto.ts\nvar encoder = new TextEncoder();\nvar sign = async (value, secret) => {\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"sign\"]);\n  let signature = await crypto.subtle.sign(\"HMAC\", key, data2);\n  let hash = btoa(String.fromCharCode(...new Uint8Array(signature))).replace(\n    /=+$/,\n    \"\"\n  );\n  return value + \".\" + hash;\n};\nvar unsign = async (cookie, secret) => {\n  let index = cookie.lastIndexOf(\".\");\n  let value = cookie.slice(0, index);\n  let hash = cookie.slice(index + 1);\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"verify\"]);\n  let signature = byteStringToUint8Array(atob(hash));\n  let valid = await crypto.subtle.verify(\"HMAC\", key, signature, data2);\n  return valid ? value : false;\n};\nvar createKey2 = async (secret, usages) => crypto.subtle.importKey(\n  \"raw\",\n  encoder.encode(secret),\n  { name: \"HMAC\", hash: \"SHA-256\" },\n  false,\n  usages\n);\nfunction byteStringToUint8Array(byteString) {\n  let array = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    array[i] = byteString.charCodeAt(i);\n  }\n  return array;\n}\n\n// lib/server-runtime/cookies.ts\nvar createCookie = (name, cookieOptions = {}) => {\n  let { secrets = [], ...options } = {\n    path: \"/\",\n    sameSite: \"lax\",\n    ...cookieOptions\n  };\n  warnOnceAboutExpiresCookie(name, options.expires);\n  return {\n    get name() {\n      return name;\n    },\n    get isSigned() {\n      return secrets.length > 0;\n    },\n    get expires() {\n      return typeof options.maxAge !== \"undefined\" ? new Date(Date.now() + options.maxAge * 1e3) : options.expires;\n    },\n    async parse(cookieHeader, parseOptions) {\n      if (!cookieHeader) return null;\n      let cookies = parse(cookieHeader, { ...options, ...parseOptions });\n      if (name in cookies) {\n        let value = cookies[name];\n        if (typeof value === \"string\" && value !== \"\") {\n          let decoded = await decodeCookieValue(value, secrets);\n          return decoded;\n        } else {\n          return \"\";\n        }\n      } else {\n        return null;\n      }\n    },\n    async serialize(value, serializeOptions) {\n      return serialize(\n        name,\n        value === \"\" ? \"\" : await encodeCookieValue(value, secrets),\n        {\n          ...options,\n          ...serializeOptions\n        }\n      );\n    }\n  };\n};\nvar isCookie = (object) => {\n  return object != null && typeof object.name === \"string\" && typeof object.isSigned === \"boolean\" && typeof object.parse === \"function\" && typeof object.serialize === \"function\";\n};\nasync function encodeCookieValue(value, secrets) {\n  let encoded = encodeData(value);\n  if (secrets.length > 0) {\n    encoded = await sign(encoded, secrets[0]);\n  }\n  return encoded;\n}\nasync function decodeCookieValue(value, secrets) {\n  if (secrets.length > 0) {\n    for (let secret of secrets) {\n      let unsignedValue = await unsign(value, secret);\n      if (unsignedValue !== false) {\n        return decodeData(unsignedValue);\n      }\n    }\n    return null;\n  }\n  return decodeData(value);\n}\nfunction encodeData(value) {\n  return btoa(myUnescape(encodeURIComponent(JSON.stringify(value))));\n}\nfunction decodeData(value) {\n  try {\n    return JSON.parse(decodeURIComponent(myEscape(atob(value))));\n  } catch (error) {\n    return {};\n  }\n}\nfunction myEscape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, code;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (/[\\w*+\\-./@]/.exec(chr)) {\n      result += chr;\n    } else {\n      code = chr.charCodeAt(0);\n      if (code < 256) {\n        result += \"%\" + hex(code, 2);\n      } else {\n        result += \"%u\" + hex(code, 4).toUpperCase();\n      }\n    }\n  }\n  return result;\n}\nfunction hex(code, length) {\n  let result = code.toString(16);\n  while (result.length < length) result = \"0\" + result;\n  return result;\n}\nfunction myUnescape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, part;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (chr === \"%\") {\n      if (str.charAt(index) === \"u\") {\n        part = str.slice(index + 1, index + 5);\n        if (/^[\\da-f]{4}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 5;\n          continue;\n        }\n      } else {\n        part = str.slice(index, index + 2);\n        if (/^[\\da-f]{2}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 2;\n          continue;\n        }\n      }\n    }\n    result += chr;\n  }\n  return result;\n}\nfunction warnOnceAboutExpiresCookie(name, expires) {\n  warnOnce(\n    !expires,\n    `The \"${name}\" cookie has an \"expires\" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \\`commitSession(session, { expires })\\` if using a session storage object, or \\`cookie.serialize(\"value\", { expires })\\` if you're using the cookie directly.`\n  );\n}\n\n// lib/server-runtime/entry.ts\nfunction createEntryRouteModules(manifest) {\n  return Object.keys(manifest).reduce((memo2, routeId) => {\n    let route = manifest[routeId];\n    if (route) {\n      memo2[routeId] = route.module;\n    }\n    return memo2;\n  }, {});\n}\n\n// lib/server-runtime/mode.ts\nvar ServerMode = /* @__PURE__ */ ((ServerMode2) => {\n  ServerMode2[\"Development\"] = \"development\";\n  ServerMode2[\"Production\"] = \"production\";\n  ServerMode2[\"Test\"] = \"test\";\n  return ServerMode2;\n})(ServerMode || {});\nfunction isServerMode(value) {\n  return value === \"development\" /* Development */ || value === \"production\" /* Production */ || value === \"test\" /* Test */;\n}\n\n// lib/server-runtime/errors.ts\nfunction sanitizeError(error, serverMode) {\n  if (error instanceof Error && serverMode !== \"development\" /* Development */) {\n    let sanitized = new Error(\"Unexpected Server Error\");\n    sanitized.stack = void 0;\n    return sanitized;\n  }\n  return error;\n}\nfunction sanitizeErrors(errors, serverMode) {\n  return Object.entries(errors).reduce((acc, [routeId, error]) => {\n    return Object.assign(acc, { [routeId]: sanitizeError(error, serverMode) });\n  }, {});\n}\nfunction serializeError(error, serverMode) {\n  let sanitized = sanitizeError(error, serverMode);\n  return {\n    message: sanitized.message,\n    stack: sanitized.stack\n  };\n}\nfunction serializeErrors2(errors, serverMode) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      let sanitized = sanitizeError(val, serverMode);\n      serialized[key] = {\n        message: sanitized.message,\n        stack: sanitized.stack,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.  This will only apply\n        // in dev mode since all production errors are sanitized to normal\n        // Error instances\n        ...sanitized.name !== \"Error\" ? {\n          __subType: sanitized.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n// lib/server-runtime/routeMatching.ts\nfunction matchServerRoutes(routes, pathname, basename) {\n  let matches = matchRoutes(\n    routes,\n    pathname,\n    basename\n  );\n  if (!matches) return null;\n  return matches.map((match) => ({\n    params: match.params,\n    pathname: match.pathname,\n    route: match.route\n  }));\n}\n\n// lib/server-runtime/data.ts\nasync function callRouteHandler(handler, args) {\n  let result = await handler({\n    request: stripRoutesParam(stripIndexParam2(args.request)),\n    params: args.params,\n    context: args.context\n  });\n  if (isDataWithResponseInit(result) && result.init && result.init.status && isRedirectStatusCode(result.init.status)) {\n    throw new Response(null, result.init);\n  }\n  return result;\n}\nfunction stripIndexParam2(request) {\n  let url = new URL(request.url);\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\nfunction stripRoutesParam(request) {\n  let url = new URL(request.url);\n  url.searchParams.delete(\"_routes\");\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\n\n// lib/server-runtime/invariant.ts\nfunction invariant3(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    console.error(\n      \"The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose\"\n    );\n    throw new Error(message);\n  }\n}\n\n// lib/server-runtime/routes.ts\nfunction groupRoutesByParentId2(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction createRoutes(manifest, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => ({\n    ...route,\n    children: createRoutes(manifest, route.id, routesByParentId)\n  }));\n}\nfunction createStaticHandlerDataRoutes(manifest, future, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let commonRoute = {\n      // Always include root due to default boundaries\n      hasErrorBoundary: route.id === \"root\" || route.module.ErrorBoundary != null,\n      id: route.id,\n      path: route.path,\n      // Need to use RR's version in the param typed here to permit the optional\n      // context even though we know it'll always be provided in remix\n      loader: route.module.loader ? async (args) => {\n        if (args.request.headers.has(\"X-React-Router-Prerender-Data\")) {\n          const preRenderedData = args.request.headers.get(\n            \"X-React-Router-Prerender-Data\"\n          );\n          let encoded = preRenderedData ? decodeURI(preRenderedData) : preRenderedData;\n          invariant3(encoded, \"Missing prerendered data for route\");\n          let uint8array = new TextEncoder().encode(encoded);\n          let stream = new ReadableStream({\n            start(controller) {\n              controller.enqueue(uint8array);\n              controller.close();\n            }\n          });\n          let decoded = await decodeViaTurboStream(stream, global);\n          let data2 = decoded.value;\n          invariant3(\n            data2 && route.id in data2,\n            \"Unable to decode prerendered data\"\n          );\n          let result = data2[route.id];\n          invariant3(\"data\" in result, \"Unable to process prerendered data\");\n          return result.data;\n        }\n        let val = await callRouteHandler(route.module.loader, args);\n        return val;\n      } : void 0,\n      action: route.module.action ? (args) => callRouteHandler(route.module.action, args) : void 0,\n      handle: route.module.handle\n    };\n    return route.index ? {\n      index: true,\n      ...commonRoute\n    } : {\n      caseSensitive: route.caseSensitive,\n      children: createStaticHandlerDataRoutes(\n        manifest,\n        future,\n        route.id,\n        routesByParentId\n      ),\n      ...commonRoute\n    };\n  });\n}\n\n// lib/server-runtime/markup.ts\nvar ESCAPE_LOOKUP3 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX3 = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml2(html) {\n  return html.replace(ESCAPE_REGEX3, (match) => ESCAPE_LOOKUP3[match]);\n}\n\n// lib/server-runtime/serverHandoff.ts\nfunction createServerHandoffString(serverHandoff) {\n  return escapeHtml2(JSON.stringify(serverHandoff));\n}\n\n// lib/server-runtime/dev.ts\nvar globalDevServerHooksKey = \"__reactRouterDevServerHooks\";\nfunction setDevServerHooks(devServerHooks) {\n  globalThis[globalDevServerHooksKey] = devServerHooks;\n}\nfunction getDevServerHooks() {\n  return globalThis[globalDevServerHooksKey];\n}\n\n// lib/server-runtime/single-fetch.ts\nimport { encode } from \"turbo-stream\";\n\n// lib/server-runtime/headers.ts\nimport { splitCookiesString } from \"set-cookie-parser\";\nfunction getDocumentHeaders(build, context) {\n  let boundaryIdx = context.errors ? context.matches.findIndex((m) => context.errors[m.route.id]) : -1;\n  let matches = boundaryIdx >= 0 ? context.matches.slice(0, boundaryIdx + 1) : context.matches;\n  let errorHeaders;\n  if (boundaryIdx >= 0) {\n    let { actionHeaders, actionData, loaderHeaders, loaderData } = context;\n    context.matches.slice(boundaryIdx).some((match) => {\n      let id = match.route.id;\n      if (actionHeaders[id] && (!actionData || !actionData.hasOwnProperty(id))) {\n        errorHeaders = actionHeaders[id];\n      } else if (loaderHeaders[id] && !loaderData.hasOwnProperty(id)) {\n        errorHeaders = loaderHeaders[id];\n      }\n      return errorHeaders != null;\n    });\n  }\n  return matches.reduce((parentHeaders, match, idx) => {\n    let { id } = match.route;\n    let route = build.routes[id];\n    invariant3(route, `Route with id \"${id}\" not found in build`);\n    let routeModule = route.module;\n    let loaderHeaders = context.loaderHeaders[id] || new Headers();\n    let actionHeaders = context.actionHeaders[id] || new Headers();\n    let includeErrorHeaders = errorHeaders != null && idx === matches.length - 1;\n    let includeErrorCookies = includeErrorHeaders && errorHeaders !== loaderHeaders && errorHeaders !== actionHeaders;\n    if (routeModule.headers == null) {\n      let headers2 = new Headers(parentHeaders);\n      if (includeErrorCookies) {\n        prependCookies(errorHeaders, headers2);\n      }\n      prependCookies(actionHeaders, headers2);\n      prependCookies(loaderHeaders, headers2);\n      return headers2;\n    }\n    let headers = new Headers(\n      routeModule.headers ? typeof routeModule.headers === \"function\" ? routeModule.headers({\n        loaderHeaders,\n        parentHeaders,\n        actionHeaders,\n        errorHeaders: includeErrorHeaders ? errorHeaders : void 0\n      }) : routeModule.headers : void 0\n    );\n    if (includeErrorCookies) {\n      prependCookies(errorHeaders, headers);\n    }\n    prependCookies(actionHeaders, headers);\n    prependCookies(loaderHeaders, headers);\n    prependCookies(parentHeaders, headers);\n    return headers;\n  }, new Headers());\n}\nfunction prependCookies(parentHeaders, childHeaders) {\n  let parentSetCookieString = parentHeaders.get(\"Set-Cookie\");\n  if (parentSetCookieString) {\n    let cookies = splitCookiesString(parentSetCookieString);\n    let childCookies = new Set(childHeaders.getSetCookie());\n    cookies.forEach((cookie) => {\n      if (!childCookies.has(cookie)) {\n        childHeaders.append(\"Set-Cookie\", cookie);\n      }\n    });\n  }\n}\n\n// lib/server-runtime/single-fetch.ts\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nfunction getSingleFetchDataStrategy2({\n  isActionDataRequest,\n  loadRouteIds\n} = {}) {\n  return async ({ request, matches }) => {\n    if (isActionDataRequest && request.method === \"GET\") {\n      return {};\n    }\n    let matchesToLoad = loadRouteIds ? matches.filter((m) => loadRouteIds.includes(m.route.id)) : matches;\n    let results = await Promise.all(\n      matchesToLoad.map((match) => match.resolve())\n    );\n    return results.reduce(\n      (acc, result, i) => Object.assign(acc, { [matchesToLoad[i].route.id]: result }),\n      {}\n    );\n  };\n}\nasync function singleFetchAction(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let handlerRequest = new Request(handlerUrl, {\n      method: request.method,\n      body: request.body,\n      headers: request.headers,\n      signal: request.signal,\n      ...request.body ? { duplex: \"half\" } : void 0\n    });\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      skipLoaderErrorBubbling: true,\n      dataStrategy: getSingleFetchDataStrategy2({\n        isActionDataRequest: true\n      })\n    });\n    if (isResponse(result)) {\n      return {\n        result: getSingleFetchRedirect(\n          result.status,\n          result.headers,\n          build.basename\n        ),\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      };\n    }\n    let context = result;\n    let headers = getDocumentHeaders(build, context);\n    if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n      return {\n        result: getSingleFetchRedirect(\n          context.statusCode,\n          headers,\n          build.basename\n        ),\n        headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      };\n    }\n    if (context.errors) {\n      Object.values(context.errors).forEach((err) => {\n        if (!isRouteErrorResponse(err) || err.error) {\n          handleError(err);\n        }\n      });\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let singleFetchResult;\n    if (context.errors) {\n      singleFetchResult = { error: Object.values(context.errors)[0] };\n    } else {\n      singleFetchResult = { data: Object.values(context.actionData || {})[0] };\n    }\n    return {\n      result: singleFetchResult,\n      headers,\n      status: context.statusCode\n    };\n  } catch (error) {\n    handleError(error);\n    return {\n      result: { error },\n      headers: new Headers(),\n      status: 500\n    };\n  }\n}\nasync function singleFetchLoaders(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let handlerRequest = new Request(handlerUrl, {\n      headers: request.headers,\n      signal: request.signal\n    });\n    let loadRouteIds = new URL(request.url).searchParams.get(\"_routes\")?.split(\",\") || void 0;\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      skipLoaderErrorBubbling: true,\n      dataStrategy: getSingleFetchDataStrategy2({\n        loadRouteIds\n      })\n    });\n    if (isResponse(result)) {\n      return {\n        result: {\n          [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n            result.status,\n            result.headers,\n            build.basename\n          )\n        },\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      };\n    }\n    let context = result;\n    let headers = getDocumentHeaders(build, context);\n    if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n      return {\n        result: {\n          [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n            context.statusCode,\n            headers,\n            build.basename\n          )\n        },\n        headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      };\n    }\n    if (context.errors) {\n      Object.values(context.errors).forEach((err) => {\n        if (!isRouteErrorResponse(err) || err.error) {\n          handleError(err);\n        }\n      });\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let results = {};\n    let loadedMatches = loadRouteIds ? context.matches.filter(\n      (m) => m.route.loader && loadRouteIds.includes(m.route.id)\n    ) : context.matches;\n    loadedMatches.forEach((m) => {\n      let { id } = m.route;\n      if (context.errors && context.errors.hasOwnProperty(id)) {\n        results[id] = { error: context.errors[id] };\n      } else if (context.loaderData.hasOwnProperty(id)) {\n        results[id] = { data: context.loaderData[id] };\n      }\n    });\n    return {\n      result: results,\n      headers,\n      status: context.statusCode\n    };\n  } catch (error) {\n    handleError(error);\n    return {\n      result: { root: { error } },\n      headers: new Headers(),\n      status: 500\n    };\n  }\n}\nfunction getSingleFetchRedirect(status, headers, basename) {\n  let redirect2 = headers.get(\"Location\");\n  if (basename) {\n    redirect2 = stripBasename(redirect2, basename) || redirect2;\n  }\n  return {\n    redirect: redirect2,\n    status,\n    revalidate: (\n      // Technically X-Remix-Revalidate isn't needed here - that was an implementation\n      // detail of ?_data requests as our way to tell the front end to revalidate when\n      // we didn't have a response body to include that information in.\n      // With single fetch, we tell the front end via this revalidate boolean field.\n      // However, we're respecting it for now because it may be something folks have\n      // used in their own responses\n      // TODO(v3): Consider removing or making this official public API\n      headers.has(\"X-Remix-Revalidate\") || headers.has(\"Set-Cookie\")\n    ),\n    reload: headers.has(\"X-Remix-Reload-Document\"),\n    replace: headers.has(\"X-Remix-Replace\")\n  };\n}\nfunction encodeViaTurboStream(data2, requestSignal, streamTimeout, serverMode) {\n  let controller = new AbortController();\n  let timeoutId = setTimeout(\n    () => controller.abort(new Error(\"Server Timeout\")),\n    typeof streamTimeout === \"number\" ? streamTimeout : 4950\n  );\n  requestSignal.addEventListener(\"abort\", () => clearTimeout(timeoutId));\n  return encode(data2, {\n    signal: controller.signal,\n    plugins: [\n      (value) => {\n        if (value instanceof Error) {\n          let { name, message, stack } = serverMode === \"production\" /* Production */ ? sanitizeError(value, serverMode) : value;\n          return [\"SanitizedError\", name, message, stack];\n        }\n        if (value instanceof ErrorResponseImpl) {\n          let { data: data3, status, statusText } = value;\n          return [\"ErrorResponse\", data3, status, statusText];\n        }\n        if (value && typeof value === \"object\" && SingleFetchRedirectSymbol in value) {\n          return [\"SingleFetchRedirect\", value[SingleFetchRedirectSymbol]];\n        }\n      }\n    ],\n    postPlugins: [\n      (value) => {\n        if (!value) return;\n        if (typeof value !== \"object\") return;\n        return [\n          \"SingleFetchClassInstance\",\n          Object.fromEntries(Object.entries(value))\n        ];\n      },\n      () => [\"SingleFetchFallback\"]\n    ]\n  });\n}\n\n// lib/server-runtime/server.ts\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205, 304]);\nfunction derive(build, mode) {\n  let routes = createRoutes(build.routes);\n  let dataRoutes = createStaticHandlerDataRoutes(build.routes, build.future);\n  let serverMode = isServerMode(mode) ? mode : \"production\" /* Production */;\n  let staticHandler = createStaticHandler(dataRoutes, {\n    basename: build.basename\n  });\n  let errorHandler = build.entry.module.handleError || ((error, { request }) => {\n    if (serverMode !== \"test\" /* Test */ && !request.signal.aborted) {\n      console.error(\n        // @ts-expect-error This is \"private\" from users but intended for internal use\n        isRouteErrorResponse(error) && error.error ? error.error : error\n      );\n    }\n  });\n  return {\n    routes,\n    dataRoutes,\n    serverMode,\n    staticHandler,\n    errorHandler\n  };\n}\nvar createRequestHandler = (build, mode) => {\n  let _build;\n  let routes;\n  let serverMode;\n  let staticHandler;\n  let errorHandler;\n  return async function requestHandler(request, loadContext = {}) {\n    _build = typeof build === \"function\" ? await build() : build;\n    if (typeof build === \"function\") {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    } else if (!routes || !serverMode || !staticHandler || !errorHandler) {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    }\n    let url = new URL(request.url);\n    let normalizedPath = url.pathname.replace(/\\.data$/, \"\").replace(/^\\/_root$/, \"/\");\n    if (normalizedPath !== \"/\" && normalizedPath.endsWith(\"/\")) {\n      normalizedPath = normalizedPath.slice(0, -1);\n    }\n    let params = {};\n    let handleError = (error) => {\n      if (mode === \"development\" /* Development */) {\n        getDevServerHooks()?.processRequestError?.(error);\n      }\n      errorHandler(error, {\n        context: loadContext,\n        params,\n        request\n      });\n    };\n    if (!_build.ssr) {\n      if (_build.prerender.length === 0) {\n        request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n      } else if (!_build.prerender.includes(normalizedPath) && !_build.prerender.includes(normalizedPath + \"/\")) {\n        if (url.pathname.endsWith(\".data\")) {\n          errorHandler(\n            new ErrorResponseImpl(\n              404,\n              \"Not Found\",\n              `Refusing to SSR the path \\`${normalizedPath}\\` because \\`ssr:false\\` is set and the path is not included in the \\`prerender\\` config, so in production the path will be a 404.`\n            ),\n            {\n              context: loadContext,\n              params,\n              request\n            }\n          );\n          return new Response(\"Not Found\", {\n            status: 404,\n            statusText: \"Not Found\"\n          });\n        } else {\n          request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n        }\n      }\n    }\n    let manifestUrl = `${_build.basename ?? \"/\"}/__manifest`.replace(\n      /\\/+/g,\n      \"/\"\n    );\n    if (url.pathname === manifestUrl) {\n      try {\n        let res = await handleManifestRequest(_build, routes, url);\n        return res;\n      } catch (e) {\n        handleError(e);\n        return new Response(\"Unknown Server Error\", { status: 500 });\n      }\n    }\n    let matches = matchServerRoutes(routes, url.pathname, _build.basename);\n    if (matches && matches.length > 0) {\n      Object.assign(params, matches[0].params);\n    }\n    let response;\n    if (url.pathname.endsWith(\".data\")) {\n      let handlerUrl = new URL(request.url);\n      handlerUrl.pathname = normalizedPath;\n      let singleFetchMatches = matchServerRoutes(\n        routes,\n        handlerUrl.pathname,\n        _build.basename\n      );\n      response = await handleSingleFetchRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        handlerUrl,\n        loadContext,\n        handleError\n      );\n      if (_build.entry.module.handleDataRequest) {\n        response = await _build.entry.module.handleDataRequest(response, {\n          context: loadContext,\n          params: singleFetchMatches ? singleFetchMatches[0].params : {},\n          request\n        });\n        if (isRedirectResponse(response)) {\n          let result = getSingleFetchRedirect(\n            response.status,\n            response.headers,\n            _build.basename\n          );\n          if (request.method === \"GET\") {\n            result = {\n              [SingleFetchRedirectSymbol]: result\n            };\n          }\n          let headers = new Headers(response.headers);\n          headers.set(\"Content-Type\", \"text/x-script\");\n          return new Response(\n            encodeViaTurboStream(\n              result,\n              request.signal,\n              _build.entry.module.streamTimeout,\n              serverMode\n            ),\n            {\n              status: SINGLE_FETCH_REDIRECT_STATUS,\n              headers\n            }\n          );\n        }\n      }\n    } else if (matches && matches[matches.length - 1].route.module.default == null && matches[matches.length - 1].route.module.ErrorBoundary == null) {\n      response = await handleResourceRequest(\n        serverMode,\n        staticHandler,\n        matches.slice(-1)[0].route.id,\n        request,\n        loadContext,\n        handleError\n      );\n    } else {\n      let criticalCss = mode === \"development\" /* Development */ ? await getDevServerHooks()?.getCriticalCss?.(_build, url.pathname) : void 0;\n      response = await handleDocumentRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        loadContext,\n        handleError,\n        criticalCss\n      );\n    }\n    if (request.method === \"HEAD\") {\n      return new Response(null, {\n        headers: response.headers,\n        status: response.status,\n        statusText: response.statusText\n      });\n    }\n    return response;\n  };\n};\nasync function handleManifestRequest(build, routes, url) {\n  let patches = {};\n  if (url.searchParams.has(\"p\")) {\n    for (let path of url.searchParams.getAll(\"p\")) {\n      let matches = matchServerRoutes(routes, path, build.basename);\n      if (matches) {\n        for (let match of matches) {\n          let routeId = match.route.id;\n          let route = build.assets.routes[routeId];\n          if (route) {\n            patches[routeId] = route;\n          }\n        }\n      }\n    }\n    return Response.json(patches, {\n      headers: {\n        \"Cache-Control\": \"public, max-age=31536000, immutable\"\n      }\n    });\n  }\n  return new Response(\"Invalid Request\", { status: 400 });\n}\nasync function handleSingleFetchRequest(serverMode, build, staticHandler, request, handlerUrl, loadContext, handleError) {\n  let { result, headers, status } = request.method !== \"GET\" ? await singleFetchAction(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  ) : await singleFetchLoaders(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  );\n  let resultHeaders = new Headers(headers);\n  resultHeaders.set(\"X-Remix-Response\", \"yes\");\n  if (NO_BODY_STATUS_CODES.has(status)) {\n    return new Response(null, { status, headers: resultHeaders });\n  }\n  resultHeaders.set(\"Content-Type\", \"text/x-script\");\n  return new Response(\n    encodeViaTurboStream(\n      result,\n      request.signal,\n      build.entry.module.streamTimeout,\n      serverMode\n    ),\n    {\n      status: status || 200,\n      headers: resultHeaders\n    }\n  );\n}\nasync function handleDocumentRequest(serverMode, build, staticHandler, request, loadContext, handleError, criticalCss) {\n  let isSpaMode = request.headers.has(\"X-React-Router-SPA-Mode\");\n  let context;\n  try {\n    context = await staticHandler.query(request, {\n      requestContext: loadContext\n    });\n  } catch (error) {\n    handleError(error);\n    return new Response(null, { status: 500 });\n  }\n  if (isResponse(context)) {\n    return context;\n  }\n  let headers = getDocumentHeaders(build, context);\n  if (NO_BODY_STATUS_CODES.has(context.statusCode)) {\n    return new Response(null, { status: context.statusCode, headers });\n  }\n  if (context.errors) {\n    Object.values(context.errors).forEach((err) => {\n      if (!isRouteErrorResponse(err) || err.error) {\n        handleError(err);\n      }\n    });\n    context.errors = sanitizeErrors(context.errors, serverMode);\n  }\n  let state = {\n    loaderData: context.loaderData,\n    actionData: context.actionData,\n    errors: serializeErrors2(context.errors, serverMode)\n  };\n  let entryContext = {\n    manifest: build.assets,\n    routeModules: createEntryRouteModules(build.routes),\n    staticHandlerContext: context,\n    criticalCss,\n    serverHandoffString: createServerHandoffString({\n      basename: build.basename,\n      criticalCss,\n      future: build.future,\n      ssr: build.ssr,\n      isSpaMode\n    }),\n    serverHandoffStream: encodeViaTurboStream(\n      state,\n      request.signal,\n      build.entry.module.streamTimeout,\n      serverMode\n    ),\n    renderMeta: {},\n    future: build.future,\n    ssr: build.ssr,\n    isSpaMode,\n    serializeError: (err) => serializeError(err, serverMode)\n  };\n  let handleDocumentRequestFunction = build.entry.module.default;\n  try {\n    return await handleDocumentRequestFunction(\n      request,\n      context.statusCode,\n      headers,\n      entryContext,\n      loadContext\n    );\n  } catch (error) {\n    handleError(error);\n    let errorForSecondRender = error;\n    if (isResponse(error)) {\n      try {\n        let data2 = await unwrapResponse(error);\n        errorForSecondRender = new ErrorResponseImpl(\n          error.status,\n          error.statusText,\n          data2\n        );\n      } catch (e) {\n      }\n    }\n    context = getStaticContextFromError(\n      staticHandler.dataRoutes,\n      context,\n      errorForSecondRender\n    );\n    if (context.errors) {\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let state2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors2(context.errors, serverMode)\n    };\n    entryContext = {\n      ...entryContext,\n      staticHandlerContext: context,\n      serverHandoffString: createServerHandoffString({\n        basename: build.basename,\n        future: build.future,\n        ssr: build.ssr,\n        isSpaMode\n      }),\n      serverHandoffStream: encodeViaTurboStream(\n        state2,\n        request.signal,\n        build.entry.module.streamTimeout,\n        serverMode\n      ),\n      renderMeta: {}\n    };\n    try {\n      return await handleDocumentRequestFunction(\n        request,\n        context.statusCode,\n        headers,\n        entryContext,\n        loadContext\n      );\n    } catch (error2) {\n      handleError(error2);\n      return returnLastResortErrorResponse(error2, serverMode);\n    }\n  }\n}\nasync function handleResourceRequest(serverMode, staticHandler, routeId, request, loadContext, handleError) {\n  try {\n    let response = await staticHandler.queryRoute(request, {\n      routeId,\n      requestContext: loadContext\n    });\n    if (isResponse(response)) {\n      return response;\n    }\n    if (typeof response === \"string\") {\n      return new Response(response);\n    }\n    return Response.json(response);\n  } catch (error) {\n    if (isResponse(error)) {\n      error.headers.set(\"X-Remix-Catch\", \"yes\");\n      return error;\n    }\n    if (isRouteErrorResponse(error)) {\n      if (error) {\n        handleError(error);\n      }\n      return errorResponseToJson(error, serverMode);\n    }\n    handleError(error);\n    return returnLastResortErrorResponse(error, serverMode);\n  }\n}\nfunction errorResponseToJson(errorResponse, serverMode) {\n  return Response.json(\n    serializeError(\n      // @ts-expect-error This is \"private\" from users but intended for internal use\n      errorResponse.error || new Error(\"Unexpected Server Error\"),\n      serverMode\n    ),\n    {\n      status: errorResponse.status,\n      statusText: errorResponse.statusText,\n      headers: {\n        \"X-Remix-Error\": \"yes\"\n      }\n    }\n  );\n}\nfunction returnLastResortErrorResponse(error, serverMode) {\n  let message = \"Unexpected Server Error\";\n  if (serverMode !== \"production\" /* Production */) {\n    message += `\n\n${String(error)}`;\n  }\n  return new Response(message, {\n    status: 500,\n    headers: {\n      \"Content-Type\": \"text/plain\"\n    }\n  });\n}\nfunction unwrapResponse(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  return contentType && /\\bapplication\\/json\\b/.test(contentType) ? response.body == null ? null : response.json() : response.text();\n}\n\n// lib/server-runtime/sessions.ts\nfunction flash(name) {\n  return `__flash_${name}__`;\n}\nvar createSession = (initialData = {}, id = \"\") => {\n  let map = new Map(Object.entries(initialData));\n  return {\n    get id() {\n      return id;\n    },\n    get data() {\n      return Object.fromEntries(map);\n    },\n    has(name) {\n      return map.has(name) || map.has(flash(name));\n    },\n    get(name) {\n      if (map.has(name)) return map.get(name);\n      let flashName = flash(name);\n      if (map.has(flashName)) {\n        let value = map.get(flashName);\n        map.delete(flashName);\n        return value;\n      }\n      return void 0;\n    },\n    set(name, value) {\n      map.set(name, value);\n    },\n    flash(name, value) {\n      map.set(flash(name), value);\n    },\n    unset(name) {\n      map.delete(name);\n    }\n  };\n};\nvar isSession = (object) => {\n  return object != null && typeof object.id === \"string\" && typeof object.data !== \"undefined\" && typeof object.has === \"function\" && typeof object.get === \"function\" && typeof object.set === \"function\" && typeof object.flash === \"function\" && typeof object.unset === \"function\";\n};\nfunction createSessionStorage({\n  cookie: cookieArg,\n  createData,\n  readData,\n  updateData,\n  deleteData\n}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      let id = cookieHeader && await cookie.parse(cookieHeader, options);\n      let data2 = id && await readData(id);\n      return createSession(data2 || {}, id || \"\");\n    },\n    async commitSession(session, options) {\n      let { id, data: data2 } = session;\n      let expires = options?.maxAge != null ? new Date(Date.now() + options.maxAge * 1e3) : options?.expires != null ? options.expires : cookie.expires;\n      if (id) {\n        await updateData(id, data2, expires);\n      } else {\n        id = await createData(data2, expires);\n      }\n      return cookie.serialize(id, options);\n    },\n    async destroySession(session, options) {\n      await deleteData(session.id);\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\nfunction warnOnceAboutSigningSessionCookie(cookie) {\n  warnOnce(\n    cookie.isSigned,\n    `The \"${cookie.name}\" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`\n  );\n}\n\n// lib/server-runtime/sessions/cookieStorage.ts\nfunction createCookieSessionStorage({ cookie: cookieArg } = {}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      return createSession(\n        cookieHeader && await cookie.parse(cookieHeader, options) || {}\n      );\n    },\n    async commitSession(session, options) {\n      let serializedCookie = await cookie.serialize(session.data, options);\n      if (serializedCookie.length > 4096) {\n        throw new Error(\n          \"Cookie length will exceed browser maximum. Length: \" + serializedCookie.length\n        );\n      }\n      return serializedCookie;\n    },\n    async destroySession(_session, options) {\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\n\n// lib/server-runtime/sessions/memoryStorage.ts\nfunction createMemorySessionStorage({ cookie } = {}) {\n  let map = /* @__PURE__ */ new Map();\n  return createSessionStorage({\n    cookie,\n    async createData(data2, expires) {\n      let id = Math.random().toString(36).substring(2, 10);\n      map.set(id, { data: data2, expires });\n      return id;\n    },\n    async readData(id) {\n      if (map.has(id)) {\n        let { data: data2, expires } = map.get(id);\n        if (!expires || expires > /* @__PURE__ */ new Date()) {\n          return data2;\n        }\n        if (expires) map.delete(id);\n      }\n      return null;\n    },\n    async updateData(id, data2, expires) {\n      map.set(id, { data: data2, expires });\n    },\n    async deleteData(id) {\n      map.delete(id);\n    }\n  });\n}\n\n// lib/href.ts\nfunction href(path, ...args) {\n  let params = args[0];\n  return path.split(\"/\").map((segment) => {\n    const match = segment.match(/^:([\\w-]+)(\\?)?/);\n    if (!match) return segment;\n    const param = match[1];\n    const value = params ? params[param] : void 0;\n    const isRequired = match[2] === void 0;\n    if (isRequired && value === void 0) {\n      throw Error(\n        `Path '${path}' requires param '${param}' but it was not provided`\n      );\n    }\n    return value;\n  }).filter((segment) => segment !== void 0).join(\"/\");\n}\n\n// lib/dom/ssr/errors.ts\nfunction deserializeErrors2(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = val.stack;\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = val.stack;\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  DataRouterContext,\n  DataRouterStateContext,\n  ViewTransitionContext,\n  FetchersContext,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  mapRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  createSearchParams,\n  SingleFetchRedirectSymbol,\n  getSingleFetchDataStrategy,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  FrameworkContext,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2 as createStaticHandler,\n  createStaticRouter,\n  ServerRouter,\n  createRoutesStub,\n  createCookie,\n  isCookie,\n  ServerMode,\n  setDevServerHooks,\n  createRequestHandler,\n  createSession,\n  isSession,\n  createSessionStorage,\n  createCookieSessionStorage,\n  createMemorySessionStorage,\n  href,\n  deserializeErrors2 as deserializeErrors\n};\n","import i18n from '@dhis2/d2-i18n'\nimport { Box, Field, MultiSelect, MultiSelectOption } from '@dhis2/ui'\nimport * as React from 'react'\nimport { Authority } from '../../types/RouteInfo'\n\ntype AuthoritiesSelectProps = {\n    selectedAuthorities: string[]\n    authorities: Authority[]\n    onSelect: React.Dispatch<React.SetStateAction<string[]>>\n}\n\nconst AuthoritiesSelect: React.FC<AuthoritiesSelectProps> = ({\n    selectedAuthorities,\n    authorities: allAuthorities,\n    onSelect,\n}) => {\n    const onChange = ({ selected }) => {\n        onSelect(selected)\n    }\n\n    return (\n        <Box width=\"400px\">\n            <Field\n                label={i18n.t('Authorities')}\n                helpText={i18n.t('Restrict access to certain authorities')}\n                className=\"form-field\"\n                dataTest=\"select-authorities\"\n            >\n                <MultiSelect\n                    filterPlaceholder={i18n.t('Select authorities')}\n                    clearable\n                    clearText={i18n.t('Clear')}\n                    filterable\n                    onChange={onChange}\n                    selected={selectedAuthorities}\n                    noMatchText={i18n.t('No authority found')}\n                >\n                    {allAuthorities?.map((authority) => {\n                        return (\n                            <MultiSelectOption\n                                key={authority.id}\n                                label={`${authority.id} (${authority.name})`}\n                                value={authority.id}\n                            ></MultiSelectOption>\n                        )\n                    })}\n                </MultiSelect>\n            </Field>\n        </Box>\n    )\n}\n\nexport default AuthoritiesSelect\n","import {\n    Box,\n    Button,\n    Field,\n    IconDelete16,\n    InputField,\n    Table,\n    TableBody,\n    TableCell,\n    TableCellHead,\n    TableHead,\n    TableRow,\n} from '@dhis2/ui'\nimport React, { useRef, useState } from 'react'\nimport i18n from '../../locales'\nimport { CustomHeaders } from '../../types/RouteInfo'\nimport styles from './CustomHeadersAdmin.module.css'\n\ntype CustomHeaderAdminProps = {\n    headers: CustomHeaders\n    setHeaders: (CustomHeaders) => void\n}\nconst CustomHeadersAdmin = (props: CustomHeaderAdminProps) => {\n    const { headers = {}, setHeaders } = props\n    const [headerNameToAdd, setHeaderNameToAdd] = useState<string>()\n    const [headerValueToAdd, setHeaderValueToAdd] = useState<string>()\n    const inputRef = useRef(null)\n\n    const addHeader = () => {\n        setHeaderNameToAdd('')\n        setHeaderValueToAdd('')\n        setHeaders({ ...headers, [headerNameToAdd]: headerValueToAdd })\n    }\n\n    const removeHeader = (headerName) => {\n        const newHeaders = { ...headers }\n        delete newHeaders[headerName]\n        setHeaders(newHeaders)\n    }\n    return (\n        <Box width=\"400px\">\n            <Field\n                label={i18n.t('Headers')}\n                helpText={i18n.t('Static headers to add to the route')}\n                className=\"form-field\"\n            >\n                <Table\n                    dataTest=\"table-custom-headers\"\n                    className={styles.headersTable}\n                >\n                    {Object.keys(headers)?.length > 0 && (\n                        <TableHead>\n                            <TableRow>\n                                <TableCellHead>\n                                    {i18n.t('Header name')}\n                                </TableCellHead>\n                                <TableCellHead>\n                                    {i18n.t('Header value')}\n                                </TableCellHead>\n                            </TableRow>\n                        </TableHead>\n                    )}\n                    <TableBody>\n                        {Object.keys(headers).map((headerName) => {\n                            return (\n                                <TableRow key={headerName}>\n                                    <TableCell>{headerName}</TableCell>\n                                    <TableCell>{headers[headerName]}</TableCell>\n                                    <TableCell>\n                                        <Button\n                                            title={i18n.t('Remove Header')}\n                                            aria-label={i18n.t('Remove Header')}\n                                            icon={<IconDelete16 />}\n                                            onClick={() =>\n                                                removeHeader(headerName)\n                                            }\n                                        ></Button>\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        })}\n                    </TableBody>\n                </Table>\n\n                <div className={styles.addHeaderRow}>\n                    <div>\n                        <InputField\n                            value={headerNameToAdd}\n                            onChange={({ value }) => setHeaderNameToAdd(value)}\n                            placeholder=\"Header name\"\n                            ref={inputRef}\n                        />\n                    </div>\n                    <div>\n                        <InputField\n                            value={headerValueToAdd}\n                            onChange={({ value }) => setHeaderValueToAdd(value)}\n                            placeholder=\"Header value\"\n                        />\n                    </div>\n                    <div>\n                        <Button\n                            type=\"button\"\n                            large\n                            disabled={!headerNameToAdd || !headerValueToAdd}\n                            onClick={addHeader}\n                        >\n                            {i18n.t('Add')}\n                        </Button>\n                    </div>\n                </div>\n            </Field>\n        </Box>\n    )\n}\n\nexport default CustomHeadersAdmin\n","import i18n from '@dhis2/d2-i18n'\nimport {\n    SingleSelectField,\n    SingleSelectOption,\n    InputField,\n    Divider,\n} from '@dhis2/ui'\nimport React from 'react'\nimport { AuthScheme, RouteAuthConfig } from '../../types/RouteInfo'\n\ntype RouteAuthAdminProps = {\n    authConfig: Partial<RouteAuthConfig>\n    updateAuthConfig: (update: Partial<RouteAuthConfig>) => void\n}\n\nconst RouteAuthAdmin: React.FC<RouteAuthAdminProps> = ({\n    authConfig = {} as Partial<RouteAuthConfig>,\n    updateAuthConfig,\n}) => {\n    const { type } = authConfig\n\n    return (\n        <>\n            <SingleSelectField\n                dataTest=\"select-authentication\"\n                className=\"form-field\"\n                filterable={false}\n                selected={type ?? 'n/a'}\n                onChange={({ selected }) => {\n                    if (selected === 'n/a') {\n                        updateAuthConfig({ type: undefined })\n                    } else {\n                        updateAuthConfig({ type: selected as AuthScheme })\n                    }\n                }}\n                label={i18n.t('Authentication Scheme')}\n                inputWidth=\"400px\"\n            >\n                <SingleSelectOption\n                    label=\"None\"\n                    value=\"n/a\"\n                ></SingleSelectOption>\n                <SingleSelectOption\n                    label=\"Basic\"\n                    value=\"http-basic\"\n                ></SingleSelectOption>\n                <SingleSelectOption\n                    label=\"API Token\"\n                    value=\"api-token\"\n                ></SingleSelectOption>\n            </SingleSelectField>\n            {type === 'http-basic' && (\n                <>\n                    <InputField\n                        dataTest=\"input-auth-username\"\n                        className=\"form-field\"\n                        value={authConfig.username}\n                        onChange={({ value: username }) =>\n                            updateAuthConfig({ username })\n                        }\n                        label={i18n.t('Username')}\n                    />\n                    <InputField\n                        dataTest=\"input-auth-password\"\n                        className=\"form-field\"\n                        type=\"password\"\n                        autoComplete=\"off\"\n                        value={authConfig.password}\n                        onChange={({ value: password }) =>\n                            updateAuthConfig({ password })\n                        }\n                        label={i18n.t('Password')}\n                    />\n                </>\n            )}\n            {type === 'api-token' && (\n                <>\n                    <InputField\n                        dataTest=\"input-auth-token\"\n                        type=\"password\"\n                        className=\"form-field\"\n                        value={authConfig.token}\n                        onChange={({ value: token }) =>\n                            updateAuthConfig({ token })\n                        }\n                        label={i18n.t('Token')}\n                    />\n                </>\n            )}\n            {authConfig?.type && <Divider />}\n        </>\n    )\n}\n\nexport default RouteAuthAdmin\n","import { useAlert, useDataMutation, useDataQuery } from '@dhis2/app-runtime'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    ButtonStrip,\n    Button,\n    Card,\n    ReactFinalForm,\n    InputFieldFF,\n    hasValue,\n    url,\n    composeValidators,\n} from '@dhis2/ui'\nimport React, { useEffect, useState } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router'\nimport classes from '../../App.module.css'\nimport {\n    ApiRouteCreationPayload,\n    ApiRouteData,\n    Authority,\n    RouteAuthConfig,\n    WrapQueryResponse,\n    WrapQueryResponseSingle,\n} from '../../types/RouteInfo'\nimport AuthoritiesSelect from './AuthoritiesSelect'\nimport CustomHeadersAdmin from './CustomHeadersAdmin'\nimport RouteAuthAdmin from './RouteAuthAdmin'\nimport styles from './UpsertRoute.module.css'\n\nconst createRouteMutation = {\n    resource: 'routes',\n    type: 'create' as const,\n    data: ({ data }) => ({\n        ...data,\n        disabled: false,\n    }),\n}\n\nconst updateRouteMutation = {\n    resource: 'routes',\n    type: 'update' as const,\n    id: ({ id }) => id,\n    data: ({ data }) => ({\n        ...data,\n        disabled: false,\n    }),\n}\n\nconst listAuthoritiesQuery = {\n    authorities: {\n        resource: 'authorities',\n        params: {\n            fields: '*',\n            pageSize: -1,\n        },\n    },\n}\n\nconst getRouteQuery = {\n    route: {\n        resource: 'routes',\n        id: ({ id }) => id,\n        params: {\n            fields: 'id, name, code, url, auth, authorities, headers',\n        },\n    },\n}\n\nconst formatError = (err) => {\n    const messages = err?.details?.response?.errorReports?.map?.(\n        ({ message }) => message\n    )\n\n    const friendlyMessage = messages?.join?.() ?? err?.message\n    return friendlyMessage\n}\n\nconst UpsertRoute = () => {\n    const navigate = useNavigate()\n    const params = useParams()\n    const { routeId } = params\n    const { data: authoritiesData } =\n        useDataQuery<\n            WrapQueryResponse<Authority[], 'authorities', 'systemAuthorities'>\n        >(listAuthoritiesQuery)\n\n    const { data: routeData, refetch } = useDataQuery<\n        WrapQueryResponseSingle<ApiRouteData, 'route'>\n    >(getRouteQuery, {\n        lazy: true,\n    })\n\n    const [route, setRoute] = useState<ApiRouteData>()\n\n    useEffect(() => {\n        setRoute(routeData?.route)\n    }, [routeData])\n\n    useEffect(() => {\n        if (routeId) {\n            refetch({ id: routeId })\n        }\n    }, [routeId, refetch])\n\n    const allAuthorities = authoritiesData?.authorities.systemAuthorities\n\n    const [loading, setLoading] = useState(false)\n\n    const { show } = useAlert(\n        ({ type, error }) => {\n            if (type === 'success') {\n                return i18n.t('Route saved successfully')\n            }\n            if (type === 'error') {\n                return i18n.t('Failed to save route: {{error}}', {\n                    error,\n                    nsSeparator: '-:-',\n                })\n            }\n        },\n        ({ type }) => {\n            if (type === 'success') {\n                return { success: true }\n            }\n            if (type === 'error') {\n                return { critical: true }\n            }\n        }\n    )\n\n    const onSave = () => {\n        navigate('/')\n    }\n\n    const options = {\n        onComplete: () => {\n            show({ type: 'success' })\n            setLoading(false)\n        },\n        onError: (error) => {\n            show({ type: 'error', error: formatError(error) })\n            setLoading(false)\n        },\n    }\n    const [createRoute] = useDataMutation(createRouteMutation, options)\n\n    // @ts-expect-error(\"we need the ID to be dynamic, which is allowed but not reflected in the type\")\n    const [mutateRoute] = useDataMutation(updateRouteMutation, options)\n\n    const handleSubmit = async (route) => {\n        setLoading(true)\n        try {\n            const data: ApiRouteCreationPayload = {\n                url: route?.url,\n                code: route?.code,\n                name: route?.name,\n                disabled: false,\n            }\n            if (route?.auth?.type) {\n                data.auth = route.auth as RouteAuthConfig\n            }\n\n            if (route?.authorities) {\n                data.authorities = route.authorities\n            }\n\n            if (route?.headers && Object.keys(route?.headers)?.length > 0) {\n                data.headers = route.headers\n            }\n\n            if (routeId) {\n                await mutateRoute({\n                    id: routeId,\n                    data,\n                })\n\n                onSave()\n            } else {\n                await createRoute({\n                    data,\n                })\n\n                onSave()\n            }\n        } catch (err) {\n            show({ type: 'error', error: formatError(err) })\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const formTitle = routeId\n        ? i18n.t('Edit route: {{name}}', {\n              nsSeparator: '-:-',\n              name: route?.name,\n          })\n        : i18n.t('Create route')\n    return (\n        <div>\n            <div className={styles.breadcrumb}>\n                <span>\n                    <Link className={styles.breadcrumbLink} to=\"/\">\n                        Routes list\n                    </Link>\n                </span>{' '}\n                / {formTitle}\n            </div>\n            <Card>\n                <ReactFinalForm.Form\n                    initialValues={route ?? {}}\n                    onSubmit={handleSubmit}\n                >\n                    {({ handleSubmit, valid, form, values }) => (\n                        <form onSubmit={handleSubmit}>\n                            <div className={styles.formContainer}>\n                                <h2 className={styles.formTitle}>\n                                    {formTitle}\n                                </h2>\n                                <p className={styles.formDescription}>\n                                    Manage the route settings. For more\n                                    information, consult the{' '}\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noreferrer\"\n                                        href=\"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/route.html\"\n                                    >\n                                        Route API documentation\n                                    </a>\n                                    .\n                                </p>\n                                <div className={classes.formContainer}>\n                                    <ReactFinalForm.Field\n                                        component={InputFieldFF}\n                                        dataTest=\"input-code\"\n                                        className=\"form-field\"\n                                        required\n                                        validate={hasValue}\n                                        name=\"code\"\n                                        onBlur={({ value }) => {\n                                            if (!values?.name) {\n                                                form.change('name', value)\n                                            }\n                                        }}\n                                        placeholder={i18n.t(\n                                            'A unique code for the route'\n                                        )}\n                                        label={i18n.t('Route code')}\n                                    />\n\n                                    <ReactFinalForm.Field\n                                        component={InputFieldFF}\n                                        className=\"form-field\"\n                                        required\n                                        validate={hasValue}\n                                        dataTest=\"input-name\"\n                                        name=\"name\"\n                                        placeholder={i18n.t(\n                                            'A unique user-friendly name for the route'\n                                        )}\n                                        label={i18n.t('Route Name')}\n                                    />\n\n                                    <ReactFinalForm.Field\n                                        component={InputFieldFF}\n                                        required\n                                        dataTest=\"input-url\"\n                                        className=\"form-field\"\n                                        validate={composeValidators(\n                                            hasValue,\n                                            url\n                                        )}\n                                        name=\"url\"\n                                        initialValue={route?.url}\n                                        placeholder={i18n.t(\n                                            'e.g. https://postman-echo.com/get',\n                                            {\n                                                nsSeparator: '-:-',\n                                            }\n                                        )}\n                                        label={i18n.t(\n                                            'URL for route destination'\n                                        )}\n                                    />\n                                    <ReactFinalForm.Field\n                                        name=\"auth\"\n                                        render={() => {\n                                            return (\n                                                <RouteAuthAdmin\n                                                    authConfig={values?.auth}\n                                                    updateAuthConfig={(\n                                                        update\n                                                    ) => {\n                                                        if (\n                                                            update?.type &&\n                                                            update.type !=\n                                                                values.auth\n                                                                    ?.type\n                                                        ) {\n                                                            // resetting when changing auth type\n                                                            form.change(\n                                                                'auth',\n                                                                update\n                                                            )\n                                                        } else {\n                                                            form.change(\n                                                                'auth',\n                                                                {\n                                                                    ...values.auth,\n                                                                    ...update,\n                                                                }\n                                                            )\n                                                        }\n                                                    }}\n                                                />\n                                            )\n                                        }}\n                                    ></ReactFinalForm.Field>\n\n                                    <AuthoritiesSelect\n                                        authorities={allAuthorities}\n                                        selectedAuthorities={\n                                            values?.authorities\n                                        }\n                                        onSelect={(authorities) =>\n                                            form.change(\n                                                'authorities',\n                                                authorities\n                                            )\n                                        }\n                                    />\n\n                                    <CustomHeadersAdmin\n                                        headers={values?.headers}\n                                        setHeaders={(headers) => {\n                                            form.change('headers', headers)\n                                        }}\n                                    />\n                                </div>\n                                <ButtonStrip className=\"form-field\">\n                                    <Button\n                                        title=\"Save Route\"\n                                        type=\"submit\"\n                                        loading={loading}\n                                        disabled={loading || !valid}\n                                        primary\n                                    >\n                                        {i18n.t('Save Route')}\n                                    </Button>\n                                    <Button\n                                        secondary\n                                        onClick={() => navigate(-1)}\n                                    >\n                                        {i18n.t('Cancel')}\n                                    </Button>\n                                </ButtonStrip>\n                            </div>\n                        </form>\n                    )}\n                </ReactFinalForm.Form>\n            </Card>\n        </div>\n    )\n}\n\nexport default UpsertRoute\n","import { useAlert, useDataEngine } from '@dhis2/app-runtime'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    Modal,\n    ModalTitle,\n    ModalContent,\n    ModalActions,\n    ButtonStrip,\n    Button,\n    InputField,\n    SingleSelectField,\n    TextAreaField,\n    SingleSelectOption,\n} from '@dhis2/ui'\nimport React, { useState } from 'react'\nimport classes from './App.module.css'\nimport { ApiRouteData } from './types/RouteInfo'\n\ntype TestRouteProps = {\n    route: ApiRouteData\n    closeModal: VoidFunction\n}\n\ntype Verb = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | 'JSON-PATCH'\n\ntype MutationType = 'create' | 'delete' | 'update' | 'replace' | 'json-patch'\n\nconst typesMap: Record<string, MutationType> = {\n    POST: 'create',\n    DELETE: 'delete',\n    PUT: 'update',\n    PATCH: 'update',\n    'JSON-PATCH': 'json-patch',\n}\n\nconst TestRoute: React.FC<TestRouteProps> = ({\n    route = {} as Partial<ApiRouteData>,\n    closeModal = () => {},\n}) => {\n    const [verb, setVerb] = useState<Verb>('GET')\n    const [body, setBody] = useState<string>()\n    const [wildcard, setWildcard] = useState<string>()\n    const [queryParams, setQueryParams] = useState<string>()\n    const [result, setResult] = useState<unknown>('')\n    const [loading, setLoading] = useState<boolean>(false)\n\n    const engine = useDataEngine()\n\n    const { show } = useAlert(\n        ({ error }) => {\n            if (error) {\n                return i18n.t('Failed to invoke route: {{error}}', {\n                    error,\n                    nsSeparator: '-:-',\n                })\n            }\n            return i18n.t('Route invoked successfully')\n        },\n        ({ error }) => {\n            if (error) {\n                return { critical: true }\n            }\n            return { success: true }\n        }\n    )\n\n    const handleTestRoute = async () => {\n        try {\n            setResult(undefined)\n            setLoading(true)\n\n            const queryPrefix = queryParams?.startsWith('?') ? '' : '?'\n\n            const resource = `routes/${route.id ?? route.code}/run${\n                wildcard\n                    ? `/${wildcard}`\n                    : queryParams\n                    ? `${queryPrefix}${queryParams}`\n                    : ''\n            }`\n\n            if (verb === 'GET') {\n                const result = await engine.query({\n                    routes: { resource },\n                })\n\n                show({ success: true })\n\n                return setResult(result)\n            }\n\n            // other verbs: POST, PUT, PATCH, JSON-PATCH, DELETE\n            const mutationOptions = {\n                resource,\n                type: typesMap[verb],\n                data: body && JSON.parse(body),\n            }\n\n            if (verb === 'DELETE') {\n                // a wrokaround for DELETE since it crashes with data: undefined\n                delete mutationOptions.data\n            }\n\n            if (verb === 'PATCH') {\n                // @ts-expect-error(\"another workaround to be able to have a generic set of options for all verbs\")\n                mutationOptions.partial = true\n            }\n\n            // @ts-expect-error(\"the error is because different mutations expect ID or not, but in practice, they can be used generically with id=null\")\n            const result = await engine.mutate(mutationOptions)\n\n            setResult(result)\n\n            show({ success: true })\n        } catch (error) {\n            console.error(error)\n            show({ error })\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const hasWildCardPath = route.url?.endsWith('**')\n\n    return (\n        <Modal dataTest=\"modal-test-route\" onClose={closeModal}>\n            <ModalActions>\n                <ButtonStrip end>\n                    <Button\n                        data-test=\"button-test-route-perform-test\"\n                        loading={loading}\n                        disabled={loading}\n                        primary\n                        onClick={handleTestRoute}\n                    >\n                        {i18n.t('Test Route')}\n                    </Button>{' '}\n                    <Button secondary onClick={closeModal}>\n                        {i18n.t('Cancel')}\n                    </Button>\n                </ButtonStrip>\n            </ModalActions>\n            <ModalTitle>{i18n.t('Test Route')}</ModalTitle>\n            <ModalContent>\n                <div className={classes.formContainer}>\n                    <SingleSelectField\n                        dataTest=\"select-test-route-verb\"\n                        filterable={false}\n                        selected={verb}\n                        onChange={({ selected }) => {\n                            setVerb(selected as Verb)\n                        }}\n                    >\n                        <SingleSelectOption\n                            label=\"GET\"\n                            value=\"GET\"\n                        ></SingleSelectOption>\n                        <SingleSelectOption\n                            label=\"POST\"\n                            value=\"POST\"\n                        ></SingleSelectOption>\n                        <SingleSelectOption\n                            label=\"PUT\"\n                            value=\"PUT\"\n                        ></SingleSelectOption>\n                        <SingleSelectOption\n                            label=\"DELETE\"\n                            value=\"DELETE\"\n                        ></SingleSelectOption>\n                        <SingleSelectOption\n                            label=\"PATCH\"\n                            value=\"PATCH\"\n                        ></SingleSelectOption>\n                        <SingleSelectOption\n                            label=\"JSON-PATCH\"\n                            value=\"JSON-PATCH\"\n                        ></SingleSelectOption>\n                    </SingleSelectField>\n                    <InputField\n                        dataTest=\"input-test-route-code\"\n                        disabled\n                        value={route?.code}\n                        label={i18n.t('Route code')}\n                    />\n                    <InputField\n                        dataTest=\"input-test-route-name\"\n                        disabled\n                        value={route?.name}\n                        label={i18n.t('Route Name')}\n                    />\n                    <InputField\n                        dataTest=\"input-test-route-url\"\n                        disabled\n                        value={route?.url}\n                        label={i18n.t('Route URL')}\n                    />\n\n                    {hasWildCardPath && (\n                        <InputField\n                            dataTest=\"input-wildcard-path\"\n                            value={wildcard}\n                            onChange={({ value }) => setWildcard(value)}\n                            label={i18n.t('Wildcard path')}\n                        />\n                    )}\n\n                    {verb === 'GET' && !hasWildCardPath && (\n                        <InputField\n                            dataTest=\"input-query-params\"\n                            value={queryParams}\n                            placeholder={'query1=value&query2=value2...'}\n                            onChange={({ value }) => setQueryParams(value)}\n                            label={i18n.t('Query Params')}\n                        />\n                    )}\n\n                    <TextAreaField\n                        helpText={i18n.t(\n                            'Use valid JSON for this field (i.e. double quoted properties etc..)'\n                        )}\n                        disabled={verb === 'GET'}\n                        value={body}\n                        onChange={({ value }) => setBody(value)}\n                        placeholder={i18n.t('Body to pass to route')}\n                        label={i18n.t('Body of request')}\n                    />\n\n                    <pre>{result && JSON.stringify(result, null, 2)}</pre>\n                </div>\n            </ModalContent>\n        </Modal>\n    )\n}\n\nexport default TestRoute\n","import i18n from '@dhis2/d2-i18n'\nimport {\n    Button,\n    Popover,\n    FlyoutMenu,\n    MenuItem,\n    IconMore24,\n    IconEdit16,\n    IconDelete16,\n    IconShare16,\n} from '@dhis2/ui'\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router'\n\ntype RouteActionsProps = {\n    routeId: string\n    showSharingDialog: VoidFunction\n    deleteRoute: VoidFunction\n}\n\nconst RouteActions: React.FC<RouteActionsProps> = ({\n    routeId,\n    showSharingDialog,\n    deleteRoute,\n}) => {\n    const [open, setOpen] = useState(false)\n    const ref = React.useRef(null)\n\n    const navigate = useNavigate()\n\n    return (\n        <div ref={ref}>\n            <Button\n                dataTest=\"button-more-actions\"\n                title={i18n.t('more actions')}\n                aria-label={i18n.t('more actions')}\n                small\n                secondary\n                onClick={() => setOpen(!open)}\n                icon={<IconMore24 />}\n            />\n            {open && (\n                <Popover\n                    arrow={false}\n                    placement=\"bottom-end\"\n                    reference={ref}\n                    onClickOutside={() => setOpen(false)}\n                    dataTest=\"popover-more-actions\"\n                >\n                    <FlyoutMenu>\n                        <MenuItem\n                            dense\n                            label={i18n.t('Edit')}\n                            icon={<IconEdit16 />}\n                            onClick={() => {\n                                navigate(`/create-route/${routeId}`)\n                            }}\n                        />\n                        <MenuItem\n                            dense\n                            label={i18n.t('Sharing')}\n                            icon={<IconShare16 />}\n                            onClick={() => {\n                                showSharingDialog()\n                                setOpen(false)\n                            }}\n                        />\n                        <MenuItem\n                            dense\n                            label={i18n.t('Delete')}\n                            icon={<IconDelete16 color=\"red\" />}\n                            onClick={() => {\n                                deleteRoute()\n                                setOpen(false)\n                            }}\n                        />\n                    </FlyoutMenu>\n                </Popover>\n            )}\n        </div>\n    )\n}\n\nexport default RouteActions\n","import i18n from '@dhis2/d2-i18n'\nimport {\n    Button,\n    DataTable,\n    DataTableBody,\n    DataTableRow,\n    DataTableCell,\n    DataTableHead,\n    DataTableColumnHeader,\n    IconLaunch16,\n    Switch,\n    NoticeBox,\n    IconEdit16,\n} from '@dhis2/ui'\nimport React from 'react'\nimport { useNavigate } from 'react-router'\nimport { ApiRouteData } from '../../types/RouteInfo'\nimport RouteActions from './RouteActions'\nimport styles from './RoutesTable.module.css'\n\ntype RoutesTableProps = {\n    routes: ApiRouteData[]\n    showPermissionError: boolean\n    showTestRouteModal: (route: ApiRouteData) => void\n    deleteRoute: (routeCode: string) => Promise<void>\n    showSharingDialog: (route: ApiRouteData) => void\n    onToggle: (route: ApiRouteData, disabled: boolean) => Promise<void>\n}\n\nconst RoutesTable: React.FC<RoutesTableProps> = ({\n    routes,\n    showPermissionError,\n    showTestRouteModal,\n    deleteRoute,\n    showSharingDialog,\n    onToggle,\n}) => {\n    const toggleRoute = async (route, disabled) => {\n        await onToggle(route, disabled)\n    }\n\n    const navigate = useNavigate()\n    return (\n        <DataTable>\n            <DataTableHead>\n                <DataTableRow>\n                    <DataTableColumnHeader>\n                        {i18n.t('ID')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader>\n                        {i18n.t('Code')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader>\n                        {i18n.t('Name')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader>\n                        {i18n.t('URL')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader>\n                        {i18n.t('Authentication')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader>\n                        {i18n.t('Authorities')}\n                    </DataTableColumnHeader>\n                    <DataTableColumnHeader></DataTableColumnHeader>\n                </DataTableRow>\n            </DataTableHead>\n\n            {showPermissionError && (\n                <DataTableRow>\n                    <DataTableCell colSpan=\"100%\">\n                        <NoticeBox warning>\n                            The current user does not have the necessary\n                            permissions to configure routes. Please ensure that\n                            the &ldquo;Route&ldquo; authority is assigned to the\n                            user&apos;s role to enable route management.\n                        </NoticeBox>\n                    </DataTableCell>\n                </DataTableRow>\n            )}\n            {!showPermissionError && routes?.length === 0 && (\n                <DataTableRow>\n                    <DataTableCell colSpan=\"100%\">\n                        {i18n.t('No routes configured yet.')}\n                    </DataTableCell>\n                </DataTableRow>\n            )}\n            <DataTableBody>\n                {routes?.map((route) => {\n                    return (\n                        <DataTableRow key={route.id}>\n                            <DataTableCell>{route.id}</DataTableCell>\n                            <DataTableCell>{route.code}</DataTableCell>\n                            <DataTableCell>{route.name}</DataTableCell>\n                            <DataTableCell>{route.url}</DataTableCell>\n                            <DataTableCell>\n                                {route.auth ? (\n                                    <pre>{JSON.stringify(route.auth)}</pre>\n                                ) : (\n                                    'n/a'\n                                )}\n                            </DataTableCell>\n                            <DataTableCell>\n                                <ul\n                                    style={{\n                                        padding: 0,\n                                        listStyle: 'none',\n                                    }}\n                                >\n                                    {route.authorities?.map((auth) => {\n                                        return <li key={auth}>{auth}</li>\n                                    })}\n                                </ul>\n                            </DataTableCell>\n                            <DataTableCell align=\"right\">\n                                <div className={styles.routeActionsCell}>\n                                    <Switch\n                                        onChange={({ checked: enabled }) =>\n                                            toggleRoute(route, !enabled)\n                                        }\n                                        checked={!route.disabled}\n                                        label={i18n.t('Enable route')}\n                                    />\n                                    <Button\n                                        icon={<IconLaunch16 />}\n                                        disabled={route.disabled}\n                                        small\n                                        onClick={() =>\n                                            showTestRouteModal(route)\n                                        }\n                                    >\n                                        {i18n.t('Test route')}\n                                    </Button>{' '}\n                                    <Button\n                                        icon={<IconEdit16 />}\n                                        title={i18n.t('Edit route')}\n                                        aria-label={i18n.t('Edit route')}\n                                        disabled={route.disabled}\n                                        small\n                                        onClick={() => {\n                                            navigate(\n                                                `/create-route/${route.id}`\n                                            )\n                                        }}\n                                    ></Button>{' '}\n                                    <RouteActions\n                                        routeId={route.id}\n                                        showSharingDialog={() =>\n                                            showSharingDialog(route)\n                                        }\n                                        deleteRoute={() =>\n                                            deleteRoute(route.id)\n                                        }\n                                    />\n                                </div>\n                            </DataTableCell>\n                        </DataTableRow>\n                    )\n                })}\n            </DataTableBody>\n        </DataTable>\n    )\n}\n\nexport default RoutesTable\n","import {\n    useAlert,\n    useDataEngine,\n    useDataMutation,\n    useDataQuery,\n} from '@dhis2/app-runtime'\nimport i18n from '@dhis2/d2-i18n'\nimport { Button, SharingDialog } from '@dhis2/ui'\nimport React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport classes from '../../App.module.css'\nimport TestRoute from '../../TestRoute'\nimport { ApiRouteData, WrapQueryResponse } from '../../types/RouteInfo'\nimport RoutesTable from './RoutesTable'\n\nconst deleteRouteMutation = {\n    resource: 'routes',\n    type: 'delete' as const,\n    id: ({ id }) => id,\n}\n\nconst listRoutesQuery = {\n    routes: {\n        resource: 'routes',\n        params: {\n            fields: '*',\n            pageSize: 50,\n        },\n    },\n    authorities: {\n        resource: 'authorities',\n        params: {\n            fields: '*',\n            pageSize: -1,\n        },\n    },\n    currentUser: {\n        resource: 'me',\n        params: {\n            fields: 'authorities',\n        },\n    },\n}\n\ntype Authority = {\n    id: string\n    name: string\n}\n\nconst RoutesList = () => {\n    const [sharingDialogId, setSharingDialogId] = useState<string>()\n    const [userHasPermissions, setUserHasPermissions] = useState(true)\n\n    const navigate = useNavigate()\n\n    const confirmDeleteAlert = useAlert(\n        i18n.t('Are you sure you want to delete this route?'),\n        (options) => ({\n            warning: true,\n            actions: [\n                {\n                    label: i18n.t('Confirm'),\n                    onClick: () => performDeleteRoute(options.id),\n                },\n                {\n                    label: i18n.t('Cancel'),\n                    onClick: () => confirmDeleteAlert.hide(),\n                },\n            ],\n        })\n    )\n\n    const deleteFailAlert = useAlert(\n        ({ error }) =>\n            i18n.t(`Failed to delete route {{message}}`, {\n                message: error?.message,\n            }),\n        {\n            critical: true,\n        }\n    )\n\n    const updateFailAlert = useAlert(\n        ({ error }) =>\n            i18n.t(`Failed to update route {{message}}`, {\n                message: error?.message,\n            }),\n        {\n            critical: true,\n        }\n    )\n\n    // Todo: update the type for delete mutation\n    // @ts-expect-error(\"the error is because because delete mutation expects hardcoded ID but that's not accurate (it can take a function return a string)\n    const [deleteRoute] = useDataMutation(deleteRouteMutation, {\n        onError: (error) => deleteFailAlert.show({ error }),\n    })\n\n    const engine = useDataEngine()\n\n    const { data, refetch: refetchRoutesList } = useDataQuery<\n        WrapQueryResponse<ApiRouteData[], 'routes'> &\n            WrapQueryResponse<Authority[], 'authorities', 'systemAuthorities'> &\n            WrapQueryResponse<string[], 'currentUser', 'authorities'>\n    >(listRoutesQuery)\n\n    const routes = data?.routes?.routes\n\n    const userAuthorities = data?.currentUser?.authorities\n\n    useEffect(() => {\n        if (\n            userAuthorities &&\n            !userAuthorities.includes('F_ROUTE_PUBLIC_ADD')\n        ) {\n            setUserHasPermissions(false)\n        }\n    }, [userAuthorities])\n\n    const handleDeleteRoute = async (routeCode: string) => {\n        confirmDeleteAlert.show({ id: routeCode })\n    }\n\n    const performDeleteRoute = async (id: string) => {\n        await deleteRoute({ id })\n        refetchRoutesList()\n    }\n\n    const [isTestRouteModalVisible, showTestRouteModal] = useState(false)\n\n    const [activeRoute, setActiveRoute] = useState<ApiRouteData>(undefined)\n\n    const handleShowSharingDialog = (route: ApiRouteData) => {\n        setSharingDialogId(route.id)\n    }\n\n    const handleShowTestModal = (route: ApiRouteData) => {\n        setActiveRoute(route)\n        showTestRouteModal(true)\n    }\n\n    const onCloseTestModal = () => {\n        showTestRouteModal(false)\n        setActiveRoute(undefined)\n    }\n\n    const onToggle = async (route: ApiRouteData, disabled: boolean) => {\n        try {\n            await engine.mutate({\n                resource: 'routes',\n                id: route.id,\n                type: 'json-patch' as const,\n                data: [\n                    {\n                        op: 'replace',\n                        path: '/disabled',\n                        value: disabled,\n                    },\n                ],\n            })\n\n            refetchRoutesList()\n        } catch (error) {\n            updateFailAlert.show({ error })\n        }\n    }\n\n    return (\n        <div>\n            {isTestRouteModalVisible && (\n                <TestRoute route={activeRoute} closeModal={onCloseTestModal} />\n            )}\n\n            {sharingDialogId && (\n                <SharingDialog\n                    id={sharingDialogId}\n                    // ToDo: update the type in UI library to accept \"route\"\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    type={'route' as any}\n                    onClose={() => setSharingDialogId(undefined)}\n                />\n            )}\n\n            <div className={classes.actionsStrip}>\n                <Button onClick={() => navigate('create-route')}>\n                    {i18n.t('Create New Route')}\n                </Button>\n            </div>\n\n            <RoutesTable\n                routes={routes}\n                showTestRouteModal={handleShowTestModal}\n                showSharingDialog={handleShowSharingDialog}\n                deleteRoute={handleDeleteRoute}\n                onToggle={onToggle}\n                showPermissionError={!userHasPermissions}\n            />\n\n            <div className={classes.tableContainerFooter}>\n                <a\n                    target=\"_blank\"\n                    href=\"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/route.html\"\n                    rel=\"noreferrer\"\n                >\n                    Route API Documentation\n                </a>\n            </div>\n        </div>\n    )\n}\n\nexport default RoutesList\n","import { CssReset, CssVariables } from '@dhis2/ui'\nimport clx from 'classnames'\nimport React from 'react'\nimport './locales'\nimport { HashRouter, Outlet, Route, Routes, useLocation } from 'react-router'\nimport styles from './App.module.css'\nimport { UpsertRoute } from './components/route-creation'\nimport { RoutesList } from './components/route-list'\n\nconst Root = () => {\n    const location = useLocation()\n    const isForm = location?.pathname?.match('create-route')\n\n    return (\n        <>\n            <CssReset />\n            <CssVariables theme spacers colors elevations />\n\n            <div\n                className={clx(styles.container, {\n                    [styles.containerForm]: isForm,\n                })}\n            >\n                <Outlet />\n            </div>\n        </>\n    )\n}\n\nconst MyApp = () => {\n    return (\n        <HashRouter>\n            <Routes>\n                <Route path=\"/\" element={<Root />}>\n                    <Route index element={<RoutesList />} />\n                    <Route\n                        path=\"/create-route/:routeId?\"\n                        element={<UpsertRoute />}\n                    />\n                </Route>\n            </Routes>\n        </HashRouter>\n    )\n}\n\nexport default MyApp\n"],"names":["isEmpty","value","requiredIfFactory","condition","propType","isRequired","props","propName","componentName","propValue","propTypes","requiredIf","fn","SvgChevronDown16","_ref","color","dataTest","ariaLabel","React.createElement","PropTypes","SvgChevronDown24","SvgChevronLeft16","SvgChevronRight16","SvgChevronUp24","SvgDelete16","SvgDragHandle24","SvgEdit16","SvgLaunch16","SvgMore24","SvgSearch16","SvgShare16","SvgUserGroup24","SvgWorld24","_extends","n","e","_objectWithoutPropertiesLoose","r","charCodeOfDot","reEscapeChar","rePropName","stringToPath","string","result","match","expression","quote","subString","key","keysCache","keysRegex","toPath","getIn","state","complexKey","path","current","i","_toPropertyKey","arg","_toPrimitive","input","hint","prim","res","setInRecursor","index","destroyArrays","_extends2","_result","_result2","numKeys","_final","numericKey","_result3","_array","existingValue","array","setIn","FORM_ERROR","ARRAY_ERROR","publishFieldState","formState","field","errors","initialValues","lastSubmittedValues","submitErrors","submitFailed","submitSucceeded","submitting","values","active","blur","change","data","focus","modified","modifiedSinceLastSubmit","name","touched","validating","visited","error","submitError","initial","pristine","dirtySinceLastSubmit","valid","fieldSubscriptionItems","shallowEqual","b","keysA","keysB","bHasOwnProperty","idx","subscriptionFilter","dest","src","previous","subscription","keys","shallowEqualKeys","different","shallowEqualKeys$1","filterFieldState","previousState","force","formSubscriptionItems","filterFormState","memoize","lastArgs","lastResult","_len","args","_key","isPromise","obj","version","tripleEquals","hasAnyError","convertToExternalFormState","notifySubscriber","subscriber","lastState","filter","notification","notify","_ref2","entries","entry","notified","createForm","config","debug","destroyOnUnregister","keepDirtyOnReinitialize","mutators","onSubmit","validate","validateOnBlur","inBatch","validationPaused","validationBlocked","preventNotificationWhileValidationPaused","nextAsyncValidationKey","asyncValidationPromises","clearAsyncValidationPromise","changeValue","mutate","before","after","renameField","from","to","_extends3","api","getMutatorApi","mutatableState","returnValue","runValidation","notifyFieldListeners","notifyFormListeners","mutatorsApi","runRecordLevelValidation","setErrors","promises","errorsOrPromise","getValidators","validator","runFieldLevelValidation","setError","validators","errorOrPromise","promise","fieldChanged","callback","fields","safeFields","fieldKeys","limitedFieldLevelValidation","changedField","validateFields","recordLevelErrors","asyncRecordLevelErrors","fieldLevelErrors","wasAsync","hasAsyncValidations","asyncValidationPromiseKey","processErrors","afterAsync","merged","forEachError","recordLevelError","errorFromParent","hasFieldLevelValidation","fieldLevelError","existing","copy","afterPromise","fieldSubscribers","notifyField","fieldState","lastFieldState","fieldSubscriber","markAllFieldsTouched","hasSyncErrors","calculateNextFormState","lastFormState","safeFieldKeys","foundDirty","dirtyFields","dirty","dirtyFieldsSinceLastSubmit","nonNullLastSubmittedValues","nextFormState","_safeFieldKeys$reduce","callDebug","notifying","scheduleNotification","beforeSubmit","afterSubmit","resetModifiedAfterSubmit","savedDirtyValues","preventNotification","fieldConfig","haveValidator","silent","noValueInFormState","validatorRemoved","hasFieldSubscribers","lastOne","asyncValidationPromisesKeys","submitIsBlocked","resolvePromise","completeCalled","complete","resetWhileSubmitting","resolve","memoized","subscribers","_excluded$3","renderComponent","lazyProps","render","children","component","rest","useWhenValueChanges","isEqual","a","React__default","useConstant","init","ref","isSyntheticEvent","candidate","ReactFinalFormContext","useLatest","addLazyState","addLazyFormState","addLazyFieldMetaState","_excluded$2","versions","version$1","all$1","ReactFinalForm","_ref$decorators","decorators","alternateFormApi","initialValuesEqual","_ref$subscription","form","f","_React$useState","React.useState","initialState","setState","stateRef","React.useEffect","unsubscriptions","s","decorator","unsubscribe","handleSubmit","event","renderProps","eventOrValues","useForm","React.useContext","isReactNative","getSelectedValues","options","option","getValue","currentValue","valueProp","detypedEvent","_detypedEvent$target","type","checked","useConstantCallback","React.useRef","React.useCallback","all","defaultFormat","defaultParse","defaultIsEqual","useField","_config","allowNull","defaultValue","_config$format","format","formatOnBlur","initialValue","multiple","_config$parse","parse","_config$subscription","_value","configRef","register","_configRef$current","_configRef$current$fo","formatted","firstRender","meta","_excluded","Field","React.forwardRef","commonStyles","colors","CheckboxRegular","className","React","_JSXStyle","CheckboxDense","_defineProperty","t","Checkbox","Component","createRef","prevProps","indeterminate","disabled","label","tabIndex","warning","dense","classes","cx","theme","spacers","uniqueOnStatePropType","mutuallyExclusive","sharedPropTypes.statusPropType","createBlurHandler","onBlur","payload","PRIMITIVE_TYPES","createChangeHandler","onChange","createFocusHandler","onFocus","hasError","getValidationText","validationText","isLoading","loading","showLoadingStatus","isValid","showValidStatus","inputPropType","metaPropType","namespace","i18n","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","hi_INTranslations","idTranslations","kmTranslations","ko_KRTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","InputFieldFF","InputField","_this","this","debounce","func","wait","immediate","timeout","context","later","InputWrapper","onToggle","inputRef","classNames","IconChevronDown16","MenuWrapper","maxHeight","menuWidth","onClick","selectRef","Layer","Popper","elevations","ESCAPE_KEY","SPACE_KEY","UP_KEY","DOWN_KEY","Select","selected","onKeyDown","open","keyCode","shouldOpen","offsetWidth","inputProps","menuProps","menu","Loading","message","CircularLoader","FilterInput","placeholder","Input","NoMatch","checkIfValidOption","filterIgnored","child","findOptionChild","optionChildren","currentOption","findOption","optionArray","optionValue","removeOption","empty","handleClose","handleFocusInput","noMatchText","Menu","renderedOptions","filtered","hasMatch","FilterableMenu","Empty","TOOLTIP_OFFSET","popperStyle","layers","offsetModifier","hideModifier","flipModifier","Tooltip","closeDelay","content","maxWidth","openDelay","placement","setOpen","useState","popperReference","useRef","openTimerRef","closeTimerRef","onMouseOver","onMouseOut","handleKeyDown","useEffect","Portal","InputClearButton","onClear","clearText","InputPlaceholder","InputPrefix","prefix","onDisabledClick","_","createHandler","isActive","isDisabled","CommonFilterableMenu","Content","overflow","Icon","icon","CancelOutline","containerStyle","removeIcon","Remove","onRemove","DEFAULT_INLINE_MARGIN","Chip","_ref3","_ref4","_ref5","dragging","marginBottom","marginLeft","marginRight","marginTop","marginInlineStart","marginInlineEnd","createRemoveHandler","SelectionList","selectedOption","clearable","inputMaxHeight","hasSelection","staticArr","MultiSelect","filterable","filterPlaceholder","loadingText","initialFocus","CommonLoading","StatusIcon","styles","checkboxClassname","MultiSelectOption","onIgnoredClick","isIgnored","Selection","SingleSelect","translate","prop","interpolationObject","SingleSelectField","required","helpText","inputWidth","Box","SingleSelectOption","SwitchRegular","_document$documentEle","_document$documentEle2","Switch","role","TextArea","textarea","oldWidth","oldHeight","newWidth","newHeight","offset","height","readOnly","resize","rows","width","TextAreaField","autoGrow","isString","composeValidators","_len2","_key2","hasValueMessage","hasValue","URL_PATTERN","invalidUrlMessage","url","toPrefixedThemeSection","themeSectionKey","prefixed","toCustomPropertyString","themeSection","CssVariables","allowedProps","variables","useQueryExecutor","execute","initialVariables","singular","onComplete","onError","theExecute","useStaticInput","abortControllersRef","abort","useCallback","controller","manualAbort","FetchError","refetch","newVariables","useDataMutation","mutation","lazy","engine","useDataEngine","theMutation","called","getArrowPosition","popperPlacement","ARROW_SIZE","Arrow","forwardRef","hidden","BORDER_RADIUS","computeArrowPadding","overflowInPx","padding","hideArrowWhenDisplaced","halfArrow","displacement","referenceRect","shouldHideArrow","combineModifiers","arrow","arrowElement","resizeObservers","baseModifiers","getBaseModifiers","Popover","reference","elevation","observePopperResize","observeReferenceResize","onClickOutside","referenceElement","getReferenceElement","popperElement","setPopperElement","setArrowElement","modifiers","useMemo","attributes","usePopper","sharedPropTypes.popperPlacementPropType","sharedPropTypes.popperReferencePropType","ACCESS_NONE","ACCESS_VIEW_ONLY","ACCESS_VIEW_AND_EDIT","SHARE_TARGET_EXTERNAL","SHARE_TARGET_PUBLIC","SHARE_TARGET_USER","SHARE_TARGET_GROUP","DIALOG_TYPES","DIALOG_TYPES_LIST","FetchingContext","createContext","convertAccessStringToConstant","access","convertAccessToConstantObject","accessString","metadataAccessString","dataAccessString","convertConstantToAccessString","constant","convertConstantObjectToAccess","accessObject","replaceAccessWithConstant","permanentTargets","isRemovableTarget","target","createOnChangePayload","object","id","userGroupAccesses","group","userAccesses","user","createOnAddPayload","createOnRemovePayload","fiTranslations","neTranslations","Modal","onClose","title","Dhis2Modal","ModalTitle","ModalContent","ModalActions","ButtonStrip","Button","Tab","tabRef","isOverflowing","setIsOverflowing","isOverflow","DURATION","SCROLL_STEP","animatedSideScroll","scrollBox","goBackwards","startValue","endValue","getEndValue","step","createFrameStepper","scrollDistance","startTimestamp","elapsedTime","scrollValue","timestamp","easeInOutQuad","currentTime","horizontalScrollbarHeight","detectHorizontalScrollbarHeight","style","el","ScrollButton","ScrollBar","scrollArea","areaWidth","boxWidth","hideScrollButtons","scrollLeft","areaOffsetWidth","scrolledToStart","scrolledToEnd","scrollBoxEl","tab","tabEnd","hideScrollButtonsInitialized","hideScrollButtonsState","IconChevronLeft16","IconChevronRight16","Tabs","fixed","tabContainer","childrenRefs","currentFocus","currentIndex","nextIndex","prevIndex","TabBar","scrollable","hasActiveObservations","ro","hasSkippedObservations","msg","deliverResizeLoopError","ResizeObserverBoxOptions","freeze","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","x","y","_a","top","right","bottom","left","rectangle","isSVG","isHidden","_b","offsetHeight","isElement","scope","isReplacedElement","global","cache","scrollRegexp","verticalRegexp","IE","parseDimension","pixel","size","switchSizes","zeroBoxes","calculateBoxSizes","forceRecalculation","cs","svg","removePadding","canScrollVertically","canScrollHorizontally","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderRight","borderBottom","borderLeft","horizontalPadding","verticalPadding","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","verticalScrollbarThickness","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","calculateBoxSize","observedBox","borderBoxSize","contentBoxSize","devicePixelContentBoxSize","ResizeObserverEntry","calculateDepthForNode","node","depth","parent","broadcastActiveObservations","shallowestDepth","callbacks","ot","targetDepth","_i","callbacks_1","gatherActiveObservationsAtDepth","process","trigger","cb","queueMicroTask","toggle_1","el_1","queueResizeObserver","watching","isWatching","CATCH_PERIOD","observerConfig","events","time","scheduled","Scheduler","until","elementsHaveResized","scheduler","updateCount","skipNotifyOnElement","ResizeObservation","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","observationTargets","ResizeObserverController","detail","firstObservation","lastObservation","ResizeObserver","usePassiveLayoutEffect","storedValue","Polyfill","useResizeObserver","getResizeObserver","storedCallback","useLayoutEffect","didUnsubscribe","targetEl","observer","createResizeObserver","ticking","allEntries","obs","triggered","cbs","_callbacks$get","_callbacks$get2","cbIndex","_resizeObserver","useSize","setSize","_options$initialWidth","_options$initialHeigh","MenuPopup","menuRef","Card","Autocomplete","onSearch","onSelect","search","searchResults","wrapper","offline","useDhis2ConnectionStatus","MenuItem","query","SharingAutocomplete","_data$search","_data$search2","onSelection","setSearch","showResults","setShowResults","fetching","useDataQuery","debouncedRefetch","results","mapped","Title","AccessAdd","onAdd","dataSharing","isFetching","useContext","entity","setEntity","dataAccess","setDataAccess","metadataAccess","setMetadataAccess","accessOptionsMetadata","accessOptionsData","DestructiveSelectOption","LABELS","ListItemContext","_LABELS$target","ListItemIcon","IconWorld24","IconUserGroup24","UserAvatar","isRemoveEnabled","accessOtherField","ListItem","accessOptions","allUsersItem","valueToLabel","Divider","AccessList","publicAccess","allowPublicAccess","users","groups","newAccess","getVisualizationsCount","dashboardItems","keep","item","getResultMessage","itemsCount","visualizationsCount","hasErrors","updatedItems","getInfoMessage","entityAmount","ResultInfo","NoticeBox","UpdateInfo","dashboard","Controls","_mutationResult$error","setCalled","mutating","setMutating","mutationResult","setMutationResult","StaticInfo","CascadeSharing","TabbedContent","activeTabIndex","setActiveTabIndex","emptyFunction","defaultInitialSharingSettings","mapInitialSharingSettings","originalSharingSettings","mappedSharingSettings","SharingDialog","onSave","initialSharingSettings","showError","useAlert","mappedInitialSharingSettings","newType","newId","_ref6","changedType","changedId","_ref7","removedType","removedId","TableContext","Consumer","Provider","tableStyles","Table","suppressZebraStriping","TableBody","TableHead","tableCellStyles","TableCell","colSpan","rowSpan","tableCellHeadStyles","TableCellHead","tableRowStyles","TableRow","suppressZebraStripingFromContext","zebraStriping","layout","borderless","_defaultExport","rtlCorrespondingAlignments","TableDataCell","_rtlCorrespondingAlig","align","backgroundColor","bordered","large","muted","staticStyle","rtlAlign","stylePropType","AUTO","TableHeaderCell","TableHeaderCellAction","draggable","TableScrollBox","DataTable","scrollHeight","scrollWidth","table","DataTableCell","tag","requiredIfFixedPropType","resolvedTableHeaderCss","FilterHandle","filterIconColor","clickHandler","IconSearch16","ASC","DESC","DEFAULT","SORT_DIRECTIONS","getNextSortDirection","currentDirection","Sorter","sortDirection","nextSortDirection","flexboxAlignLookup","DataTableColumnHeader","showFilter","sortIconTitle","onFilterIconClick","onSortIconClick","resolvedCss","DragHandleCell","IconDragHandle24","pointer","ExpandHandleCell","expanded","IconChevronUp24","IconChevronDown24","cellClassName","ExpandedRow","setIsHoveringExpandedContent","DataTableRow","expandableContent","onExpandToggle","isHoveringExpandedContent","childCount","addResources","dist","serialize","cookieNameRegExp","cookieValueRegExp","domainValueRegExp","pathValueRegExp","__toString","NullObject","C","str","len","dec","decode","eqIdx","colonIdx","endIdx","keyStartIdx","startIndex","keyEndIdx","endIndex","valStartIdx","valEndIdx","max","code","min","val","enc","isDate","PopStateEventType","createHashHistory","createHashLocation","window2","globalHistory","pathname","hash","parsePath","createLocation","createHashHref","base","href2","hashIndex","createPath","validateHashLocation","location","getUrlBasedHistory","invariant","cond","createKey","getHistoryState","parsedPath","searchIndex","getLocation","createHref2","validateLocation","v5Compat","action","listener","getIndex","handlePop","delta","history","push","historyState","replace2","createURL","matchRoutes","routes","locationArg","basename","matchRoutesImpl","allowPartial","stripBasename","branches","flattenRoutes","rankRouteBranches","matches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","joinPaths","routesMeta","computeScore","exploded","explodeOptionalSegments","segments","first","isOptional","restExploded","subpath","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","score","segment","branch","matchedParams","matchedPathname","end","remainingPathname","matchPath","normalizePathname","pattern","matcher","compiledParams","compilePath","pathnameBase","captureGroups","memo2","paramName","splatValue","caseSensitive","params","regexpSource","v","nextChar","resolvePath","fromPathname","toPathname","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","char","getPathContributingMatches","getResolveToMatches","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","routePathnameIndex","toSegments","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React.createContext","DataRouterStateContext","ViewTransitionContext","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","RouteErrorContext","useHref","relative","useInRouterContext","navigator2","React2.useContext","useResolvedPath","joinedPathname","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","React2.useLayoutEffect","useNavigate","isDataRoute","useNavigateStable","useNavigateUnstable","dataRouterContext","routePathnamesJson","activeRef","React2.useRef","React2.useCallback","OutletContext","React2.createContext","useOutlet","outlet","React2.createElement","useParams","routeMatch","React2.useMemo","useRoutes","useRoutesImpl","dataRouterState","future","isStatic","parentMatches","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","DefaultErrorComponent","useRouteError","stack","lightgrey","preStyles","codeStyles","devInfo","React2.Fragment","defaultErrorElement","RenderErrorBoundary","React2.Component","errorInfo","RenderedRoute","routeContext","errorIndex","m","renderFallback","fallbackIndex","loaderData","errors2","needsToRunLoader","shouldRenderHydrateFallback","errorElement","hydrateFallbackElement","matches2","getChildren","getDataRouterConsoleError","hookName","useDataRouterContext","ctx","useDataRouterState","useRouteContext","useCurrentRouteId","thisRoute","useRouteId","routeId","router","alreadyWarned","React3.memo","DataRoutes","Outlet","Route","_props","Router","basenameProp","locationProp","navigationType","staticProp","navigationContext","React3.useMemo","locationContext","trailingPathname","React3.createElement","Routes","createRoutesFromChildren","React3.Children","element","React3.isValidElement","treePath","React3.Fragment","defaultMethod","defaultEncType","isHtmlElement","isButtonElement","isFormElement","isInputElement","isModifiedEvent","shouldProcessLinkClick","_formDataSupportsSubmitter","isFormDataSubmitterSupported","supportedFormEncTypes","getFormEncType","encType","getFormSubmissionInfo","method","formData","body","attr","invariant2","loadRouteModule","routeModulesCache","routeModule","isHtmlLinkDescriptor","getKeyedPrefetchLinks","manifest","routeModules","links","mod","dedupeLinkDescriptors","link","getNewMatchesForLinks","page","nextMatches","currentMatches","mode","isNew","matchPathChanged","manifestRoute","routeChoice","getModuleLinkHrefs","includeHydrateFallback","dedupeHrefs","hrefs","sortKeys","sorted","descriptors","preloads","set","deduped","descriptor","singleFetchUrl","reqUrl","useDataRouterContext2","React9.useContext","useDataRouterStateContext","FrameworkContext","React9.createContext","useFrameworkContext","usePrefetchBehavior","prefetch","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","React9.useState","shouldPrefetch","setShouldPrefetch","onMouseEnter","onMouseLeave","onTouchStart","React9.useRef","React9.useEffect","setIntent","cancelIntent","composeEventHandlers","theirHandler","ourHandler","PrefetchPageLinks","dataLinkProps","React9.useMemo","React9.createElement","PrefetchPageLinksImpl","useKeyedPrefetchLinks","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","linkProps","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","m2","moduleHrefs","React9.Fragment","mergeRefs","refs","isBrowser","HashRouter","historyRef","React10.useRef","setStateImpl","React10.useState","React10.useCallback","newState","React10.startTransition","React10.useLayoutEffect","React10.createElement","ABSOLUTE_URL_REGEX2","Link","React10.forwardRef","discover","reloadDocument","preventScrollReset","viewTransition","forwardedRef","React10.useContext","isAbsolute","absoluteHref","isExternal","currentUrl","targetUrl","prefetchRef","prefetchHandlers","internalOnClick","useLinkClickHandler","handleClick","React10.Fragment","NavLink","ariaCurrentProp","classNameProp","styleProp","routerState","isTransitioning","useViewTransitionState","nextLocationPathname","endSlashPosition","isPending","ariaCurrent","Form","fetcherKey","navigate","submit","useSubmit","formAction","useFormAction","formMethod","submitHandler","submitter","submitMethod","getDataRouterConsoleError2","useDataRouterContext3","replaceProp","fetcherId","getUniqueFetcherId","currentRouteId","indexValues","qs","opts","vtContext","currentPath","nextPath","AuthoritiesSelect","selectedAuthorities","authorities","allAuthorities","jsx","map","authority","CustomHeadersAdmin","headers","setHeaders","headerNameToAdd","setHeaderNameToAdd","headerValueToAdd","setHeaderValueToAdd","addHeader","removeHeader","headerName","newHeaders","jsxs","headersTable","Object","length","IconDelete16","addHeaderRow","RouteAuthAdmin","authConfig","updateAuthConfig","Fragment","undefined","username","password","token","createRouteMutation","resource","updateRouteMutation","listAuthoritiesQuery","pageSize","getRouteQuery","formatError","err","messages","details","response","errorReports","friendlyMessage","join","UpsertRoute","authoritiesData","routeData","setRoute","systemAuthorities","setLoading","show","nsSeparator","success","critical","createRoute","mutateRoute","auth","formTitle","breadcrumb","breadcrumbLink","ReactFinalForm.Form","formContainer","formDescription","ReactFinalForm.Field","update","typesMap","POST","DELETE","PUT","PATCH","TestRoute","closeModal","verb","setVerb","setBody","wildcard","setWildcard","queryParams","setQueryParams","setResult","handleTestRoute","queryPrefix","startsWith","mutationOptions","JSON","partial","console","hasWildCardPath","endsWith","stringify","RouteActions","showSharingDialog","deleteRoute","IconMore24","FlyoutMenu","IconEdit16","IconShare16","RoutesTable","showPermissionError","showTestRouteModal","toggleRoute","DataTableHead","DataTableBody","listStyle","routeActionsCell","enabled","IconLaunch16","deleteRouteMutation","listRoutesQuery","currentUser","RoutesList","sharingDialogId","setSharingDialogId","userHasPermissions","setUserHasPermissions","confirmDeleteAlert","actions","performDeleteRoute","hide","deleteFailAlert","updateFailAlert","refetchRoutesList","userAuthorities","includes","handleDeleteRoute","routeCode","isTestRouteModalVisible","activeRoute","setActiveRoute","handleShowSharingDialog","handleShowTestModal","onCloseTestModal","op","actionsStrip","tableContainerFooter","Root","isForm","CssReset","clx","container","containerForm","MyApp"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,166,167]}